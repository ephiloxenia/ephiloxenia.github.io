<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest App | e-Philoxenia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="fix-menu.css">
    <style>
        /* Additional mobile-specific styles */
        body {
            background-color: #f5f5f5;
            font-size: 0.9rem;
        }
        
        /* Blue theme modifications */
        .card-header.bg-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary)) !important;
        }
        
        .progress-bar.bg-primary {
            background: linear-gradient(to right, var(--primary-dark), var(--primary)) !important;
        }
        
        .bg-primary-light {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .text-primary {
            color: var(--primary) !important;
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px 15px;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: bounce 1.5s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
            margin-right: 0;
        }
        
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-8px);
            }
        }
        
        /* New styles for interactive features */
        .room-key-btn {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .room-key-btn:hover {
            color: var(--bs-primary);
        }
        
        .room-scene-btn.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 2px 5px rgba(41, 98, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .experience-categories {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .experience-categories::-webkit-scrollbar {
            display: none;
        }
        
        .date-selector, .time-selector {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .date-selector::-webkit-scrollbar, .time-selector::-webkit-scrollbar {
            display: none;
        }
        
        .text-truncate-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .favorite-btn.btn-danger {
            border-color: var(--bs-danger);
        }
        
        .service-status-card {
            border-left: 4px solid var(--primary);
        }
        
        /* Add some animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Make the app feel more interactive */
        .list-group-item, .btn, .form-check-input, .mobile-nav-item, .card {
            transition: all 0.2s ease;
        }
        
        .list-group-item:active {
            transform: scale(0.98);
        }
        
        .btn:active {
            transform: scale(0.95);
            opacity: 0.9;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        /* Make recommendation severity badges smaller */
        #recommendations-container .badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            white-space: nowrap;
            min-width: 75px;
            text-align: center;
        }
        
        /* Smooth scrolling for tabs */
        .tab-content {
            transition: none;
        }
        
        /* Improved chat container styling */
        .chat-container {
            height: calc(100vh - 300px); /* Reduced height to account for higher chat bar */
            min-height: 350px;
            position: relative;
            overflow: hidden; /* Ensure content doesn't overflow */
        }
        
        .chat-messages {
            overflow-y: auto;
            padding: 15px;
            padding-bottom: 80px; /* Increased padding to prevent chat messages from being hidden behind chat elements */
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure it takes full height of container */
            position: absolute; /* Position absolutely within container */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0; /* Remove bottom offset as we'll handle this with padding */
            /* Hide scrollbar but keep functionality */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .chat-messages::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .message {
            max-width: 95%; /* Increased from 80% to better fit app width */
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            word-break: break-word;
            position: relative; /* For AI label positioning */
            font-size: 0.85rem;
        }
        
        .message-bot {
            background-color: #f0f2f5;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            padding-top: 20px; /* Extra space for AI label */
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        /* Don't show AI label for human messages */
        .message-bot[data-is-human="true"] {
            padding-top: 10px; /* Regular padding for human messages */
        }
        
        .message-bot[data-is-human="true"]::before {
            display: none;
        }
        
        .message-user {
            background-color: #0d6efd;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .suggestion-btn {
            white-space: nowrap;
        }
        
        /* Reposition global chat bar higher */
        .global-chat-bar {
            position: fixed;
            bottom: 70px; /* Increased from default position to move higher */
            left: 0;
            right: 0;
            padding: 10px 15px;
            background-color: white;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
            margin-bottom: 5px; /* Add margin between chat bar and navigation */
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05); /* Add subtle shadow for better separation */
        }
        
        /* Improved human support option */
        .human-support-option {
            margin: 15px auto;
            text-align: center;
            width: 100%;
            padding: 10px;
            border-radius: 12px;
            background-color: rgba(235, 242, 255, 0.7);
            border: 1px dashed rgba(41, 98, 255, 0.3);
            transition: all 0.2s ease;
            position: relative;
            z-index: 5;
        }
        
        .human-support-option:hover {
            background-color: rgba(235, 242, 255, 0.9);
            border-color: rgba(41, 98, 255, 0.5);
        }
        
        .human-support-link {
            display: inline-block;
            color: var(--primary);
            font-weight: 500;
            text-decoration: none;
            padding: 5px 15px;
            cursor: pointer;
            border-radius: 20px;
            transition: background-color 0.2s ease;
        }
        
        .human-support-link:hover {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .human-support-link i {
            margin-right: 5px;
        }
        
        /* Concierge agent avatar */
        .concierge-avatar {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 24px;
            height: 24px;
            background-color: #e83e8c;
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 12px;
            margin-right: 8px;
        }
        
        /* Service Tracking Styles */
        .progress-tracker {
            position: relative;
            margin: 15px 0;
        }
        
        .progress-step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        
        .progress-step-icon {
            width: 24px;
            height: 24px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-step-label {
            font-size: 10px;
            white-space: nowrap;
        }
        
        .progress-step.completed .progress-step-icon {
            color: var(--bs-success);
        }
        
        .progress-step.active .progress-step-icon {
            color: var(--bs-primary);
            animation: spin 2s linear infinite;
        }
        
        /* Fix for order tracking modal */
        #orderTabsContent {
            min-height: 300px;
        }
        
        /* Fix Bootstrap tab behavior in the service tracker modal */
        #serviceTrackerModal .tab-pane {
            opacity: 1;
        }
        
        #serviceTrackerModal .fade:not(.show) {
            opacity: 1;
            display: none;
        }
        
        /* Service Section New Styles */
        .quick-action-btn {
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
            min-height: 70px;
            padding: 8px;
            text-align: center;
        }
        
        .quick-action-btn i {
            margin-bottom: 5px;
        }
        
        .quick-action-btn span {
            display: block;
            margin-top: 3px;
            white-space: normal;
            font-size: 0.85rem;
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        /* Διόρθωση για τις προτάσεις του AI Assistant */
        .suggestion-btn {
            white-space: normal;
            text-align: left;
            line-height: 1.3;
            min-height: 40px;
            padding: 8px 12px;
            margin-bottom: 8px;
            display: block;
            width: 100%;
            word-wrap: break-word;
        }
        
        .smart-recommendation-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(13, 110, 253, 0.1);
        }
        
        .smart-recommendations .list-group-item {
            transition: all 0.2s ease;
            border-left: 0;
            border-right: 0;
        }
        
        .smart-recommendations .list-group-item:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .food-item {
            transition: all 0.2s ease;
        }
        
        .food-item:hover {
            background-color: #f8f9fa;
        }
        
        .food-options {
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control {
            max-width: 100px;
            margin-left: auto;
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control .form-control {
            text-align: center;
            border-left: 0;
            border-right: 0;
        }
        
        .rating-star {
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0 2px;
        }
        
        .rating-star:hover {
            transform: scale(1.2);
        }
        
        .recommended-badge {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
        }
        
        .service-status-card {
            transition: all 0.3s ease;
        }
        
        .delivery-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delivery-progress-bar {
            height: 6px;
        }
        
        /* Animation for the spinner icon */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Toast animation */
        .toast.show {
            animation: slideInTop 0.3s forwards;
        }
        
        /* Ensure toast notifications appear above all other elements */
        .toast-container {
            z-index: 9999 !important; /* Higher than any other element */
            position: fixed;
            pointer-events: none; /* Allow clicking through the container, but not the toasts */
            margin-top: 60px; /* Add margin to avoid overlapping with header */
        }
        
        .toast {
            pointer-events: auto; /* Make the toast itself clickable */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 350px; /* Make toast wider */
            background-color: #ffffff;
            border-left: 4px solid var(--bs-primary); /* Colored left border */
            font-size: 0.9rem; /* Slightly larger text */
        }
        
        .toast-header {
            border-bottom: none;
            background-color: #ffffff;
        }
        
        .toast-body {
            padding: 0.75rem 1rem; /* Slightly more padding */
        }
        
        /* Apply different border colors based on notification type */
        .toast[data-type="success"] {
            border-left-color: var(--bs-success);
        }
        
        .toast[data-type="danger"] {
            border-left-color: var(--bs-danger);
        }
        
        .toast[data-type="warning"] {
            border-left-color: var(--bs-warning);
        }
        
        .toast[data-type="info"] {
            border-left-color: var(--bs-info);
        }
        
        @keyframes slideInTop {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Map marker pulse animation */
        .pulse-animation {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Tour hotspot styles */
        .tour-hotspot {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.5);
            transition: all 0.2s ease;
        }
        
        .tour-hotspot i {
            color: var(--bs-primary);
        }
        
        .tour-hotspot:hover {
            transform: scale(1.1);
            background-color: white;
        }
        
        .hotspot-tooltip {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .tour-hotspot:hover .hotspot-tooltip {
            opacity: 1;
        }
        
        .tour-navigation {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .tour-nav-btn {
            opacity: 0.8;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .map-marker {
            position: absolute;
            z-index: 10;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .map-marker:hover {
            transform: scale(1.2);
        }
        
        .current-location {
            position: absolute;
            z-index: 20;
        }
        
        .floor-map {
            position: relative;
        }
        
        /* Room Controls Enhancements */
        .room-scene-btn {
            transition: all 0.25s ease;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        .room-scene-btn:hover:not(.active) {
            background-color: rgba(13, 110, 253, 0.03);
        }
        
        .preset-btn {
            border-radius: 10px;
            transition: all 0.25s ease;
            border-width: 1px;
            height: 100%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            text-align: left;
        }
        
        .preset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-color: var(--bs-primary);
        }
        
        .preset-btn i {
            color: var(--bs-primary);
        }
        
        /* Custom slider styling */
        .form-range {
            height: 6px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 30%, #ff6b6b 70%, #ff6b6b 100%);
            border-radius: 3px;
        }
        
        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .form-range::-webkit-slider-runnable-track {
            height: 6px;
            border-radius: 10px;
            background: linear-gradient(to right, #cce5ff, #0d6efd);
        }
        
        .form-range:focus {
            outline: none;
        }
        
        /* Enhanced form switch */
        .form-check-input {
            cursor: pointer;
            width: 45px;
            height: 22px;
        }
        
        .form-check-input:checked {
            background-color: var(--bs-primary);
            border-color: var(--bs-primary);
        }
        
        /* Make modals feel more responsive */
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-content {
            animation: modalFadeIn 0.3s forwards;
        }
        
        /* Temperature indicator styles */
        .temp-indicator {
            position: absolute;
            top: -30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bs-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translateX(-50%);
            pointer-events: none;
            transition: left 0.1s ease-out, background-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 5;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .temp-indicator::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 10px;
            height: 10px;
            background: inherit;
        }
        
        .temp-indicator-value {
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        /* Temperature colors */
        .temp-cool {
            color: #4dabf7;
        }
        
        .temp-moderate {
            color: #2ecc71;
        }
        
        .temp-warm {
            color: #f39c12;
        }
        
        .temp-hot {
            color: #ff6b6b;
        }
        
        /* Fix for strikethrough on disabled switches */
        .form-check-label {
            text-decoration: none !important;
        }
        
        /* Reduced font sizes for guest app */
        h4, .h4 {
            font-size: 1.3rem;
        }
        
        h5, .h5 {
            font-size: 1.1rem;
        }
        
        .mobile-header-alt .small, .welcome-card .small {
            font-size: 0.75rem;
        }
        
        .quick-action-btn .small {
            font-size: 0.7rem;
        }
        
        .fw-medium {
            font-size: 0.85rem;
        }
        
        .welcome-card h4 {
            font-size: 1.2rem;
        }
        
        .room-temp {
            font-size: 0.75rem;
        }
        
        .room-scene-btn {
            font-size: 0.8rem;
        }
        
        .text-muted.small {
            font-size: 0.7rem;
        }
        
        body {
            font-size: 0.9rem;
        }
        
        p {
            font-size: 0.85rem;
        }
        
        .card-title {
            font-size: 1.05rem;
        }
        
        .card-text {
            font-size: 0.85rem;
        }
        
        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .form-label {
            font-size: 0.8rem;
        }
        
        .btn {
            font-size: 0.85rem;
        }

        .services-toolbar {
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .scrollable-tabs {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .scrollable-tabs::-webkit-scrollbar {
            display: none;
        }

        .services-toolbar .nav-link {
            white-space: nowrap;
            padding: 8px 16px;
            color: #6c757d;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .services-toolbar .nav-link:hover {
            background-color: #f8f9fa;
        }

        .services-toolbar .nav-link.active {
            background: linear-gradient(135deg, #001e52, #0c3b80);
            color: white;
        }

        .control-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .control-section:hover {
            background: #f1f3f5;
        }

        .form-range {
            height: 6px;
            background: linear-gradient(to right, #e9ecef 0%, #e9ecef 100%);
            border-radius: 3px;
        }

        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #001e52;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .form-check-input:checked {
            background-color: #001e52;
            border-color: #001e52;
        }

        .btn-outline-primary {
            border-color: #001e52;
            color: #001e52;
        }

        .btn-outline-primary:hover {
            background-color: #001e52;
            color: #fff;
        }

        .temperature-slider {
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 50%, #ff6b6b 50%, #ff6b6b 100%);
        }

        .temperature-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temperature-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .temperature-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temp-cold { color: #4dabf7; }
        .temp-hot { color: #ff6b6b; }

        /* Add new styles */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
            z-index: 1000;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
        }

        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .assistant-nav-item {
            color: #001e52;
            position: relative;
            padding: 8px 20px;
        }

        .assistant-nav-item i {
            font-size: 1.6rem;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }

        .assistant-nav-item small {
            font-weight: 500;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .assistant-nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .assistant-nav-item:hover::before,
        .assistant-nav-item.active::before {
            width: 30px;
        }

        .assistant-nav-item:hover i,
        .assistant-nav-item.active i {
            transform: translateY(-2px);
        }

        .assistant-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        /* Add padding to main content to account for bottom nav */
        .mobile-content {
            padding-bottom: 80px;
        }

        .mobile-header .btn-link {
            transition: all 0.3s ease;
            position: relative;
        }

        .mobile-header .btn-link:hover {
            transform: translateY(-2px);
        }

        .mobile-header .btn-link:active {
            transform: translateY(0);
        }

        .mobile-nav {
            justify-content: space-evenly;
            padding: 12px 40px;
        }

        .latest-request {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .request-icon {
            width: 45px;
            height: 45px;
            background: rgba(13, 110, 253, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Quick Actions Bar Styles */
        .quick-actions-bar {
            background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(255,255,255,0.98));
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin: 15px 0;
        }

        .quick-actions-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-left: 5px;
        }

        .service-btn {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            background: white;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            color: #2c3e50;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-right: 8px;
            white-space: nowrap;
        }

        .service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-color: rgba(13, 110, 253, 0.3);
            color: #0d6efd;
        }

        .service-btn.active {
            background: linear-gradient(135deg, #0d6efd, #0a58ca);
            color: white;
            border-color: transparent;
        }

        .service-icon {
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .service-label {
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Remove Active Requests Widget styles */
        .requests-widget,
        .requests-header,
        .requests-title,
        .requests-count,
        .request-items,
        .request-item,
        .request-icon,
        .request-info,
        .request-title,
        .request-status,
        .request-time,
        .view-all-btn {
            display: none;
        }

        /* Improved message styling */
        .message-bot {
            position: relative;
            padding-top: 20px !important;
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        .message-bot[data-is-human="true"] {
            background-color: #fff0f7 !important;
            padding-top: 10px !important;
        }
        
        .message-bot[data-is-human="true"]::before {
            content: 'Concierge';
            background-color: #e83e8c;
            color: white;
            padding: 0 5px;
            border-radius: 4px;
            font-size: 8px;
        }
        
        /* Make sure the chat messages are scrollable */
        #concierge-content {
            height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
        }
        
        /* Make sure the chat container takes the full height */
        #concierge-content .chat-container {
            flex: 1;
            position: relative;
            height: auto !important;
        }
        
        /* Experience Categories Styles */
        .experience-categories {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Moments Tab Styles */
        .create-moment-btn {
            width: 45px;
            height: 45px;
            box-shadow: 0 4px 12px rgba(var(--bs-primary-rgb), 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Stories styles */
        .stories-container {
            overflow-x: auto;
            white-space: nowrap;
            padding: 10px 0;
            margin-bottom: 15px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: inline-block;
            margin-right: 12px;
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .story-item:active {
            transform: scale(0.95);
        }
        
        .story-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            padding: 3px;
            margin-bottom: 5px;
            position: relative;
        }
        
        .story-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .story-avatar.has-story {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }
        
        .story-avatar.viewed {
            background: #ddd;
        }
        
        .story-title {
            font-size: 0.7rem;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .my-story .add-story {
            position: absolute;
            bottom: 15px;
            right: 0;
            background: #4e73df;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 2px solid white;
        }
        
        /* Story view modal */
        .story-view-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: black;
            display: flex;
            flex-direction: column;
        }
        
        .story-header {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            z-index: 1000;
        }
        
        .story-user-info {
            display: flex;
            align-items: center;
        }
        
        .story-user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .story-user-name {
            font-weight: 500;
        }
        
        .story-time {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        
        .story-progress-container {
            display: flex;
            position: absolute;
            top: 8px;
            left: 15px;
            right: 15px;
            z-index: 1000;
        }
        
        .story-progress {
            height: 3px;
            background: rgba(255,255,255,0.3);
            flex: 1;
            margin: 0 2px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .story-progress-bar {
            height: 100%;
            width: 0;
            background: white;
            border-radius: 3px;
        }
        
        .story-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .story-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .story-text {
            position: absolute;
            bottom: 50px;
            left: 15px;
            right: 15px;
            color: white;
            text-align: center;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .story-nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
        }
        
        .story-prev, .story-next {
            flex: 1;
        }
        
        .story-actions {
            display: flex;
            padding: 15px;
            align-items: center;
            justify-content: space-between;
            color: white;
        }
        
        .story-reply {
            display: flex;
            flex: 1;
            margin-right: 10px;
        }
        
        .story-reply input {
            flex: 1;
            border: none;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 8px 15px;
            color: white;
        }
        
        .story-buttons button {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            margin-left: 15px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .story-buttons button:hover {
            opacity: 1;
        }
        
        /* Better buttons styling */
        .btn {
            border-radius: 8px;
            padding: 8px 16px;
            transition: all 0.3s;
            font-weight: 500;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .btn-sm {
            padding: 5px 12px;
            font-size: 0.8rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4e73df, #224abe);
        }
        
        .btn-primary:hover, .btn-primary:focus {
            background: linear-gradient(135deg, #3a5ccc, #1a3aa0);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn-primary:active {
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .btn-outline-primary {
            color: #4e73df;
            border: 1px solid #4e73df;
            background: white;
        }
        
        .btn-outline-primary:hover, .btn-outline-primary:focus {
            background: #f0f4ff;
            color: #224abe;
            transform: translateY(-1px);
        }
        
        .moments-tab-btn.active {
            color: #4e73df !important;
            position: relative;
        }
        
        .moments-tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #4e73df;
            border-radius: 3px;
        }
        
        .reaction-btn.active {
            background-color: #f0f4ff;
        }
        
        /* Card and UI improvements */
        .card {
            border-radius: 12px;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .card-header {
            border-bottom: none;
            padding: 15px 20px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            background-color: #f9f9f9;
            transition: all 0.3s;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #4e73df;
            box-shadow: 0 0 0 3px rgba(78, 115, 223, 0.15);
            background-color: white;
        }
        
        .modal-content {
            border-radius: 12px;
            border: none;
            overflow: hidden;
        }
        
        .modal-header {
            border-bottom: none;
            padding: 20px;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            border-top: none;
            padding: 15px 20px 20px;
        }
        
        /* Icons styling */
        .bi {
            vertical-align: -0.125em;
        }
        
        /* Responsive improvements */
        @media (max-width: 576px) {
            .card-body {
                padding: 15px;
            }
            
            .btn {
                padding: 7px 14px;
            }
        }
        
        /* Story View Styles */
        .story-modal-content {
            background: linear-gradient(135deg, #614385, #516395);
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .story-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            z-index: 10;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-progress-container {
            position: absolute;
            top: 4rem;
            left: 0;
            right: 0;
            padding: 0 1rem;
            z-index: 10;
        }
        
        .story-progress {
            display: flex;
            gap: 4px;
        }
        
        .story-progress-bar {
            height: 3px;
            background-color: rgba(255,255,255,0.3);
            flex-grow: 1;
            border-radius: 3px;
        }
        
        .story-progress-bar.active {
            background-color: #fff;
            animation: progress 5s linear forwards;
        }
        
        @keyframes progress {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .story-content {
            height: 100%;
            position: relative;
        }
        
        .story-slide {
            display: none;
            height: 100%;
            position: relative;
        }
        
        .story-slide.active {
            display: block;
        }
        
        .story-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .story-caption {
            position: absolute;
            bottom: 6rem;
            left: 0;
            right: 0;
            padding: 1rem;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-location {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
        }
        
        .story-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 1rem;
            z-index: 5;
        }
        
        .btn-story-nav {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            opacity: 0.6;
            transition: opacity 0.2s;
        }
        
        .btn-story-nav:hover {
            opacity: 1;
        }
        
        .story-reactions {
            display: flex;
            gap: 1rem;
        }
        
        .btn-reaction {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        
        .btn-reaction:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .btn-reaction[data-reaction="love"]:hover {
            color: #ff5b5b;
        }
        
        .btn-reaction[data-reaction="wow"]:hover {
            color: #ffce54;
        }
        
        .btn-reaction[data-reaction="clap"]:hover {
            color: #4cd964;
        }
        
        .story-reply {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            right: 1rem;
            z-index: 10;
        }
        
        .story-reply .form-control {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            border-radius: 20px;
        }
        
        .story-reply .form-control::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .story-reply .btn {
            border-radius: 20px;
        }
        
        /* Stories Row Improvements */
        .stories-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 5px;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            position: relative;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            min-width: 80px;
            transition: transform 0.2s;
        }
        
        .story-item:hover {
            transform: translateY(-5px);
        }
        
        .story-avatar {
            width: 66px;
            height: 66px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 5px;
            background: #f8f9fa;
            overflow: hidden;
        }
        
        .story-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #fd1d1d, #833ab4, #fcb045);
            z-index: -1;
        }
        
        .story-avatar.highlight::before {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .story-avatar.staff-pick::before {
            background: linear-gradient(45deg, #FFD700, #FFA500);
        }
        
        .story-avatar img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }
        
        .story-item span {
            font-size: 0.7rem;
            font-weight: 500;
            color: #666;
            max-width: 80px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-align: center;
        }
        
        .my-story .story-avatar {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .my-story .story-avatar i {
            font-size: 1.5rem;
        }
        
        .create-story-btn {
            background: none;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #8952e0;
        }
        
        /* Onboarding Modal Styles */
        .onboarding-slider {
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .onboarding-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            background: white;
        }
        
        .onboarding-slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .onboarding-content {
            max-width: 400px;
        }
        
        .onboarding-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }
        
        .onboarding-icon i {
            background: #f0f4ff;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .onboarding-controls {
            position: absolute;
            bottom: 2rem;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            z-index: 10;
        }
        
        .onboarding-dots {
            display: flex;
            gap: 8px;
        }
        
        .onboarding-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s;
        }
        
        .onboarding-dot.active {
            width: 24px;
            border-radius: 4px;
            background-color: #6a11cb;
        }
        
        /* Mood Filter Chips */
        .mood-filter-chips {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 5px;
            -webkit-overflow-scrolling: touch;
        }
        
        .mood-filter-chips::-webkit-scrollbar {
            display: none;
        }
        
        .mood-chip {
            white-space: nowrap;
            transition: all 0.2s;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .mood-chip.active {
            background: #8952e0;
            color: white;
        }
        
        .mood-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        /* Staff Pick Styling */
        .staff-pick-card {
            position: relative;
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .staff-pick-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .staff-pick-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .location-badge {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
        }
        
        /* Create Moment Button Improvements */
        .create-moment-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            z-index: 1000;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            border: none;
            box-shadow: 0 4px 15px rgba(106, 17, 203, 0.4);
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(106, 17, 203, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0);
            }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* Moment Cards Improvements */
        .moment-card {
            border: none;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .moment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .moment-image {
            position: relative;
        }
        
        .user-avatar img {
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .moment-mood .mood-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }
        
        .mood-tag.relaxed {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .mood-tag.excited {
            background: linear-gradient(45deg, #FC5C7D, #6A82FB);
        }
        
        .mood-tag.thrilled {
            background: linear-gradient(45deg, #FF512F, #DD2476);
        }
        
        .moment-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .moment-stats {
            font-size: 0.9rem;
        }
        
        .reaction-btn, .moment-comment-btn, .moment-share-btn {
            transition: all 0.2s;
            border-width: 1.5px;
        }
        
        .reaction-btn:hover, .moment-comment-btn:hover, .moment-share-btn:hover {
            transform: translateY(-2px);
        }
        
        .reaction-btn.active[data-reaction="love"] {
            background-color: #ffeeee;
            border-color: #ff5b5b;
            color: #ff5b5b;
        }
        
        .reaction-btn.active[data-reaction="wow"] {
            background-color: #fff9e6;
            border-color: #ffce54;
            color: #ffce54;
        }
        
        .reaction-btn.active[data-reaction="yum"] {
            background-color: #ffeef6;
            border-color: #ff5b9e;
            color: #ff5b9e;
        }
        
        /* Προσβασιμότητα και Βελτιώσεις UI */
        .moments-tab-navigation {
            background: white;
            border-radius: 25px;
            padding: 0.5rem;
            margin: 0 0.5rem 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0.5rem;
            z-index: 100;
        }
        
        .tab-links {
            display: flex;
            justify-content: space-around;
        }
        
        .moments-tab-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .moments-tab-btn i {
            font-size: 1.3rem;
            margin-bottom: 0.2rem;
        }
        
        .moments-tab-btn.active {
            background: #f0f4ff;
        }
        
        .moments-tab-btn:hover {
            transform: translateY(-3px);
        }
        
        /* Animation for new reactions */
        @keyframes reaction-animation {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .reaction-animation {
            animation: reaction-animation 0.5s ease;
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #f2f2f2;
            }
            
            .card {
                background-color: #2a2a2a;
                color: #f2f2f2;
            }
            
            .moments-tab-navigation {
                background: #2a2a2a;
            }
            
            .moments-tab-btn.active {
                background: #383838;
            }
            
            .text-muted {
                color: #aaaaaa !important;
            }
            
            .bg-light {
                background-color: #333333 !important;
            }
            
            .text-dark {
                color: #f2f2f2 !important;
            }
            
            .mood-chip {
                background: #333333;
                color: #f2f2f2;
            }
        }
        
        /* Voice Control Accessibility */
        .voice-control-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #6a11cb;
            border: none;
            color: white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .voice-control-btn i {
            font-size: 1.2rem;
        }
        
        /* Larger Touch Targets for Better Accessibility */
        .btn, button {
            min-height: 44px;
            min-width: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .story-item, .story-avatar, .mood-chip {
            min-width: 44px;
            min-height: 44px;
        }
        
        /* Helper for touch devices */
        @media (hover: none) {
            .btn:active, button:active, .story-item:active, .moment-card:active {
                transform: scale(0.97);
            }
            
            .tooltip-touch {
                position: fixed;
                bottom: 70px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.9rem;
                z-index: 1100;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.3s;
            }
            
            .tooltip-touch.visible {
                opacity: 1;
            }
        }
        
        /* Loading Transitions */
        .moments-feed, .moments-explore, .moments-profile {
            transition: opacity 0.3s;
        }
        
        .loading {
            opacity: 0.7;
        }
        
        .loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
        
        .loading .loading-spinner {
            display: block;
        }
        
        /* Badges for Rewards */
        .badge-achievement {
            position: relative;
            display: inline-flex;
            align-items: center;
            border-radius: 20px;
            padding: 8px 15px;
            padding-left: 36px;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .badge-achievement:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .badge-achievement::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .badge-achievement.foodie::before {
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest App | e-Philoxenia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="fix-menu.css">
    <style>
        /* Additional mobile-specific styles */
        body {
            background-color: #f5f5f5;
            font-size: 0.9rem;
        }
        
        /* Blue theme modifications */
        .card-header.bg-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary)) !important;
        }
        
        .progress-bar.bg-primary {
            background: linear-gradient(to right, var(--primary-dark), var(--primary)) !important;
        }
        
        .bg-primary-light {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .text-primary {
            color: var(--primary) !important;
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px 15px;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: bounce 1.5s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
            margin-right: 0;
        }
        
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-8px);
            }
        }
        
        /* New styles for interactive features */
        .room-key-btn {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .room-key-btn:hover {
            color: var(--bs-primary);
        }
        
        .room-scene-btn.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 2px 5px rgba(41, 98, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .experience-categories {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .experience-categories::-webkit-scrollbar {
            display: none;
        }
        
        .date-selector, .time-selector {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .date-selector::-webkit-scrollbar, .time-selector::-webkit-scrollbar {
            display: none;
        }
        
        .text-truncate-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .favorite-btn.btn-danger {
            border-color: var(--bs-danger);
        }
        
        .service-status-card {
            border-left: 4px solid var(--primary);
        }
        
        /* Add some animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Make the app feel more interactive */
        .list-group-item, .btn, .form-check-input, .mobile-nav-item, .card {
            transition: all 0.2s ease;
        }
        
        .list-group-item:active {
            transform: scale(0.98);
        }
        
        .btn:active {
            transform: scale(0.95);
            opacity: 0.9;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        /* Make recommendation severity badges smaller */
        #recommendations-container .badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            white-space: nowrap;
            min-width: 75px;
            text-align: center;
        }
        
        /* Smooth scrolling for tabs */
        .tab-content {
            transition: none;
        }
        
        /* Improved chat container styling */
        .chat-container {
            height: calc(100vh - 300px); /* Reduced height to account for higher chat bar */
            min-height: 350px;
            position: relative;
            overflow: hidden; /* Ensure content doesn't overflow */
        }
        
        .chat-messages {
            overflow-y: auto;
            padding: 15px;
            padding-bottom: 80px; /* Increased padding to prevent chat messages from being hidden behind chat elements */
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure it takes full height of container */
            position: absolute; /* Position absolutely within container */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0; /* Remove bottom offset as we'll handle this with padding */
            /* Hide scrollbar but keep functionality */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .chat-messages::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .message {
            max-width: 95%; /* Increased from 80% to better fit app width */
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            word-break: break-word;
            position: relative; /* For AI label positioning */
            font-size: 0.85rem;
        }
        
        .message-bot {
            background-color: #f0f2f5;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            padding-top: 20px; /* Extra space for AI label */
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        /* Don't show AI label for human messages */
        .message-bot[data-is-human="true"] {
            padding-top: 10px; /* Regular padding for human messages */
        }
        
        .message-bot[data-is-human="true"]::before {
            display: none;
        }
        
        .message-user {
            background-color: #0d6efd;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .suggestion-btn {
            white-space: nowrap;
        }
        
        /* Reposition global chat bar higher */
        .global-chat-bar {
            position: fixed;
            bottom: 70px; /* Increased from default position to move higher */
            left: 0;
            right: 0;
            padding: 10px 15px;
            background-color: white;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
            margin-bottom: 5px; /* Add margin between chat bar and navigation */
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05); /* Add subtle shadow for better separation */
        }
        
        /* Improved human support option */
        .human-support-option {
            margin: 15px auto;
            text-align: center;
            width: 100%;
            padding: 10px;
            border-radius: 12px;
            background-color: rgba(235, 242, 255, 0.7);
            border: 1px dashed rgba(41, 98, 255, 0.3);
            transition: all 0.2s ease;
            position: relative;
            z-index: 5;
        }
        
        .human-support-option:hover {
            background-color: rgba(235, 242, 255, 0.9);
            border-color: rgba(41, 98, 255, 0.5);
        }
        
        .human-support-link {
            display: inline-block;
            color: var(--primary);
            font-weight: 500;
            text-decoration: none;
            padding: 5px 15px;
            cursor: pointer;
            border-radius: 20px;
            transition: background-color 0.2s ease;
        }
        
        .human-support-link:hover {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .human-support-link i {
            margin-right: 5px;
        }
        
        /* Concierge agent avatar */
        .concierge-avatar {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 24px;
            height: 24px;
            background-color: #e83e8c;
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 12px;
            margin-right: 8px;
        }
        
        /* Service Tracking Styles */
        .progress-tracker {
            position: relative;
            margin: 15px 0;
        }
        
        .progress-step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        
        .progress-step-icon {
            width: 24px;
            height: 24px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-step-label {
            font-size: 10px;
            white-space: nowrap;
        }
        
        .progress-step.completed .progress-step-icon {
            color: var(--bs-success);
        }
        
        .progress-step.active .progress-step-icon {
            color: var(--bs-primary);
            animation: spin 2s linear infinite;
        }
        
        /* Fix for order tracking modal */
        #orderTabsContent {
            min-height: 300px;
        }
        
        /* Fix Bootstrap tab behavior in the service tracker modal */
        #serviceTrackerModal .tab-pane {
            opacity: 1;
        }
        
        #serviceTrackerModal .fade:not(.show) {
            opacity: 1;
            display: none;
        }
        
        /* Service Section New Styles */
        .quick-action-btn {
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
            min-height: 70px;
            padding: 8px;
            text-align: center;
        }
        
        .quick-action-btn i {
            margin-bottom: 5px;
        }
        
        .quick-action-btn span {
            display: block;
            margin-top: 3px;
            white-space: normal;
            font-size: 0.85rem;
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        /* Διόρθωση για τις προτάσεις του AI Assistant */
        .suggestion-btn {
            white-space: normal;
            text-align: left;
            line-height: 1.3;
            min-height: 40px;
            padding: 8px 12px;
            margin-bottom: 8px;
            display: block;
            width: 100%;
            word-wrap: break-word;
        }
        
        .smart-recommendation-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(13, 110, 253, 0.1);
        }
        
        .smart-recommendations .list-group-item {
            transition: all 0.2s ease;
            border-left: 0;
            border-right: 0;
        }
        
        .smart-recommendations .list-group-item:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .food-item {
            transition: all 0.2s ease;
        }
        
        .food-item:hover {
            background-color: #f8f9fa;
        }
        
        .food-options {
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control {
            max-width: 100px;
            margin-left: auto;
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control .form-control {
            text-align: center;
            border-left: 0;
            border-right: 0;
        }
        
        .rating-star {
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0 2px;
        }
        
        .rating-star:hover {
            transform: scale(1.2);
        }
        
        .recommended-badge {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
        }
        
        .service-status-card {
            transition: all 0.3s ease;
        }
        
        .delivery-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delivery-progress-bar {
            height: 6px;
        }
        
        /* Animation for the spinner icon */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Toast animation */
        .toast.show {
            animation: slideInTop 0.3s forwards;
        }
        
        /* Ensure toast notifications appear above all other elements */
        .toast-container {
            z-index: 9999 !important; /* Higher than any other element */
            position: fixed;
            pointer-events: none; /* Allow clicking through the container, but not the toasts */
            margin-top: 60px; /* Add margin to avoid overlapping with header */
        }
        
        .toast {
            pointer-events: auto; /* Make the toast itself clickable */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 350px; /* Make toast wider */
            background-color: #ffffff;
            border-left: 4px solid var(--bs-primary); /* Colored left border */
            font-size: 0.9rem; /* Slightly larger text */
        }
        
        .toast-header {
            border-bottom: none;
            background-color: #ffffff;
        }
        
        .toast-body {
            padding: 0.75rem 1rem; /* Slightly more padding */
        }
        
        /* Apply different border colors based on notification type */
        .toast[data-type="success"] {
            border-left-color: var(--bs-success);
        }
        
        .toast[data-type="danger"] {
            border-left-color: var(--bs-danger);
        }
        
        .toast[data-type="warning"] {
            border-left-color: var(--bs-warning);
        }
        
        .toast[data-type="info"] {
            border-left-color: var(--bs-info);
        }
        
        @keyframes slideInTop {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Map marker pulse animation */
        .pulse-animation {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Tour hotspot styles */
        .tour-hotspot {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.5);
            transition: all 0.2s ease;
        }
        
        .tour-hotspot i {
            color: var(--bs-primary);
        }
        
        .tour-hotspot:hover {
            transform: scale(1.1);
            background-color: white;
        }
        
        .hotspot-tooltip {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .tour-hotspot:hover .hotspot-tooltip {
            opacity: 1;
        }
        
        .tour-navigation {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .tour-nav-btn {
            opacity: 0.8;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .map-marker {
            position: absolute;
            z-index: 10;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .map-marker:hover {
            transform: scale(1.2);
        }
        
        .current-location {
            position: absolute;
            z-index: 20;
        }
        
        .floor-map {
            position: relative;
        }
        
        /* Room Controls Enhancements */
        .room-scene-btn {
            transition: all 0.25s ease;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        .room-scene-btn:hover:not(.active) {
            background-color: rgba(13, 110, 253, 0.03);
        }
        
        .preset-btn {
            border-radius: 10px;
            transition: all 0.25s ease;
            border-width: 1px;
            height: 100%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            text-align: left;
        }
        
        .preset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-color: var(--bs-primary);
        }
        
        .preset-btn i {
            color: var(--bs-primary);
        }
        
        /* Custom slider styling */
        .form-range {
            height: 6px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 30%, #ff6b6b 70%, #ff6b6b 100%);
            border-radius: 3px;
        }
        
        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .form-range::-webkit-slider-runnable-track {
            height: 6px;
            border-radius: 10px;
            background: linear-gradient(to right, #cce5ff, #0d6efd);
        }
        
        .form-range:focus {
            outline: none;
        }
        
        /* Enhanced form switch */
        .form-check-input {
            cursor: pointer;
            width: 45px;
            height: 22px;
        }
        
        .form-check-input:checked {
            background-color: var(--bs-primary);
            border-color: var(--bs-primary);
        }
        
        /* Make modals feel more responsive */
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-content {
            animation: modalFadeIn 0.3s forwards;
        }
        
        /* Temperature indicator styles */
        .temp-indicator {
            position: absolute;
            top: -30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bs-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translateX(-50%);
            pointer-events: none;
            transition: left 0.1s ease-out, background-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 5;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .temp-indicator::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 10px;
            height: 10px;
            background: inherit;
        }
        
        .temp-indicator-value {
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        /* Temperature colors */
        .temp-cool {
            color: #4dabf7;
        }
        
        .temp-moderate {
            color: #2ecc71;
        }
        
        .temp-warm {
            color: #f39c12;
        }
        
        .temp-hot {
            color: #ff6b6b;
        }
        
        /* Fix for strikethrough on disabled switches */
        .form-check-label {
            text-decoration: none !important;
        }
        
        /* Reduced font sizes for guest app */
        h4, .h4 {
            font-size: 1.3rem;
        }
        
        h5, .h5 {
            font-size: 1.1rem;
        }
        
        .mobile-header-alt .small, .welcome-card .small {
            font-size: 0.75rem;
        }
        
        .quick-action-btn .small {
            font-size: 0.7rem;
        }
        
        .fw-medium {
            font-size: 0.85rem;
        }
        
        .welcome-card h4 {
            font-size: 1.2rem;
        }
        
        .room-temp {
            font-size: 0.75rem;
        }
        
        .room-scene-btn {
            font-size: 0.8rem;
        }
        
        .text-muted.small {
            font-size: 0.7rem;
        }
        
        body {
            font-size: 0.9rem;
        }
        
        p {
            font-size: 0.85rem;
        }
        
        .card-title {
            font-size: 1.05rem;
        }
        
        .card-text {
            font-size: 0.85rem;
        }
        
        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .form-label {
            font-size: 0.8rem;
        }
        
        .btn {
            font-size: 0.85rem;
        }

        .services-toolbar {
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .scrollable-tabs {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .scrollable-tabs::-webkit-scrollbar {
            display: none;
        }

        .services-toolbar .nav-link {
            white-space: nowrap;
            padding: 8px 16px;
            color: #6c757d;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .services-toolbar .nav-link:hover {
            background-color: #f8f9fa;
        }

        .services-toolbar .nav-link.active {
            background: linear-gradient(135deg, #001e52, #0c3b80);
            color: white;
        }

        .control-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .control-section:hover {
            background: #f1f3f5;
        }

        .form-range {
            height: 6px;
            background: linear-gradient(to right, #e9ecef 0%, #e9ecef 100%);
            border-radius: 3px;
        }

        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #001e52;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .form-check-input:checked {
            background-color: #001e52;
            border-color: #001e52;
        }

        .btn-outline-primary {
            border-color: #001e52;
            color: #001e52;
        }

        .btn-outline-primary:hover {
            background-color: #001e52;
            color: #fff;
        }

        .temperature-slider {
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 50%, #ff6b6b 50%, #ff6b6b 100%);
        }

        .temperature-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temperature-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .temperature-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temp-cold { color: #4dabf7; }
        .temp-hot { color: #ff6b6b; }

        /* Add new styles */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
            z-index: 1000;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
        }

        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .assistant-nav-item {
            color: #001e52;
            position: relative;
            padding: 8px 20px;
        }

        .assistant-nav-item i {
            font-size: 1.6rem;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }

        .assistant-nav-item small {
            font-weight: 500;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .assistant-nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .assistant-nav-item:hover::before,
        .assistant-nav-item.active::before {
            width: 30px;
        }

        .assistant-nav-item:hover i,
        .assistant-nav-item.active i {
            transform: translateY(-2px);
        }

        .assistant-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        /* Add padding to main content to account for bottom nav */
        .mobile-content {
            padding-bottom: 80px;
        }

        .mobile-header .btn-link {
            transition: all 0.3s ease;
            position: relative;
        }

        .mobile-header .btn-link:hover {
            transform: translateY(-2px);
        }

        .mobile-header .btn-link:active {
            transform: translateY(0);
        }

        .mobile-nav {
            justify-content: space-evenly;
            padding: 12px 40px;
        }

        .latest-request {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .request-icon {
            width: 45px;
            height: 45px;
            background: rgba(13, 110, 253, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Quick Actions Bar Styles */
        .quick-actions-bar {
            background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(255,255,255,0.98));
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin: 15px 0;
        }

        .quick-actions-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-left: 5px;
        }

        .service-btn {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            background: white;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            color: #2c3e50;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-right: 8px;
            white-space: nowrap;
        }

        .service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-color: rgba(13, 110, 253, 0.3);
            color: #0d6efd;
        }

        .service-btn.active {
            background: linear-gradient(135deg, #0d6efd, #0a58ca);
            color: white;
            border-color: transparent;
        }

        .service-icon {
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .service-label {
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Remove Active Requests Widget styles */
        .requests-widget,
        .requests-header,
        .requests-title,
        .requests-count,
        .request-items,
        .request-item,
        .request-icon,
        .request-info,
        .request-title,
        .request-status,
        .request-time,
        .view-all-btn {
            display: none;
        }

        /* Improved message styling */
        .message-bot {
            position: relative;
            padding-top: 20px !important;
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        .message-bot[data-is-human="true"] {
            background-color: #fff0f7 !important;
            padding-top: 10px !important;
        }
        
        .message-bot[data-is-human="true"]::before {
            content: 'Concierge';
            background-color: #e83e8c;
            color: white;
            padding: 0 5px;
            border-radius: 4px;
            font-size: 8px;
        }
        
        /* Make sure the chat messages are scrollable */
        #concierge-content {
            height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
        }
        
        /* Make sure the chat container takes the full height */
        #concierge-content .chat-container {
            flex: 1;
            position: relative;
            height: auto !important;
        }
        
        /* Experience Categories Styles */
        .experience-categories {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Moments Tab Styles */
        .create-moment-btn {
            width: 45px;
            height: 45px;
            box-shadow: 0 4px 12px rgba(var(--bs-primary-rgb), 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Stories styles */
        .stories-container {
            overflow-x: auto;
            white-space: nowrap;
            padding: 10px 0;
            margin-bottom: 15px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: inline-block;
            margin-right: 12px;
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .story-item:active {
            transform: scale(0.95);
        }
        
        .story-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            padding: 3px;
            margin-bottom: 5px;
            position: relative;
        }
        
        .story-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .story-avatar.has-story {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }
        
        .story-avatar.viewed {
            background: #ddd;
        }
        
        .story-title {
            font-size: 0.7rem;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .my-story .add-story {
            position: absolute;
            bottom: 15px;
            right: 0;
            background: #4e73df;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 2px solid white;
        }
        
        /* Story view modal */
        .story-view-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: black;
            display: flex;
            flex-direction: column;
        }
        
        .story-header {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            z-index: 1000;
        }
        
        .story-user-info {
            display: flex;
            align-items: center;
        }
        
        .story-user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .story-user-name {
            font-weight: 500;
        }
        
        .story-time {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        
        .story-progress-container {
            display: flex;
            position: absolute;
            top: 8px;
            left: 15px;
            right: 15px;
            z-index: 1000;
        }
        
        .story-progress {
            height: 3px;
            background: rgba(255,255,255,0.3);
            flex: 1;
            margin: 0 2px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .story-progress-bar {
            height: 100%;
            width: 0;
            background: white;
            border-radius: 3px;
        }
        
        .story-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .story-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .story-text {
            position: absolute;
            bottom: 50px;
            left: 15px;
            right: 15px;
            color: white;
            text-align: center;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .story-nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
        }
        
        .story-prev, .story-next {
            flex: 1;
        }
        
        .story-actions {
            display: flex;
            padding: 15px;
            align-items: center;
            justify-content: space-between;
            color: white;
        }
        
        .story-reply {
            display: flex;
            flex: 1;
            margin-right: 10px;
        }
        
        .story-reply input {
            flex: 1;
            border: none;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 8px 15px;
            color: white;
        }
        
        .story-buttons button {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            margin-left: 15px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .story-buttons button:hover {
            opacity: 1;
        }
        
        /* Better buttons styling */
        .btn {
            border-radius: 8px;
            padding: 8px 16px;
            transition: all 0.3s;
            font-weight: 500;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .btn-sm {
            padding: 5px 12px;
            font-size: 0.8rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4e73df, #224abe);
        }
        
        .btn-primary:hover, .btn-primary:focus {
            background: linear-gradient(135deg, #3a5ccc, #1a3aa0);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn-primary:active {
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .btn-outline-primary {
            color: #4e73df;
            border: 1px solid #4e73df;
            background: white;
        }
        
        .btn-outline-primary:hover, .btn-outline-primary:focus {
            background: #f0f4ff;
            color: #224abe;
            transform: translateY(-1px);
        }
        
        .moments-tab-btn.active {
            color: #4e73df !important;
            position: relative;
        }
        
        .moments-tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #4e73df;
            border-radius: 3px;
        }
        
        .reaction-btn.active {
            background-color: #f0f4ff;
        }
        
        /* Card and UI improvements */
        .card {
            border-radius: 12px;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .card-header {
            border-bottom: none;
            padding: 15px 20px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            background-color: #f9f9f9;
            transition: all 0.3s;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #4e73df;
            box-shadow: 0 0 0 3px rgba(78, 115, 223, 0.15);
            background-color: white;
        }
        
        .modal-content {
            border-radius: 12px;
            border: none;
            overflow: hidden;
        }
        
        .modal-header {
            border-bottom: none;
            padding: 20px;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            border-top: none;
            padding: 15px 20px 20px;
        }
        
        /* Icons styling */
        .bi {
            vertical-align: -0.125em;
        }
        
        /* Responsive improvements */
        @media (max-width: 576px) {
            .card-body {
                padding: 15px;
            }
            
            .btn {
                padding: 7px 14px;
            }
        }
        
        /* Story View Styles */
        .story-modal-content {
            background: linear-gradient(135deg, #614385, #516395);
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .story-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            z-index: 10;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-progress-container {
            position: absolute;
            top: 4rem;
            left: 0;
            right: 0;
            padding: 0 1rem;
            z-index: 10;
        }
        
        .story-progress {
            display: flex;
            gap: 4px;
        }
        
        .story-progress-bar {
            height: 3px;
            background-color: rgba(255,255,255,0.3);
            flex-grow: 1;
            border-radius: 3px;
        }
        
        .story-progress-bar.active {
            background-color: #fff;
            animation: progress 5s linear forwards;
        }
        
        @keyframes progress {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .story-content {
            height: 100%;
            position: relative;
        }
        
        .story-slide {
            display: none;
            height: 100%;
            position: relative;
        }
        
        .story-slide.active {
            display: block;
        }
        
        .story-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .story-caption {
            position: absolute;
            bottom: 6rem;
            left: 0;
            right: 0;
            padding: 1rem;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-location {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
        }
        
        .story-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 1rem;
            z-index: 5;
        }
        
        .btn-story-nav {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            opacity: 0.6;
            transition: opacity 0.2s;
        }
        
        .btn-story-nav:hover {
            opacity: 1;
        }
        
        .story-reactions {
            display: flex;
            gap: 1rem;
        }
        
        .btn-reaction {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        
        .btn-reaction:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .btn-reaction[data-reaction="love"]:hover {
            color: #ff5b5b;
        }
        
        .btn-reaction[data-reaction="wow"]:hover {
            color: #ffce54;
        }
        
        .btn-reaction[data-reaction="clap"]:hover {
            color: #4cd964;
        }
        
        .story-reply {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            right: 1rem;
            z-index: 10;
        }
        
        .story-reply .form-control {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            border-radius: 20px;
        }
        
        .story-reply .form-control::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .story-reply .btn {
            border-radius: 20px;
        }
        
        /* Stories Row Improvements */
        .stories-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 5px;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            position: relative;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            min-width: 80px;
            transition: transform 0.2s;
        }
        
        .story-item:hover {
            transform: translateY(-5px);
        }
        
        .story-avatar {
            width: 66px;
            height: 66px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 5px;
            background: #f8f9fa;
            overflow: hidden;
        }
        
        .story-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #fd1d1d, #833ab4, #fcb045);
            z-index: -1;
        }
        
        .story-avatar.highlight::before {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .story-avatar.staff-pick::before {
            background: linear-gradient(45deg, #FFD700, #FFA500);
        }
        
        .story-avatar img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }
        
        .story-item span {
            font-size: 0.7rem;
            font-weight: 500;
            color: #666;
            max-width: 80px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-align: center;
        }
        
        .my-story .story-avatar {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .my-story .story-avatar i {
            font-size: 1.5rem;
        }
        
        .create-story-btn {
            background: none;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #8952e0;
        }
        
        /* Onboarding Modal Styles */
        .onboarding-slider {
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .onboarding-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            background: white;
        }
        
        .onboarding-slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .onboarding-content {
            max-width: 400px;
        }
        
        .onboarding-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }
        
        .onboarding-icon i {
            background: #f0f4ff;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .onboarding-controls {
            position: absolute;
            bottom: 2rem;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            z-index: 10;
        }
        
        .onboarding-dots {
            display: flex;
            gap: 8px;
        }
        
        .onboarding-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s;
        }
        
        .onboarding-dot.active {
            width: 24px;
            border-radius: 4px;
            background-color: #6a11cb;
        }
        
        /* Mood Filter Chips */
        .mood-filter-chips {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 5px;
            -webkit-overflow-scrolling: touch;
        }
        
        .mood-filter-chips::-webkit-scrollbar {
            display: none;
        }
        
        .mood-chip {
            white-space: nowrap;
            transition: all 0.2s;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .mood-chip.active {
            background: #8952e0;
            color: white;
        }
        
        .mood-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        /* Staff Pick Styling */
        .staff-pick-card {
            position: relative;
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .staff-pick-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .staff-pick-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .location-badge {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
        }
        
        /* Create Moment Button Improvements */
        .create-moment-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            z-index: 1000;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            border: none;
            box-shadow: 0 4px 15px rgba(106, 17, 203, 0.4);
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(106, 17, 203, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0);
            }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* Moment Cards Improvements */
        .moment-card {
            border: none;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .moment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .moment-image {
            position: relative;
        }
        
        .user-avatar img {
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .moment-mood .mood-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }
        
        .mood-tag.relaxed {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .mood-tag.excited {
            background: linear-gradient(45deg, #FC5C7D, #6A82FB);
        }
        
        .mood-tag.thrilled {
            background: linear-gradient(45deg, #FF512F, #DD2476);
        }
        
        .moment-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .moment-stats {
            font-size: 0.9rem;
        }
        
        .reaction-btn, .moment-comment-btn, .moment-share-btn {
            transition: all 0.2s;
            border-width: 1.5px;
        }
        
        .reaction-btn:hover, .moment-comment-btn:hover, .moment-share-btn:hover {
            transform: translateY(-2px);
        }
        
        .reaction-btn.active[data-reaction="love"] {
            background-color: #ffeeee;
            border-color: #ff5b5b;
            color: #ff5b5b;
        }
        
        .reaction-btn.active[data-reaction="wow"] {
            background-color: #fff9e6;
            border-color: #ffce54;
            color: #ffce54;
        }
        
        .reaction-btn.active[data-reaction="yum"] {
            background-color: #ffeef6;
            border-color: #ff5b9e;
            color: #ff5b9e;
        }
        
        /* Προσβασιμότητα και Βελτιώσεις UI */
        .moments-tab-navigation {
            background: white;
            border-radius: 25px;
            padding: 0.5rem;
            margin: 0 0.5rem 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0.5rem;
            z-index: 100;
        }
        
        .tab-links {
            display: flex;
            justify-content: space-around;
        }
        
        .moments-tab-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .moments-tab-btn i {
            font-size: 1.3rem;
            margin-bottom: 0.2rem;
        }
        
        .moments-tab-btn.active {
            background: #f0f4ff;
        }
        
        .moments-tab-btn:hover {
            transform: translateY(-3px);
        }
        
        /* Animation for new reactions */
        @keyframes reaction-animation {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .reaction-animation {
            animation: reaction-animation 0.5s ease;
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #f2f2f2;
            }
            
            .card {
                background-color: #2a2a2a;
                color: #f2f2f2;
            }
            
            .moments-tab-navigation {
                background: #2a2a2a;
            }
            
            .moments-tab-btn.active {
                background: #383838;
            }
            
            .text-muted {
                color: #aaaaaa !important;
            }
            
            .bg-light {
                background-color: #333333 !important;
            }
            
            .text-dark {
                color: #f2f2f2 !important;
            }
            
            .mood-chip {
                background: #333333;
                color: #f2f2f2;
            }
        }
        
        /* Voice Control Accessibility */
        .voice-control-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #6a11cb;
            border: none;
            color: white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .voice-control-btn i {
            font-size: 1.2rem;
        }
        
        /* Larger Touch Targets for Better Accessibility */
        .btn, button {
            min-height: 44px;
            min-width: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .story-item, .story-avatar, .mood-chip {
            min-width: 44px;
            min-height: 44px;
        }
        
        /* Helper for touch devices */
        @media (hover: none) {
            .btn:active, button:active, .story-item:active, .moment-card:active {
                transform: scale(0.97);
            }
            
            .tooltip-touch {
                position: fixed;
                bottom: 70px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.9rem;
                z-index: 1100;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.3s;
            }
            
            .tooltip-touch.visible {
                opacity: 1;
            }
        }
        
        /* Loading Transitions */
        .moments-feed, .moments-explore, .moments-profile {
            transition: opacity 0.3s;
        }
        
        .loading {
            opacity: 0.7;
        }
        
        .loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
        
        .loading .loading-spinner {
            display: block;
        }
        
        /* Badges for Rewards */
        .badge-achievement {
            position: relative;
            display: inline-flex;
            align-items: center;
            border-radius: 20px;
            padding: 8px 15px;
            padding-left: 36px;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .badge-achievement:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .badge-achievement::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .badge-achievement.foodie::before {
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest App | e-Philoxenia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="fix-menu.css">
    <style>
        /* Additional mobile-specific styles */
        body {
            background-color: #f5f5f5;
            font-size: 0.9rem;
        }
        
        /* Blue theme modifications */
        .card-header.bg-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary)) !important;
        }
        
        .progress-bar.bg-primary {
            background: linear-gradient(to right, var(--primary-dark), var(--primary)) !important;
        }
        
        .bg-primary-light {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .text-primary {
            color: var(--primary) !important;
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px 15px;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: bounce 1.5s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
            margin-right: 0;
        }
        
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-8px);
            }
        }
        
        /* New styles for interactive features */
        .room-key-btn {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .room-key-btn:hover {
            color: var(--bs-primary);
        }
        
        .room-scene-btn.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 2px 5px rgba(41, 98, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .experience-categories {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .experience-categories::-webkit-scrollbar {
            display: none;
        }
        
        .date-selector, .time-selector {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .date-selector::-webkit-scrollbar, .time-selector::-webkit-scrollbar {
            display: none;
        }
        
        .text-truncate-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .favorite-btn.btn-danger {
            border-color: var(--bs-danger);
        }
        
        .service-status-card {
            border-left: 4px solid var(--primary);
        }
        
        /* Add some animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Make the app feel more interactive */
        .list-group-item, .btn, .form-check-input, .mobile-nav-item, .card {
            transition: all 0.2s ease;
        }
        
        .list-group-item:active {
            transform: scale(0.98);
        }
        
        .btn:active {
            transform: scale(0.95);
            opacity: 0.9;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        /* Make recommendation severity badges smaller */
        #recommendations-container .badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            white-space: nowrap;
            min-width: 75px;
            text-align: center;
        }
        
        /* Smooth scrolling for tabs */
        .tab-content {
            transition: none;
        }
        
        /* Improved chat container styling */
        .chat-container {
            height: calc(100vh - 300px); /* Reduced height to account for higher chat bar */
            min-height: 350px;
            position: relative;
            overflow: hidden; /* Ensure content doesn't overflow */
        }
        
        .chat-messages {
            overflow-y: auto;
            padding: 15px;
            padding-bottom: 80px; /* Increased padding to prevent chat messages from being hidden behind chat elements */
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure it takes full height of container */
            position: absolute; /* Position absolutely within container */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0; /* Remove bottom offset as we'll handle this with padding */
            /* Hide scrollbar but keep functionality */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .chat-messages::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .message {
            max-width: 95%; /* Increased from 80% to better fit app width */
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            word-break: break-word;
            position: relative; /* For AI label positioning */
            font-size: 0.85rem;
        }
        
        .message-bot {
            background-color: #f0f2f5;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            padding-top: 20px; /* Extra space for AI label */
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        /* Don't show AI label for human messages */
        .message-bot[data-is-human="true"] {
            padding-top: 10px; /* Regular padding for human messages */
        }
        
        .message-bot[data-is-human="true"]::before {
            display: none;
        }
        
        .message-user {
            background-color: #0d6efd;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .suggestion-btn {
            white-space: nowrap;
        }
        
        /* Reposition global chat bar higher */
        .global-chat-bar {
            position: fixed;
            bottom: 70px; /* Increased from default position to move higher */
            left: 0;
            right: 0;
            padding: 10px 15px;
            background-color: white;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
            margin-bottom: 5px; /* Add margin between chat bar and navigation */
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05); /* Add subtle shadow for better separation */
        }
        
        /* Improved human support option */
        .human-support-option {
            margin: 15px auto;
            text-align: center;
            width: 100%;
            padding: 10px;
            border-radius: 12px;
            background-color: rgba(235, 242, 255, 0.7);
            border: 1px dashed rgba(41, 98, 255, 0.3);
            transition: all 0.2s ease;
            position: relative;
            z-index: 5;
        }
        
        .human-support-option:hover {
            background-color: rgba(235, 242, 255, 0.9);
            border-color: rgba(41, 98, 255, 0.5);
        }
        
        .human-support-link {
            display: inline-block;
            color: var(--primary);
            font-weight: 500;
            text-decoration: none;
            padding: 5px 15px;
            cursor: pointer;
            border-radius: 20px;
            transition: background-color 0.2s ease;
        }
        
        .human-support-link:hover {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .human-support-link i {
            margin-right: 5px;
        }
        
        /* Concierge agent avatar */
        .concierge-avatar {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 24px;
            height: 24px;
            background-color: #e83e8c;
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 12px;
            margin-right: 8px;
        }
        
        /* Service Tracking Styles */
        .progress-tracker {
            position: relative;
            margin: 15px 0;
        }
        
        .progress-step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        
        .progress-step-icon {
            width: 24px;
            height: 24px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-step-label {
            font-size: 10px;
            white-space: nowrap;
        }
        
        .progress-step.completed .progress-step-icon {
            color: var(--bs-success);
        }
        
        .progress-step.active .progress-step-icon {
            color: var(--bs-primary);
            animation: spin 2s linear infinite;
        }
        
        /* Fix for order tracking modal */
        #orderTabsContent {
            min-height: 300px;
        }
        
        /* Fix Bootstrap tab behavior in the service tracker modal */
        #serviceTrackerModal .tab-pane {
            opacity: 1;
        }
        
        #serviceTrackerModal .fade:not(.show) {
            opacity: 1;
            display: none;
        }
        
        /* Service Section New Styles */
        .quick-action-btn {
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
            min-height: 70px;
            padding: 8px;
            text-align: center;
        }
        
        .quick-action-btn i {
            margin-bottom: 5px;
        }
        
        .quick-action-btn span {
            display: block;
            margin-top: 3px;
            white-space: normal;
            font-size: 0.85rem;
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        /* Διόρθωση για τις προτάσεις του AI Assistant */
        .suggestion-btn {
            white-space: normal;
            text-align: left;
            line-height: 1.3;
            min-height: 40px;
            padding: 8px 12px;
            margin-bottom: 8px;
            display: block;
            width: 100%;
            word-wrap: break-word;
        }
        
        .smart-recommendation-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(13, 110, 253, 0.1);
        }
        
        .smart-recommendations .list-group-item {
            transition: all 0.2s ease;
            border-left: 0;
            border-right: 0;
        }
        
        .smart-recommendations .list-group-item:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .food-item {
            transition: all 0.2s ease;
        }
        
        .food-item:hover {
            background-color: #f8f9fa;
        }
        
        .food-options {
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control {
            max-width: 100px;
            margin-left: auto;
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control .form-control {
            text-align: center;
            border-left: 0;
            border-right: 0;
        }
        
        .rating-star {
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0 2px;
        }
        
        .rating-star:hover {
            transform: scale(1.2);
        }
        
        .recommended-badge {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
        }
        
        .service-status-card {
            transition: all 0.3s ease;
        }
        
        .delivery-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delivery-progress-bar {
            height: 6px;
        }
        
        /* Animation for the spinner icon */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Toast animation */
        .toast.show {
            animation: slideInTop 0.3s forwards;
        }
        
        /* Ensure toast notifications appear above all other elements */
        .toast-container {
            z-index: 9999 !important; /* Higher than any other element */
            position: fixed;
            pointer-events: none; /* Allow clicking through the container, but not the toasts */
            margin-top: 60px; /* Add margin to avoid overlapping with header */
        }
        
        .toast {
            pointer-events: auto; /* Make the toast itself clickable */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 350px; /* Make toast wider */
            background-color: #ffffff;
            border-left: 4px solid var(--bs-primary); /* Colored left border */
            font-size: 0.9rem; /* Slightly larger text */
        }
        
        .toast-header {
            border-bottom: none;
            background-color: #ffffff;
        }
        
        .toast-body {
            padding: 0.75rem 1rem; /* Slightly more padding */
        }
        
        /* Apply different border colors based on notification type */
        .toast[data-type="success"] {
            border-left-color: var(--bs-success);
        }
        
        .toast[data-type="danger"] {
            border-left-color: var(--bs-danger);
        }
        
        .toast[data-type="warning"] {
            border-left-color: var(--bs-warning);
        }
        
        .toast[data-type="info"] {
            border-left-color: var(--bs-info);
        }
        
        @keyframes slideInTop {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Map marker pulse animation */
        .pulse-animation {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Tour hotspot styles */
        .tour-hotspot {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.5);
            transition: all 0.2s ease;
        }
        
        .tour-hotspot i {
            color: var(--bs-primary);
        }
        
        .tour-hotspot:hover {
            transform: scale(1.1);
            background-color: white;
        }
        
        .hotspot-tooltip {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .tour-hotspot:hover .hotspot-tooltip {
            opacity: 1;
        }
        
        .tour-navigation {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .tour-nav-btn {
            opacity: 0.8;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .map-marker {
            position: absolute;
            z-index: 10;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .map-marker:hover {
            transform: scale(1.2);
        }
        
        .current-location {
            position: absolute;
            z-index: 20;
        }
        
        .floor-map {
            position: relative;
        }
        
        /* Room Controls Enhancements */
        .room-scene-btn {
            transition: all 0.25s ease;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        .room-scene-btn:hover:not(.active) {
            background-color: rgba(13, 110, 253, 0.03);
        }
        
        .preset-btn {
            border-radius: 10px;
            transition: all 0.25s ease;
            border-width: 1px;
            height: 100%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            text-align: left;
        }
        
        .preset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-color: var(--bs-primary);
        }
        
        .preset-btn i {
            color: var(--bs-primary);
        }
        
        /* Custom slider styling */
        .form-range {
            height: 6px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 30%, #ff6b6b 70%, #ff6b6b 100%);
            border-radius: 3px;
        }
        
        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .form-range::-webkit-slider-runnable-track {
            height: 6px;
            border-radius: 10px;
            background: linear-gradient(to right, #cce5ff, #0d6efd);
        }
        
        .form-range:focus {
            outline: none;
        }
        
        /* Enhanced form switch */
        .form-check-input {
            cursor: pointer;
            width: 45px;
            height: 22px;
        }
        
        .form-check-input:checked {
            background-color: var(--bs-primary);
            border-color: var(--bs-primary);
        }
        
        /* Make modals feel more responsive */
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-content {
            animation: modalFadeIn 0.3s forwards;
        }
        
        /* Temperature indicator styles */
        .temp-indicator {
            position: absolute;
            top: -30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bs-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translateX(-50%);
            pointer-events: none;
            transition: left 0.1s ease-out, background-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 5;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .temp-indicator::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 10px;
            height: 10px;
            background: inherit;
        }
        
        .temp-indicator-value {
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        /* Temperature colors */
        .temp-cool {
            color: #4dabf7;
        }
        
        .temp-moderate {
            color: #2ecc71;
        }
        
        .temp-warm {
            color: #f39c12;
        }
        
        .temp-hot {
            color: #ff6b6b;
        }
        
        /* Fix for strikethrough on disabled switches */
        .form-check-label {
            text-decoration: none !important;
        }
        
        /* Reduced font sizes for guest app */
        h4, .h4 {
            font-size: 1.3rem;
        }
        
        h5, .h5 {
            font-size: 1.1rem;
        }
        
        .mobile-header-alt .small, .welcome-card .small {
            font-size: 0.75rem;
        }
        
        .quick-action-btn .small {
            font-size: 0.7rem;
        }
        
        .fw-medium {
            font-size: 0.85rem;
        }
        
        .welcome-card h4 {
            font-size: 1.2rem;
        }
        
        .room-temp {
            font-size: 0.75rem;
        }
        
        .room-scene-btn {
            font-size: 0.8rem;
        }
        
        .text-muted.small {
            font-size: 0.7rem;
        }
        
        body {
            font-size: 0.9rem;
        }
        
        p {
            font-size: 0.85rem;
        }
        
        .card-title {
            font-size: 1.05rem;
        }
        
        .card-text {
            font-size: 0.85rem;
        }
        
        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .form-label {
            font-size: 0.8rem;
        }
        
        .btn {
            font-size: 0.85rem;
        }

        .services-toolbar {
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .scrollable-tabs {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .scrollable-tabs::-webkit-scrollbar {
            display: none;
        }

        .services-toolbar .nav-link {
            white-space: nowrap;
            padding: 8px 16px;
            color: #6c757d;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .services-toolbar .nav-link:hover {
            background-color: #f8f9fa;
        }

        .services-toolbar .nav-link.active {
            background: linear-gradient(135deg, #001e52, #0c3b80);
            color: white;
        }

        .control-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .control-section:hover {
            background: #f1f3f5;
        }

        .form-range {
            height: 6px;
            background: linear-gradient(to right, #e9ecef 0%, #e9ecef 100%);
            border-radius: 3px;
        }

        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #001e52;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .form-check-input:checked {
            background-color: #001e52;
            border-color: #001e52;
        }

        .btn-outline-primary {
            border-color: #001e52;
            color: #001e52;
        }

        .btn-outline-primary:hover {
            background-color: #001e52;
            color: #fff;
        }

        .temperature-slider {
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 50%, #ff6b6b 50%, #ff6b6b 100%);
        }

        .temperature-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temperature-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .temperature-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temp-cold { color: #4dabf7; }
        .temp-hot { color: #ff6b6b; }

        /* Add new styles */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
            z-index: 1000;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
        }

        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .assistant-nav-item {
            color: #001e52;
            position: relative;
            padding: 8px 20px;
        }

        .assistant-nav-item i {
            font-size: 1.6rem;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }

        .assistant-nav-item small {
            font-weight: 500;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .assistant-nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .assistant-nav-item:hover::before,
        .assistant-nav-item.active::before {
            width: 30px;
        }

        .assistant-nav-item:hover i,
        .assistant-nav-item.active i {
            transform: translateY(-2px);
        }

        .assistant-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        /* Add padding to main content to account for bottom nav */
        .mobile-content {
            padding-bottom: 80px;
        }

        .mobile-header .btn-link {
            transition: all 0.3s ease;
            position: relative;
        }

        .mobile-header .btn-link:hover {
            transform: translateY(-2px);
        }

        .mobile-header .btn-link:active {
            transform: translateY(0);
        }

        .mobile-nav {
            justify-content: space-evenly;
            padding: 12px 40px;
        }

        .latest-request {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .request-icon {
            width: 45px;
            height: 45px;
            background: rgba(13, 110, 253, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Quick Actions Bar Styles */
        .quick-actions-bar {
            background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(255,255,255,0.98));
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin: 15px 0;
        }

        .quick-actions-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-left: 5px;
        }

        .service-btn {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            background: white;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            color: #2c3e50;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-right: 8px;
            white-space: nowrap;
        }

        .service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-color: rgba(13, 110, 253, 0.3);
            color: #0d6efd;
        }

        .service-btn.active {
            background: linear-gradient(135deg, #0d6efd, #0a58ca);
            color: white;
            border-color: transparent;
        }

        .service-icon {
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .service-label {
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Remove Active Requests Widget styles */
        .requests-widget,
        .requests-header,
        .requests-title,
        .requests-count,
        .request-items,
        .request-item,
        .request-icon,
        .request-info,
        .request-title,
        .request-status,
        .request-time,
        .view-all-btn {
            display: none;
        }

        /* Improved message styling */
        .message-bot {
            position: relative;
            padding-top: 20px !important;
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        .message-bot[data-is-human="true"] {
            background-color: #fff0f7 !important;
            padding-top: 10px !important;
        }
        
        .message-bot[data-is-human="true"]::before {
            content: 'Concierge';
            background-color: #e83e8c;
            color: white;
            padding: 0 5px;
            border-radius: 4px;
            font-size: 8px;
        }
        
        /* Make sure the chat messages are scrollable */
        #concierge-content {
            height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
        }
        
        /* Make sure the chat container takes the full height */
        #concierge-content .chat-container {
            flex: 1;
            position: relative;
            height: auto !important;
        }
        
        /* Experience Categories Styles */
        .experience-categories {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Moments Tab Styles */
        .create-moment-btn {
            width: 45px;
            height: 45px;
            box-shadow: 0 4px 12px rgba(var(--bs-primary-rgb), 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Stories styles */
        .stories-container {
            overflow-x: auto;
            white-space: nowrap;
            padding: 10px 0;
            margin-bottom: 15px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: inline-block;
            margin-right: 12px;
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .story-item:active {
            transform: scale(0.95);
        }
        
        .story-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            padding: 3px;
            margin-bottom: 5px;
            position: relative;
        }
        
        .story-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .story-avatar.has-story {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }
        
        .story-avatar.viewed {
            background: #ddd;
        }
        
        .story-title {
            font-size: 0.7rem;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .my-story .add-story {
            position: absolute;
            bottom: 15px;
            right: 0;
            background: #4e73df;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 2px solid white;
        }
        
        /* Story view modal */
        .story-view-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: black;
            display: flex;
            flex-direction: column;
        }
        
        .story-header {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            z-index: 1000;
        }
        
        .story-user-info {
            display: flex;
            align-items: center;
        }
        
        .story-user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .story-user-name {
            font-weight: 500;
        }
        
        .story-time {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        
        .story-progress-container {
            display: flex;
            position: absolute;
            top: 8px;
            left: 15px;
            right: 15px;
            z-index: 1000;
        }
        
        .story-progress {
            height: 3px;
            background: rgba(255,255,255,0.3);
            flex: 1;
            margin: 0 2px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .story-progress-bar {
            height: 100%;
            width: 0;
            background: white;
            border-radius: 3px;
        }
        
        .story-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .story-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .story-text {
            position: absolute;
            bottom: 50px;
            left: 15px;
            right: 15px;
            color: white;
            text-align: center;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .story-nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
        }
        
        .story-prev, .story-next {
            flex: 1;
        }
        
        .story-actions {
            display: flex;
            padding: 15px;
            align-items: center;
            justify-content: space-between;
            color: white;
        }
        
        .story-reply {
            display: flex;
            flex: 1;
            margin-right: 10px;
        }
        
        .story-reply input {
            flex: 1;
            border: none;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 8px 15px;
            color: white;
        }
        
        .story-buttons button {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            margin-left: 15px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .story-buttons button:hover {
            opacity: 1;
        }
        
        /* Better buttons styling */
        .btn {
            border-radius: 8px;
            padding: 8px 16px;
            transition: all 0.3s;
            font-weight: 500;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .btn-sm {
            padding: 5px 12px;
            font-size: 0.8rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4e73df, #224abe);
        }
        
        .btn-primary:hover, .btn-primary:focus {
            background: linear-gradient(135deg, #3a5ccc, #1a3aa0);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn-primary:active {
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .btn-outline-primary {
            color: #4e73df;
            border: 1px solid #4e73df;
            background: white;
        }
        
        .btn-outline-primary:hover, .btn-outline-primary:focus {
            background: #f0f4ff;
            color: #224abe;
            transform: translateY(-1px);
        }
        
        .moments-tab-btn.active {
            color: #4e73df !important;
            position: relative;
        }
        
        .moments-tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #4e73df;
            border-radius: 3px;
        }
        
        .reaction-btn.active {
            background-color: #f0f4ff;
        }
        
        /* Card and UI improvements */
        .card {
            border-radius: 12px;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .card-header {
            border-bottom: none;
            padding: 15px 20px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            background-color: #f9f9f9;
            transition: all 0.3s;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #4e73df;
            box-shadow: 0 0 0 3px rgba(78, 115, 223, 0.15);
            background-color: white;
        }
        
        .modal-content {
            border-radius: 12px;
            border: none;
            overflow: hidden;
        }
        
        .modal-header {
            border-bottom: none;
            padding: 20px;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            border-top: none;
            padding: 15px 20px 20px;
        }
        
        /* Icons styling */
        .bi {
            vertical-align: -0.125em;
        }
        
        /* Responsive improvements */
        @media (max-width: 576px) {
            .card-body {
                padding: 15px;
            }
            
            .btn {
                padding: 7px 14px;
            }
        }
        
        /* Story View Styles */
        .story-modal-content {
            background: linear-gradient(135deg, #614385, #516395);
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .story-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            z-index: 10;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-progress-container {
            position: absolute;
            top: 4rem;
            left: 0;
            right: 0;
            padding: 0 1rem;
            z-index: 10;
        }
        
        .story-progress {
            display: flex;
            gap: 4px;
        }
        
        .story-progress-bar {
            height: 3px;
            background-color: rgba(255,255,255,0.3);
            flex-grow: 1;
            border-radius: 3px;
        }
        
        .story-progress-bar.active {
            background-color: #fff;
            animation: progress 5s linear forwards;
        }
        
        @keyframes progress {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .story-content {
            height: 100%;
            position: relative;
        }
        
        .story-slide {
            display: none;
            height: 100%;
            position: relative;
        }
        
        .story-slide.active {
            display: block;
        }
        
        .story-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .story-caption {
            position: absolute;
            bottom: 6rem;
            left: 0;
            right: 0;
            padding: 1rem;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-location {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
        }
        
        .story-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 1rem;
            z-index: 5;
        }
        
        .btn-story-nav {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            opacity: 0.6;
            transition: opacity 0.2s;
        }
        
        .btn-story-nav:hover {
            opacity: 1;
        }
        
        .story-reactions {
            display: flex;
            gap: 1rem;
        }
        
        .btn-reaction {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        
        .btn-reaction:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .btn-reaction[data-reaction="love"]:hover {
            color: #ff5b5b;
        }
        
        .btn-reaction[data-reaction="wow"]:hover {
            color: #ffce54;
        }
        
        .btn-reaction[data-reaction="clap"]:hover {
            color: #4cd964;
        }
        
        .story-reply {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            right: 1rem;
            z-index: 10;
        }
        
        .story-reply .form-control {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            border-radius: 20px;
        }
        
        .story-reply .form-control::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .story-reply .btn {
            border-radius: 20px;
        }
        
        /* Stories Row Improvements */
        .stories-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 5px;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            position: relative;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            min-width: 80px;
            transition: transform 0.2s;
        }
        
        .story-item:hover {
            transform: translateY(-5px);
        }
        
        .story-avatar {
            width: 66px;
            height: 66px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 5px;
            background: #f8f9fa;
            overflow: hidden;
        }
        
        .story-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #fd1d1d, #833ab4, #fcb045);
            z-index: -1;
        }
        
        .story-avatar.highlight::before {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .story-avatar.staff-pick::before {
            background: linear-gradient(45deg, #FFD700, #FFA500);
        }
        
        .story-avatar img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }
        
        .story-item span {
            font-size: 0.7rem;
            font-weight: 500;
            color: #666;
            max-width: 80px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-align: center;
        }
        
        .my-story .story-avatar {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .my-story .story-avatar i {
            font-size: 1.5rem;
        }
        
        .create-story-btn {
            background: none;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #8952e0;
        }
        
        /* Onboarding Modal Styles */
        .onboarding-slider {
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .onboarding-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            background: white;
        }
        
        .onboarding-slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .onboarding-content {
            max-width: 400px;
        }
        
        .onboarding-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }
        
        .onboarding-icon i {
            background: #f0f4ff;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .onboarding-controls {
            position: absolute;
            bottom: 2rem;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            z-index: 10;
        }
        
        .onboarding-dots {
            display: flex;
            gap: 8px;
        }
        
        .onboarding-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s;
        }
        
        .onboarding-dot.active {
            width: 24px;
            border-radius: 4px;
            background-color: #6a11cb;
        }
        
        /* Mood Filter Chips */
        .mood-filter-chips {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 5px;
            -webkit-overflow-scrolling: touch;
        }
        
        .mood-filter-chips::-webkit-scrollbar {
            display: none;
        }
        
        .mood-chip {
            white-space: nowrap;
            transition: all 0.2s;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .mood-chip.active {
            background: #8952e0;
            color: white;
        }
        
        .mood-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        /* Staff Pick Styling */
        .staff-pick-card {
            position: relative;
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .staff-pick-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .staff-pick-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .location-badge {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
        }
        
        /* Create Moment Button Improvements */
        .create-moment-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            z-index: 1000;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            border: none;
            box-shadow: 0 4px 15px rgba(106, 17, 203, 0.4);
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(106, 17, 203, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0);
            }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* Moment Cards Improvements */
        .moment-card {
            border: none;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .moment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .moment-image {
            position: relative;
        }
        
        .user-avatar img {
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .moment-mood .mood-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }
        
        .mood-tag.relaxed {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .mood-tag.excited {
            background: linear-gradient(45deg, #FC5C7D, #6A82FB);
        }
        
        .mood-tag.thrilled {
            background: linear-gradient(45deg, #FF512F, #DD2476);
        }
        
        .moment-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .moment-stats {
            font-size: 0.9rem;
        }
        
        .reaction-btn, .moment-comment-btn, .moment-share-btn {
            transition: all 0.2s;
            border-width: 1.5px;
        }
        
        .reaction-btn:hover, .moment-comment-btn:hover, .moment-share-btn:hover {
            transform: translateY(-2px);
        }
        
        .reaction-btn.active[data-reaction="love"] {
            background-color: #ffeeee;
            border-color: #ff5b5b;
            color: #ff5b5b;
        }
        
        .reaction-btn.active[data-reaction="wow"] {
            background-color: #fff9e6;
            border-color: #ffce54;
            color: #ffce54;
        }
        
        .reaction-btn.active[data-reaction="yum"] {
            background-color: #ffeef6;
            border-color: #ff5b9e;
            color: #ff5b9e;
        }
        
        /* Προσβασιμότητα και Βελτιώσεις UI */
        .moments-tab-navigation {
            background: white;
            border-radius: 25px;
            padding: 0.5rem;
            margin: 0 0.5rem 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0.5rem;
            z-index: 100;
        }
        
        .tab-links {
            display: flex;
            justify-content: space-around;
        }
        
        .moments-tab-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .moments-tab-btn i {
            font-size: 1.3rem;
            margin-bottom: 0.2rem;
        }
        
        .moments-tab-btn.active {
            background: #f0f4ff;
        }
        
        .moments-tab-btn:hover {
            transform: translateY(-3px);
        }
        
        /* Animation for new reactions */
        @keyframes reaction-animation {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .reaction-animation {
            animation: reaction-animation 0.5s ease;
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #f2f2f2;
            }
            
            .card {
                background-color: #2a2a2a;
                color: #f2f2f2;
            }
            
            .moments-tab-navigation {
                background: #2a2a2a;
            }
            
            .moments-tab-btn.active {
                background: #383838;
            }
            
            .text-muted {
                color: #aaaaaa !important;
            }
            
            .bg-light {
                background-color: #333333 !important;
            }
            
            .text-dark {
                color: #f2f2f2 !important;
            }
            
            .mood-chip {
                background: #333333;
                color: #f2f2f2;
            }
        }
        
        /* Voice Control Accessibility */
        .voice-control-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #6a11cb;
            border: none;
            color: white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .voice-control-btn i {
            font-size: 1.2rem;
        }
        
        /* Larger Touch Targets for Better Accessibility */
        .btn, button {
            min-height: 44px;
            min-width: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .story-item, .story-avatar, .mood-chip {
            min-width: 44px;
            min-height: 44px;
        }
        
        /* Helper for touch devices */
        @media (hover: none) {
            .btn:active, button:active, .story-item:active, .moment-card:active {
                transform: scale(0.97);
            }
            
            .tooltip-touch {
                position: fixed;
                bottom: 70px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.9rem;
                z-index: 1100;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.3s;
            }
            
            .tooltip-touch.visible {
                opacity: 1;
            }
        }
        
        /* Loading Transitions */
        .moments-feed, .moments-explore, .moments-profile {
            transition: opacity 0.3s;
        }
        
        .loading {
            opacity: 0.7;
        }
        
        .loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
        
        .loading .loading-spinner {
            display: block;
        }
        
        /* Badges for Rewards */
        .badge-achievement {
            position: relative;
            display: inline-flex;
            align-items: center;
            border-radius: 20px;
            padding: 8px 15px;
            padding-left: 36px;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .badge-achievement:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .badge-achievement::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .badge-achievement.foodie::before {
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest App | e-Philoxenia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="fix-menu.css">
    <style>
        /* Additional mobile-specific styles */
        body {
            background-color: #f5f5f5;
            font-size: 0.9rem;
        }
        
        /* Blue theme modifications */
        .card-header.bg-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary)) !important;
        }
        
        .progress-bar.bg-primary {
            background: linear-gradient(to right, var(--primary-dark), var(--primary)) !important;
        }
        
        .bg-primary-light {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .text-primary {
            color: var(--primary) !important;
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px 15px;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: bounce 1.5s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
            margin-right: 0;
        }
        
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-8px);
            }
        }
        
        /* New styles for interactive features */
        .room-key-btn {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .room-key-btn:hover {
            color: var(--bs-primary);
        }
        
        .room-scene-btn.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 2px 5px rgba(41, 98, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .experience-categories {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .experience-categories::-webkit-scrollbar {
            display: none;
        }
        
        .date-selector, .time-selector {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .date-selector::-webkit-scrollbar, .time-selector::-webkit-scrollbar {
            display: none;
        }
        
        .text-truncate-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .favorite-btn.btn-danger {
            border-color: var(--bs-danger);
        }
        
        .service-status-card {
            border-left: 4px solid var(--primary);
        }
        
        /* Add some animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Make the app feel more interactive */
        .list-group-item, .btn, .form-check-input, .mobile-nav-item, .card {
            transition: all 0.2s ease;
        }
        
        .list-group-item:active {
            transform: scale(0.98);
        }
        
        .btn:active {
            transform: scale(0.95);
            opacity: 0.9;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        /* Make recommendation severity badges smaller */
        #recommendations-container .badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            white-space: nowrap;
            min-width: 75px;
            text-align: center;
        }
        
        /* Smooth scrolling for tabs */
        .tab-content {
            transition: none;
        }
        
        /* Improved chat container styling */
        .chat-container {
            height: calc(100vh - 300px); /* Reduced height to account for higher chat bar */
            min-height: 350px;
            position: relative;
            overflow: hidden; /* Ensure content doesn't overflow */
        }
        
        .chat-messages {
            overflow-y: auto;
            padding: 15px;
            padding-bottom: 80px; /* Increased padding to prevent chat messages from being hidden behind chat elements */
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure it takes full height of container */
            position: absolute; /* Position absolutely within container */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0; /* Remove bottom offset as we'll handle this with padding */
            /* Hide scrollbar but keep functionality */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .chat-messages::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .message {
            max-width: 95%; /* Increased from 80% to better fit app width */
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            word-break: break-word;
            position: relative; /* For AI label positioning */
            font-size: 0.85rem;
        }
        
        .message-bot {
            background-color: #f0f2f5;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            padding-top: 20px; /* Extra space for AI label */
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        /* Don't show AI label for human messages */
        .message-bot[data-is-human="true"] {
            padding-top: 10px; /* Regular padding for human messages */
        }
        
        .message-bot[data-is-human="true"]::before {
            display: none;
        }
        
        .message-user {
            background-color: #0d6efd;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .suggestion-btn {
            white-space: nowrap;
        }
        
        /* Reposition global chat bar higher */
        .global-chat-bar {
            position: fixed;
            bottom: 70px; /* Increased from default position to move higher */
            left: 0;
            right: 0;
            padding: 10px 15px;
            background-color: white;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
            margin-bottom: 5px; /* Add margin between chat bar and navigation */
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05); /* Add subtle shadow for better separation */
        }
        
        /* Improved human support option */
        .human-support-option {
            margin: 15px auto;
            text-align: center;
            width: 100%;
            padding: 10px;
            border-radius: 12px;
            background-color: rgba(235, 242, 255, 0.7);
            border: 1px dashed rgba(41, 98, 255, 0.3);
            transition: all 0.2s ease;
            position: relative;
            z-index: 5;
        }
        
        .human-support-option:hover {
            background-color: rgba(235, 242, 255, 0.9);
            border-color: rgba(41, 98, 255, 0.5);
        }
        
        .human-support-link {
            display: inline-block;
            color: var(--primary);
            font-weight: 500;
            text-decoration: none;
            padding: 5px 15px;
            cursor: pointer;
            border-radius: 20px;
            transition: background-color 0.2s ease;
        }
        
        .human-support-link:hover {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .human-support-link i {
            margin-right: 5px;
        }
        
        /* Concierge agent avatar */
        .concierge-avatar {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 24px;
            height: 24px;
            background-color: #e83e8c;
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 12px;
            margin-right: 8px;
        }
        
        /* Service Tracking Styles */
        .progress-tracker {
            position: relative;
            margin: 15px 0;
        }
        
        .progress-step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        
        .progress-step-icon {
            width: 24px;
            height: 24px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-step-label {
            font-size: 10px;
            white-space: nowrap;
        }
        
        .progress-step.completed .progress-step-icon {
            color: var(--bs-success);
        }
        
        .progress-step.active .progress-step-icon {
            color: var(--bs-primary);
            animation: spin 2s linear infinite;
        }
        
        /* Fix for order tracking modal */
        #orderTabsContent {
            min-height: 300px;
        }
        
        /* Fix Bootstrap tab behavior in the service tracker modal */
        #serviceTrackerModal .tab-pane {
            opacity: 1;
        }
        
        #serviceTrackerModal .fade:not(.show) {
            opacity: 1;
            display: none;
        }
        
        /* Service Section New Styles */
        .quick-action-btn {
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
            min-height: 70px;
            padding: 8px;
            text-align: center;
        }
        
        .quick-action-btn i {
            margin-bottom: 5px;
        }
        
        .quick-action-btn span {
            display: block;
            margin-top: 3px;
            white-space: normal;
            font-size: 0.85rem;
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        /* Διόρθωση για τις προτάσεις του AI Assistant */
        .suggestion-btn {
            white-space: normal;
            text-align: left;
            line-height: 1.3;
            min-height: 40px;
            padding: 8px 12px;
            margin-bottom: 8px;
            display: block;
            width: 100%;
            word-wrap: break-word;
        }
        
        .smart-recommendation-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(13, 110, 253, 0.1);
        }
        
        .smart-recommendations .list-group-item {
            transition: all 0.2s ease;
            border-left: 0;
            border-right: 0;
        }
        
        .smart-recommendations .list-group-item:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .food-item {
            transition: all 0.2s ease;
        }
        
        .food-item:hover {
            background-color: #f8f9fa;
        }
        
        .food-options {
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control {
            max-width: 100px;
            margin-left: auto;
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control .form-control {
            text-align: center;
            border-left: 0;
            border-right: 0;
        }
        
        .rating-star {
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0 2px;
        }
        
        .rating-star:hover {
            transform: scale(1.2);
        }
        
        .recommended-badge {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
        }
        
        .service-status-card {
            transition: all 0.3s ease;
        }
        
        .delivery-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delivery-progress-bar {
            height: 6px;
        }
        
        /* Animation for the spinner icon */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Toast animation */
        .toast.show {
            animation: slideInTop 0.3s forwards;
        }
        
        /* Ensure toast notifications appear above all other elements */
        .toast-container {
            z-index: 9999 !important; /* Higher than any other element */
            position: fixed;
            pointer-events: none; /* Allow clicking through the container, but not the toasts */
            margin-top: 60px; /* Add margin to avoid overlapping with header */
        }
        
        .toast {
            pointer-events: auto; /* Make the toast itself clickable */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 350px; /* Make toast wider */
            background-color: #ffffff;
            border-left: 4px solid var(--bs-primary); /* Colored left border */
            font-size: 0.9rem; /* Slightly larger text */
        }
        
        .toast-header {
            border-bottom: none;
            background-color: #ffffff;
        }
        
        .toast-body {
            padding: 0.75rem 1rem; /* Slightly more padding */
        }
        
        /* Apply different border colors based on notification type */
        .toast[data-type="success"] {
            border-left-color: var(--bs-success);
        }
        
        .toast[data-type="danger"] {
            border-left-color: var(--bs-danger);
        }
        
        .toast[data-type="warning"] {
            border-left-color: var(--bs-warning);
        }
        
        .toast[data-type="info"] {
            border-left-color: var(--bs-info);
        }
        
        @keyframes slideInTop {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Map marker pulse animation */
        .pulse-animation {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Tour hotspot styles */
        .tour-hotspot {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.5);
            transition: all 0.2s ease;
        }
        
        .tour-hotspot i {
            color: var(--bs-primary);
        }
        
        .tour-hotspot:hover {
            transform: scale(1.1);
            background-color: white;
        }
        
        .hotspot-tooltip {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .tour-hotspot:hover .hotspot-tooltip {
            opacity: 1;
        }
        
        .tour-navigation {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .tour-nav-btn {
            opacity: 0.8;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .map-marker {
            position: absolute;
            z-index: 10;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .map-marker:hover {
            transform: scale(1.2);
        }
        
        .current-location {
            position: absolute;
            z-index: 20;
        }
        
        .floor-map {
            position: relative;
        }
        
        /* Room Controls Enhancements */
        .room-scene-btn {
            transition: all 0.25s ease;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        .room-scene-btn:hover:not(.active) {
            background-color: rgba(13, 110, 253, 0.03);
        }
        
        .preset-btn {
            border-radius: 10px;
            transition: all 0.25s ease;
            border-width: 1px;
            height: 100%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            text-align: left;
        }
        
        .preset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-color: var(--bs-primary);
        }
        
        .preset-btn i {
            color: var(--bs-primary);
        }
        
        /* Custom slider styling */
        .form-range {
            height: 6px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 30%, #ff6b6b 70%, #ff6b6b 100%);
            border-radius: 3px;
        }
        
        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .form-range::-webkit-slider-runnable-track {
            height: 6px;
            border-radius: 10px;
            background: linear-gradient(to right, #cce5ff, #0d6efd);
        }
        
        .form-range:focus {
            outline: none;
        }
        
        /* Enhanced form switch */
        .form-check-input {
            cursor: pointer;
            width: 45px;
            height: 22px;
        }
        
        .form-check-input:checked {
            background-color: var(--bs-primary);
            border-color: var(--bs-primary);
        }
        
        /* Make modals feel more responsive */
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-content {
            animation: modalFadeIn 0.3s forwards;
        }
        
        /* Temperature indicator styles */
        .temp-indicator {
            position: absolute;
            top: -30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bs-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translateX(-50%);
            pointer-events: none;
            transition: left 0.1s ease-out, background-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 5;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .temp-indicator::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 10px;
            height: 10px;
            background: inherit;
        }
        
        .temp-indicator-value {
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        /* Temperature colors */
        .temp-cool {
            color: #4dabf7;
        }
        
        .temp-moderate {
            color: #2ecc71;
        }
        
        .temp-warm {
            color: #f39c12;
        }
        
        .temp-hot {
            color: #ff6b6b;
        }
        
        /* Fix for strikethrough on disabled switches */
        .form-check-label {
            text-decoration: none !important;
        }
        
        /* Reduced font sizes for guest app */
        h4, .h4 {
            font-size: 1.3rem;
        }
        
        h5, .h5 {
            font-size: 1.1rem;
        }
        
        .mobile-header-alt .small, .welcome-card .small {
            font-size: 0.75rem;
        }
        
        .quick-action-btn .small {
            font-size: 0.7rem;
        }
        
        .fw-medium {
            font-size: 0.85rem;
        }
        
        .welcome-card h4 {
            font-size: 1.2rem;
        }
        
        .room-temp {
            font-size: 0.75rem;
        }
        
        .room-scene-btn {
            font-size: 0.8rem;
        }
        
        .text-muted.small {
            font-size: 0.7rem;
        }
        
        body {
            font-size: 0.9rem;
        }
        
        p {
            font-size: 0.85rem;
        }
        
        .card-title {
            font-size: 1.05rem;
        }
        
        .card-text {
            font-size: 0.85rem;
        }
        
        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .form-label {
            font-size: 0.8rem;
        }
        
        .btn {
            font-size: 0.85rem;
        }

        .services-toolbar {
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .scrollable-tabs {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .scrollable-tabs::-webkit-scrollbar {
            display: none;
        }

        .services-toolbar .nav-link {
            white-space: nowrap;
            padding: 8px 16px;
            color: #6c757d;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .services-toolbar .nav-link:hover {
            background-color: #f8f9fa;
        }

        .services-toolbar .nav-link.active {
            background: linear-gradient(135deg, #001e52, #0c3b80);
            color: white;
        }

        .control-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .control-section:hover {
            background: #f1f3f5;
        }

        .form-range {
            height: 6px;
            background: linear-gradient(to right, #e9ecef 0%, #e9ecef 100%);
            border-radius: 3px;
        }

        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #001e52;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .form-check-input:checked {
            background-color: #001e52;
            border-color: #001e52;
        }

        .btn-outline-primary {
            border-color: #001e52;
            color: #001e52;
        }

        .btn-outline-primary:hover {
            background-color: #001e52;
            color: #fff;
        }

        .temperature-slider {
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 50%, #ff6b6b 50%, #ff6b6b 100%);
        }

        .temperature-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temperature-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .temperature-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temp-cold { color: #4dabf7; }
        .temp-hot { color: #ff6b6b; }

        /* Add new styles */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
            z-index: 1000;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
        }

        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .assistant-nav-item {
            color: #001e52;
            position: relative;
            padding: 8px 20px;
        }

        .assistant-nav-item i {
            font-size: 1.6rem;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }

        .assistant-nav-item small {
            font-weight: 500;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .assistant-nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .assistant-nav-item:hover::before,
        .assistant-nav-item.active::before {
            width: 30px;
        }

        .assistant-nav-item:hover i,
        .assistant-nav-item.active i {
            transform: translateY(-2px);
        }

        .assistant-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        /* Add padding to main content to account for bottom nav */
        .mobile-content {
            padding-bottom: 80px;
        }

        .mobile-header .btn-link {
            transition: all 0.3s ease;
            position: relative;
        }

        .mobile-header .btn-link:hover {
            transform: translateY(-2px);
        }

        .mobile-header .btn-link:active {
            transform: translateY(0);
        }

        .mobile-nav {
            justify-content: space-evenly;
            padding: 12px 40px;
        }

        .latest-request {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .request-icon {
            width: 45px;
            height: 45px;
            background: rgba(13, 110, 253, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Quick Actions Bar Styles */
        .quick-actions-bar {
            background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(255,255,255,0.98));
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin: 15px 0;
        }

        .quick-actions-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-left: 5px;
        }

        .service-btn {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            background: white;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            color: #2c3e50;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-right: 8px;
            white-space: nowrap;
        }

        .service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-color: rgba(13, 110, 253, 0.3);
            color: #0d6efd;
        }

        .service-btn.active {
            background: linear-gradient(135deg, #0d6efd, #0a58ca);
            color: white;
            border-color: transparent;
        }

        .service-icon {
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .service-label {
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Remove Active Requests Widget styles */
        .requests-widget,
        .requests-header,
        .requests-title,
        .requests-count,
        .request-items,
        .request-item,
        .request-icon,
        .request-info,
        .request-title,
        .request-status,
        .request-time,
        .view-all-btn {
            display: none;
        }

        /* Improved message styling */
        .message-bot {
            position: relative;
            padding-top: 20px !important;
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        .message-bot[data-is-human="true"] {
            background-color: #fff0f7 !important;
            padding-top: 10px !important;
        }
        
        .message-bot[data-is-human="true"]::before {
            content: 'Concierge';
            background-color: #e83e8c;
            color: white;
            padding: 0 5px;
            border-radius: 4px;
            font-size: 8px;
        }
        
        /* Make sure the chat messages are scrollable */
        #concierge-content {
            height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
        }
        
        /* Make sure the chat container takes the full height */
        #concierge-content .chat-container {
            flex: 1;
            position: relative;
            height: auto !important;
        }
        
        /* Experience Categories Styles */
        .experience-categories {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Moments Tab Styles */
        .create-moment-btn {
            width: 45px;
            height: 45px;
            box-shadow: 0 4px 12px rgba(var(--bs-primary-rgb), 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Stories styles */
        .stories-container {
            overflow-x: auto;
            white-space: nowrap;
            padding: 10px 0;
            margin-bottom: 15px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: inline-block;
            margin-right: 12px;
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .story-item:active {
            transform: scale(0.95);
        }
        
        .story-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            padding: 3px;
            margin-bottom: 5px;
            position: relative;
        }
        
        .story-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .story-avatar.has-story {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }
        
        .story-avatar.viewed {
            background: #ddd;
        }
        
        .story-title {
            font-size: 0.7rem;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .my-story .add-story {
            position: absolute;
            bottom: 15px;
            right: 0;
            background: #4e73df;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 2px solid white;
        }
        
        /* Story view modal */
        .story-view-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: black;
            display: flex;
            flex-direction: column;
        }
        
        .story-header {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            z-index: 1000;
        }
        
        .story-user-info {
            display: flex;
            align-items: center;
        }
        
        .story-user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .story-user-name {
            font-weight: 500;
        }
        
        .story-time {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        
        .story-progress-container {
            display: flex;
            position: absolute;
            top: 8px;
            left: 15px;
            right: 15px;
            z-index: 1000;
        }
        
        .story-progress {
            height: 3px;
            background: rgba(255,255,255,0.3);
            flex: 1;
            margin: 0 2px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .story-progress-bar {
            height: 100%;
            width: 0;
            background: white;
            border-radius: 3px;
        }
        
        .story-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .story-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .story-text {
            position: absolute;
            bottom: 50px;
            left: 15px;
            right: 15px;
            color: white;
            text-align: center;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .story-nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
        }
        
        .story-prev, .story-next {
            flex: 1;
        }
        
        .story-actions {
            display: flex;
            padding: 15px;
            align-items: center;
            justify-content: space-between;
            color: white;
        }
        
        .story-reply {
            display: flex;
            flex: 1;
            margin-right: 10px;
        }
        
        .story-reply input {
            flex: 1;
            border: none;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 8px 15px;
            color: white;
        }
        
        .story-buttons button {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            margin-left: 15px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .story-buttons button:hover {
            opacity: 1;
        }
        
        /* Better buttons styling */
        .btn {
            border-radius: 8px;
            padding: 8px 16px;
            transition: all 0.3s;
            font-weight: 500;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .btn-sm {
            padding: 5px 12px;
            font-size: 0.8rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4e73df, #224abe);
        }
        
        .btn-primary:hover, .btn-primary:focus {
            background: linear-gradient(135deg, #3a5ccc, #1a3aa0);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn-primary:active {
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .btn-outline-primary {
            color: #4e73df;
            border: 1px solid #4e73df;
            background: white;
        }
        
        .btn-outline-primary:hover, .btn-outline-primary:focus {
            background: #f0f4ff;
            color: #224abe;
            transform: translateY(-1px);
        }
        
        .moments-tab-btn.active {
            color: #4e73df !important;
            position: relative;
        }
        
        .moments-tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #4e73df;
            border-radius: 3px;
        }
        
        .reaction-btn.active {
            background-color: #f0f4ff;
        }
        
        /* Card and UI improvements */
        .card {
            border-radius: 12px;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .card-header {
            border-bottom: none;
            padding: 15px 20px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            background-color: #f9f9f9;
            transition: all 0.3s;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #4e73df;
            box-shadow: 0 0 0 3px rgba(78, 115, 223, 0.15);
            background-color: white;
        }
        
        .modal-content {
            border-radius: 12px;
            border: none;
            overflow: hidden;
        }
        
        .modal-header {
            border-bottom: none;
            padding: 20px;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            border-top: none;
            padding: 15px 20px 20px;
        }
        
        /* Icons styling */
        .bi {
            vertical-align: -0.125em;
        }
        
        /* Responsive improvements */
        @media (max-width: 576px) {
            .card-body {
                padding: 15px;
            }
            
            .btn {
                padding: 7px 14px;
            }
        }
        
        /* Story View Styles */
        .story-modal-content {
            background: linear-gradient(135deg, #614385, #516395);
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .story-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            z-index: 10;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-progress-container {
            position: absolute;
            top: 4rem;
            left: 0;
            right: 0;
            padding: 0 1rem;
            z-index: 10;
        }
        
        .story-progress {
            display: flex;
            gap: 4px;
        }
        
        .story-progress-bar {
            height: 3px;
            background-color: rgba(255,255,255,0.3);
            flex-grow: 1;
            border-radius: 3px;
        }
        
        .story-progress-bar.active {
            background-color: #fff;
            animation: progress 5s linear forwards;
        }
        
        @keyframes progress {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .story-content {
            height: 100%;
            position: relative;
        }
        
        .story-slide {
            display: none;
            height: 100%;
            position: relative;
        }
        
        .story-slide.active {
            display: block;
        }
        
        .story-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .story-caption {
            position: absolute;
            bottom: 6rem;
            left: 0;
            right: 0;
            padding: 1rem;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-location {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
        }
        
        .story-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 1rem;
            z-index: 5;
        }
        
        .btn-story-nav {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            opacity: 0.6;
            transition: opacity 0.2s;
        }
        
        .btn-story-nav:hover {
            opacity: 1;
        }
        
        .story-reactions {
            display: flex;
            gap: 1rem;
        }
        
        .btn-reaction {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        
        .btn-reaction:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .btn-reaction[data-reaction="love"]:hover {
            color: #ff5b5b;
        }
        
        .btn-reaction[data-reaction="wow"]:hover {
            color: #ffce54;
        }
        
        .btn-reaction[data-reaction="clap"]:hover {
            color: #4cd964;
        }
        
        .story-reply {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            right: 1rem;
            z-index: 10;
        }
        
        .story-reply .form-control {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            border-radius: 20px;
        }
        
        .story-reply .form-control::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .story-reply .btn {
            border-radius: 20px;
        }
        
        /* Stories Row Improvements */
        .stories-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 5px;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            position: relative;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            min-width: 80px;
            transition: transform 0.2s;
        }
        
        .story-item:hover {
            transform: translateY(-5px);
        }
        
        .story-avatar {
            width: 66px;
            height: 66px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 5px;
            background: #f8f9fa;
            overflow: hidden;
        }
        
        .story-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #fd1d1d, #833ab4, #fcb045);
            z-index: -1;
        }
        
        .story-avatar.highlight::before {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .story-avatar.staff-pick::before {
            background: linear-gradient(45deg, #FFD700, #FFA500);
        }
        
        .story-avatar img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }
        
        .story-item span {
            font-size: 0.7rem;
            font-weight: 500;
            color: #666;
            max-width: 80px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-align: center;
        }
        
        .my-story .story-avatar {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .my-story .story-avatar i {
            font-size: 1.5rem;
        }
        
        .create-story-btn {
            background: none;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #8952e0;
        }
        
        /* Onboarding Modal Styles */
        .onboarding-slider {
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .onboarding-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            background: white;
        }
        
        .onboarding-slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .onboarding-content {
            max-width: 400px;
        }
        
        .onboarding-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }
        
        .onboarding-icon i {
            background: #f0f4ff;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .onboarding-controls {
            position: absolute;
            bottom: 2rem;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            z-index: 10;
        }
        
        .onboarding-dots {
            display: flex;
            gap: 8px;
        }
        
        .onboarding-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s;
        }
        
        .onboarding-dot.active {
            width: 24px;
            border-radius: 4px;
            background-color: #6a11cb;
        }
        
        /* Mood Filter Chips */
        .mood-filter-chips {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 5px;
            -webkit-overflow-scrolling: touch;
        }
        
        .mood-filter-chips::-webkit-scrollbar {
            display: none;
        }
        
        .mood-chip {
            white-space: nowrap;
            transition: all 0.2s;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .mood-chip.active {
            background: #8952e0;
            color: white;
        }
        
        .mood-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        /* Staff Pick Styling */
        .staff-pick-card {
            position: relative;
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .staff-pick-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .staff-pick-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .location-badge {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
        }
        
        /* Create Moment Button Improvements */
        .create-moment-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            z-index: 1000;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            border: none;
            box-shadow: 0 4px 15px rgba(106, 17, 203, 0.4);
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(106, 17, 203, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0);
            }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* Moment Cards Improvements */
        .moment-card {
            border: none;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .moment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .moment-image {
            position: relative;
        }
        
        .user-avatar img {
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .moment-mood .mood-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }
        
        .mood-tag.relaxed {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .mood-tag.excited {
            background: linear-gradient(45deg, #FC5C7D, #6A82FB);
        }
        
        .mood-tag.thrilled {
            background: linear-gradient(45deg, #FF512F, #DD2476);
        }
        
        .moment-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .moment-stats {
            font-size: 0.9rem;
        }
        
        .reaction-btn, .moment-comment-btn, .moment-share-btn {
            transition: all 0.2s;
            border-width: 1.5px;
        }
        
        .reaction-btn:hover, .moment-comment-btn:hover, .moment-share-btn:hover {
            transform: translateY(-2px);
        }
        
        .reaction-btn.active[data-reaction="love"] {
            background-color: #ffeeee;
            border-color: #ff5b5b;
            color: #ff5b5b;
        }
        
        .reaction-btn.active[data-reaction="wow"] {
            background-color: #fff9e6;
            border-color: #ffce54;
            color: #ffce54;
        }
        
        .reaction-btn.active[data-reaction="yum"] {
            background-color: #ffeef6;
            border-color: #ff5b9e;
            color: #ff5b9e;
        }
        
        /* Προσβασιμότητα και Βελτιώσεις UI */
        .moments-tab-navigation {
            background: white;
            border-radius: 25px;
            padding: 0.5rem;
            margin: 0 0.5rem 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0.5rem;
            z-index: 100;
        }
        
        .tab-links {
            display: flex;
            justify-content: space-around;
        }
        
        .moments-tab-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .moments-tab-btn i {
            font-size: 1.3rem;
            margin-bottom: 0.2rem;
        }
        
        .moments-tab-btn.active {
            background: #f0f4ff;
        }
        
        .moments-tab-btn:hover {
            transform: translateY(-3px);
        }
        
        /* Animation for new reactions */
        @keyframes reaction-animation {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .reaction-animation {
            animation: reaction-animation 0.5s ease;
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #f2f2f2;
            }
            
            .card {
                background-color: #2a2a2a;
                color: #f2f2f2;
            }
            
            .moments-tab-navigation {
                background: #2a2a2a;
            }
            
            .moments-tab-btn.active {
                background: #383838;
            }
            
            .text-muted {
                color: #aaaaaa !important;
            }
            
            .bg-light {
                background-color: #333333 !important;
            }
            
            .text-dark {
                color: #f2f2f2 !important;
            }
            
            .mood-chip {
                background: #333333;
                color: #f2f2f2;
            }
        }
        
        /* Voice Control Accessibility */
        .voice-control-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #6a11cb;
            border: none;
            color: white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .voice-control-btn i {
            font-size: 1.2rem;
        }
        
        /* Larger Touch Targets for Better Accessibility */
        .btn, button {
            min-height: 44px;
            min-width: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .story-item, .story-avatar, .mood-chip {
            min-width: 44px;
            min-height: 44px;
        }
        
        /* Helper for touch devices */
        @media (hover: none) {
            .btn:active, button:active, .story-item:active, .moment-card:active {
                transform: scale(0.97);
            }
            
            .tooltip-touch {
                position: fixed;
                bottom: 70px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.9rem;
                z-index: 1100;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.3s;
            }
            
            .tooltip-touch.visible {
                opacity: 1;
            }
        }
        
        /* Loading Transitions */
        .moments-feed, .moments-explore, .moments-profile {
            transition: opacity 0.3s;
        }
        
        .loading {
            opacity: 0.7;
        }
        
        .loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
        
        .loading .loading-spinner {
            display: block;
        }
        
        /* Badges for Rewards */
        .badge-achievement {
            position: relative;
            display: inline-flex;
            align-items: center;
            border-radius: 20px;
            padding: 8px 15px;
            padding-left: 36px;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .badge-achievement:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .badge-achievement::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .badge-achievement.foodie::before {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0iTTguMTQgNS4bG93MSA0Ljl6Ii8+PC9zdmc+');
        }
        
        /* Fullscreen Video for Modern UI */
        .fullscreen-video-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0.3;
        }
        
        /* Points & Rewards Section Styles */
        .points-display {
            position: relative;
        }
        
        .points-circle {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .points-circle i {
            position: absolute;
            top: -5px;
            left: -5px;
            background: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #ffd700;
            font-size: 1rem;
        }
        
        .section-heading {
            font-size: 0.9rem;
            font-weight: 600;
            color: #555;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .reward-card {
            border-radius: 10px;
            transition: transform 0.3s;
            border: 1px solid #e0e0e0;
        }
        
        .reward-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .reward-card.locked {
            opacity: 0.7;
        }
        
        .reward-card.redeemed {
            background-color: #f8f9fa;
        }
        
        .qr-code-small {
            border: 1px solid #e0e0e0;
            padding: 3px;
            background: white;
            border-radius: 5px;
        }
        
        /* Timeline Points History */
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline-day {
            position: relative;
        }
        
        .timeline-date {
            font-weight: 600;
            font-size: 0.9rem;
            color: #666;
        }
        
        .timeline-item {
            position: relative;
            padding-bottom: 1rem;
            border-left: 2px solid #e0e0e0;
            padding-left: 20px;
            margin-left: 10px;
        }
        
        .timeline-item:last-child {
            border-left: 2px solid transparent;
        }
        
        .timeline-dot {
            position: absolute;
            left: -11px;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #4e73df;
            border: 3px solid #fff;
            box-shadow: 0 0 0 2px #e0e0e0;
        }
        
        .timeline-dot.bg-success {
            background-color: #1cc88a;
        }
        
        .timeline-dot.bg-danger {
            background-color: #e74a3b;
        }
        
        .timeline-content {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 10px 15px;
        }
        
        .points-badge {
            font-weight: bold;
            font-size: 0.9rem;
            padding: 4px 8px;
            border-radius: 10px;
        }
        
        .points-badge.positive {
            color: #1cc88a;
            background: rgba(28, 200, 138, 0.1);
        }
        
        .points-badge.negative {
            color: #e74a3b;
            background: rgba(231, 74, 59, 0.1);
        }
        
        /* Badge Styles */
        .badge-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            background-color: #f0f0f0;
            color: #999;
            font-size: 1.2rem;
            margin-bottom: 8px;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .badge-icon.active {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.3);
            border: 2px solid white;
        }
    </style>
    
    <!-- Add story view modal HTML structure -->
    <div class="story-view-modal d-none" id="storyViewModal">
        <div class="story-progress-container" id="storyProgressContainer">
            <!-- Will be filled dynamically -->
        </div>
        
        <div class="story-header">
            <div class="story-user-info">
                <img src="" alt="User" class="story-user-avatar" id="storyUserAvatar">
                <div>
                    <div class="story-user-name" id="storyUserName"></div>
                    <div class="story-time" id="storyTime"></div>
                </div>
            </div>
            <button class="btn-close btn-close-white" id="closeStoryBtn"></button>
        </div>
        
        <div class="story-content">
            <img src="" alt="Story" class="story-image" id="storyImage">
            <div class="story-text" id="storyText"></div>
            
            <div class="story-nav">
                <div class="story-prev" id="storyPrev"></div>
                <div class="story-next" id="storyNext"></div>
            </div>
        </div>
        
        <div class="story-actions">
            <div class="story-reply">
                <input type="text" placeholder="Reply to story..." id="storyReplyInput">
            </div>
            <div class="story-buttons">
                <button id="storyLikeBtn"><i class="bi bi-heart"></i></button>
                <button id="storyShareBtn"><i class="bi bi-share"></i></button>
            </div>
        </div>
    </div>
    
    <!-- Stories JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Story functionality
            const storyItems = document.querySelectorAll('.story-item');
            const storyViewModal = document.getElementById('storyViewModal');
            const closeStoryBtn = document.getElementById('closeStoryBtn');
            const storyUserAvatar = document.getElementById('storyUserAvatar');
            const storyUserName = document.getElementById('storyUserName');
            const storyTime = document.getElementById('storyTime');
            const storyImage = document.getElementById('storyImage');
            const storyText = document.getElementById('storyText');
            const storyPrev = document.getElementById('storyPrev');
            const storyNext = document.getElementById('storyNext');
            const storyProgressContainer = document.getElementById('storyProgressContainer');
            const storyLikeBtn = document.getElementById('storyLikeBtn');
            
            // Story data (simulated)
            const stories = [
                {
                    user: {
                        name: 'Your Story',
                        avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1611892440504-42a792e24d32?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Tap here to add to your own story',
                            time: 'Just now'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Today\'s Picks',
                        avatar: 'https://images.unsplash.com/photo-1551272884-3c3d688ebed3?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1551272884-3c3d688ebed3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Discover today\'s special experiences 🌟',
                            time: '2h ago'
                        },
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1563911302283-d2bc129e7570?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Sundown drinks & tapas at the Rooftop Bar',
                            time: '2h ago'
                        },
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1540555700478-4be289fbecef?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Drone beach photography - Register now!',
                            time: '2h ago'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Staff Picks',
                        avatar: 'https://images.unsplash.com/photo-1590086782957-93c06ef21604?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1590086782957-93c06ef21604?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Staff recommendations for your stay',
                            time: '5h ago'
                        },
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1544148103-0773bf10d330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Try our award-winning spa treatments',
                            time: '5h ago'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Local Spots',
                        avatar: 'https://images.unsplash.com/photo-1488805990569-3c9e1d76d51c?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1488805990569-3c9e1d76d51c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Hidden gems around the hotel',
                            time: '1d ago'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Events',
                        avatar: 'https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Upcoming events this week',
                            time: '3h ago'
                        }
                    ]
                }
            ];
            
            // Current viewing state
            let currentStoryIndex = 0;
            let currentItemIndex = 0;
            let storyTimeout;
            
            // Initialize story items
            if (storyItems && storyItems.length > 0) {
                storyItems.forEach((item, index) => {
                    item.addEventListener('click', function() {
                        openStory(index);
                    });
                });
            }
            
            // Open story modal
            function openStory(storyIndex) {
                if (!storyViewModal) return;
                
                currentStoryIndex = storyIndex;
                currentItemIndex = 0;
                
                // Show modal
                storyViewModal.classList.remove('d-none');
                document.body.style.overflow = 'hidden';
                
                // Load first story item
                loadStoryItem();
            }
            
            // Close story modal
            if (closeStoryBtn) {
                closeStoryBtn.addEventListener('click', function() {
                    closeStory();
                });
            }
            
            function closeStory() {
                if (!storyViewModal) return;
                
                storyViewModal.classList.add('d-none');
                document.body.style.overflow = '';
                clearTimeout(storyTimeout);
                
                // Mark story as viewed
                if (currentStoryIndex > 0 && storyItems[currentStoryIndex]) {
                    const avatar = storyItems[currentStoryIndex].querySelector('.story-avatar');
                    if (avatar) {
                        avatar.classList.add('viewed');
                        avatar.classList.remove('has-story');
                    }
                }
            }
            
            // Load story item
            function loadStoryItem() {
                const story = stories[currentStoryIndex];
                if (!story) return closeStory();
                
                const item = story.items[currentItemIndex];
                if (!item) {
                    // Move to next story if no more items
                    currentStoryIndex++;
                    currentItemIndex = 0;
                    return loadStoryItem();
                }
                
                // Set user info
                if (storyUserAvatar) storyUserAvatar.src = story.user.avatar;
                if (storyUserName) storyUserName.textContent = story.user.name;
                if (storyTime) storyTime.textContent = item.time;
                
                // Set content
                if (storyImage) storyImage.src = item.src;
                if (storyText) storyText.textContent = item.text;
                
                // Create progress bars
                if (storyProgressContainer) {
                    storyProgressContainer.innerHTML = '';
                    for (let i = 0; i < story.items.length; i++) {
                        const progressDiv = document.createElement('div');
                        progressDiv.className = 'story-progress mx-1';
                        
                        const progressBar = document.createElement('div');
                        progressBar.className = 'story-progress-bar';
                        
                        // If it's a past item, fill the bar
                        if (i < currentItemIndex) {
                            progressBar.style.width = '100%';
                        }
                        // If it's the current item, animate it
                        else if (i === currentItemIndex) {
                            progressBar.style.width = '0%';
                            progressBar.style.transition = 'width 5s linear';
                            setTimeout(() => {
                                progressBar.style.width = '100%';
                            }, 50);
                        }
                        
                        progressDiv.appendChild(progressBar);
                        storyProgressContainer.appendChild(progressDiv);
                    }
                }
                
                // Auto advance after 5 seconds
                clearTimeout(storyTimeout);
                storyTimeout = setTimeout(() => {
                    nextStoryItem();
                }, 5000);
            }
            
            // Navigation
            function nextStoryItem() {
                currentItemIndex++;
                const story = stories[currentStoryIndex];
                
                if (!story || currentItemIndex >= story.items.length) {
                    currentStoryIndex++;
                    currentItemIndex = 0;
                }
                
                loadStoryItem();
            }
            
            function prevStoryItem() {
                currentItemIndex--;
                
                if (currentItemIndex < 0) {
                    currentStoryIndex--;
                    
                    if (currentStoryIndex < 0) {
                        currentStoryIndex = 0;
                        currentItemIndex = 0;
                    } else {
                        const story = stories[currentStoryIndex];
                        currentItemIndex = story.items.length - 1;
                    }
                }
                
                loadStoryItem();
            }
            
            // Add click events for navigation
            if (storyNext) {
                storyNext.addEventListener('click', function(e) {
                    e.stopPropagation();
                    nextStoryItem();
                });
            }
            
            if (storyPrev) {
                storyPrev.addEventListener('click', function(e) {
                    e.stopPropagation();
                    prevStoryItem();
                });
            }
            
            // Like button
            if (storyLikeBtn) {
                storyLikeBtn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    if (this.classList.contains('active')) {
                        this.innerHTML = '<i class="bi bi-heart-fill text-danger"></i>';
                        
                        // Show toast notification
                        const toast = document.createElement('div');
                        toast.classList.add('toast', 'show', 'bg-primary', 'text-white');
                        toast.setAttribute('role', 'alert');
                        toast.setAttribute('aria-live', 'assertive');
                        toast.setAttribute('aria-atomic', 'true');
                        
                        toast.innerHTML = `
                            <div class="toast-body">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-coin me-2"></i>
                                    <div>You earned 2 points!</div>
                                </div>
                            </div>
                        `;
                        
                        document.querySelector('.toast-container').appendChild(toast);
                        
                        // Auto dismiss after 3 seconds
                        setTimeout(() => {
                            toast.classList.remove('show');
                            setTimeout(() => {
                                toast.remove();
                            }, 500);
                        }, 3000);
                        
                        // Update points in profile
                        const pointsStat = document.querySelector('.stat-item:nth-child(2) .fw-bold');
                        if (pointsStat) {
                            pointsStat.textContent = parseInt(pointsStat.textContent) + 2;
                        }
                    } else {
                        this.innerHTML = '<i class="bi bi-heart"></i>';
                    }
                });
            }
            
            // "Add to Your Story" functionality
            const myStoryItem = document.querySelector('.story-item.my-story');
            if (myStoryItem) {
                myStoryItem.addEventListener('click', function() {
                    // For "Your Story", we'll open the Create Moment modal
                    const createMomentModal = new bootstrap.Modal(document.getElementById('createMomentModal'));
                    createMomentModal.show();
                    
                    // Close story view if open
                    closeStory();
                });
            }
            
            // Handle keyboard for stories
            document.addEventListener('keydown', function(e) {
                if (storyViewModal && !storyViewModal.classList.contains('d-none')) {
                    if (e.key === 'ArrowRight') {
                        nextStoryItem();
                    } else if (e.key === 'ArrowLeft') {
                        prevStoryItem();
                    } else if (e.key === 'Escape') {
                        closeStory();
                    }
                }
            });
            
            // Prevent default touch behavior on story modal to avoid unwanted scrolling
            if (storyViewModal) {
                storyViewModal.addEventListener('touchmove', function(e) {
                    e.preventDefault();
                }, { passive: false });
            }
        });
    </script>
</head>
<body>
    <div class="mobile-app">
        <!-- Header with Room Information -->
        <div class="mobile-header-alt">
            <div class="d-flex align-items-center">
                <div class="mobile-logo-placeholder text-primary">Your Logo</div>
                <div>
                    <h5 class="mb-0 text-primary">Sunset Resort</h5>
                    <div class="small text-secondary"><span data-i18n="room">Room</span> 302 - Deluxe Ocean View</div>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <div class="dropdown me-2">
                    <button class="btn btn-sm btn-outline-primary dropdown-toggle" type="button" id="languageSelector" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-globe2"></i> <span class="current-language">ΕΛ</span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="languageSelector">
                        <li><button class="dropdown-item language-option active" data-lang="el">Ελληνικά</button></li>
                        <li><button class="dropdown-item language-option" data-lang="en">English</button></li>
                    </ul>
                </div>
                <button class="btn btn-sm text-primary" data-tab="profile">
                    <i class="bi bi-person-circle fs-4"></i>
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="mobile-content" id="app-content">
            <!-- Tab Contents -->
            <div class="tab-contents">
                <!-- Home Tab Content -->
            <div class="tab-content" id="home-content">
                <!-- Welcome Card -->
                <div class="card mb-4 welcome-card">
                    <div class="card-body p-0">
                        <div class="welcome-header p-4">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h4 class="text-white mb-1"><span data-i18n="welcome">Welcome,</span> John!</h4>
                                    <p class="text-white-50 mb-0"><span data-i18n="your_stay">Your stay:</span> <strong class="text-white">June 15-20, 2023</strong></p>
                                </div>
                                <div class="room-badge">
                                    <span data-i18n="room">Room</span>
                                    <h3>412</h3>
                                </div>
                            </div>
                            <div class="position-absolute welcome-decoration">
                                <i class="bi bi-building text-white-50"></i>
                            </div>
                        </div>
                        <div class="p-3">
                            <div class="row g-2 quick-actions">
                                <div class="col-3">
                                    <div class="quick-action-btn room-key-btn" data-bs-toggle="modal" data-bs-target="#roomKeyModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-key text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="room_key">Room Key</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#wifiModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-wifi text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="wifi">WiFi</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#billModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-receipt text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="bill">Bill</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#helpModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-question-circle text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="help">Help</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                    <!-- Quick Actions Title -->
                    <h5 class="mb-3">Quick Actions</h5>

                    <!-- Room Services Toolbar -->
                    <div class="services-toolbar mb-4">
                        <div class="scrollable-tabs">
                            <div class="nav nav-pills flex-nowrap" role="tablist">
                                <button class="nav-link active me-2" data-bs-toggle="pill" data-bs-target="#towels">
                                    <i class="bi bi-droplet me-2"></i>Towels
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#pillows">
                                    <i class="bi bi-cloud me-2"></i>Pillows
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#blankets">
                                    <i class="bi bi-layers me-2"></i>Blankets
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#toiletries">
                                    <i class="bi bi-basket2 me-2"></i>Toiletries
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#bathrobes">
                                    <i class="bi bi-person-lines-fill me-2"></i>Bathrobes
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#slippers">
                                    <i class="bi bi-shuffle me-2"></i>Slippers
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#amenities">
                                    <i class="bi bi-box-seam me-2"></i>More
                                </button>
                            </div>
                        </div>
                    </div>
                
                <!-- Active Requests Card - Now separate -->
                <div class="card mb-4">
                    <div class="card-body p-3">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h6 class="mb-0">Active Requests</h6>
                            <span class="badge bg-primary rounded-pill">2</span>
                        </div>
                        
                        <!-- Latest Active Request Preview -->
                        <div class="latest-request mb-3">
                            <div class="d-flex align-items-center">
                                <div class="request-icon me-3">
                                    <i class="bi bi-cup-hot fs-4 text-primary"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="fw-medium">Room Service Order</div>
                                        <small class="text-success"><i class="bi bi-clock me-1"></i>8 min</small>
                                    </div>
                                    <div class="progress mt-2" style="height: 4px;">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 65%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#activeRequestsModal">
                            <i class="bi bi-list-ul me-2"></i>View All Requests
                        </button>
                    </div>
                </div>

                <!-- Room Controls Card - Now separate -->
                <div class="card mb-4">
                    <div class="card-body p-3">
                        <!-- Temperature Control with Improved UI -->
                        <div class="control-section mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-thermometer-half fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Temperature <small class="text-muted room-temp ms-1">22°C</small></span>
                                </div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="temperature">
                                    <i class="bi bi-clock"></i> Schedule
                                </button>
                            </div>
                            <div class="position-relative px-3">
                                <input type="range" class="form-range temperature-slider" min="16" max="28" value="22" id="tempControl">
                                <div class="d-flex justify-content-between mt-2 small text-muted">
                                    <span class="temp-cold">16°C</span>
                                    <span>22°C</span>
                                    <span class="temp-hot">28°C</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lights Control with Modern UI -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-lightbulb fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Lights</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-primary rounded-pill me-2" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="lights">
                                        <i class="bi bi-clock"></i>
                                    </button>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="roomLights">
                                    </div>
                                </div>
                            </div>
                            <div class="room-scenes">
                                <div class="d-flex justify-content-between mt-2 flex-wrap gap-2">
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="relax">
                                        <i class="bi bi-moon-stars me-1"></i> Relax
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="work">
                                        <i class="bi bi-laptop me-1"></i> Work
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="movie">
                                        <i class="bi bi-film me-1"></i> Movie
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="sleep">
                                        <i class="bi bi-moon me-1"></i> Sleep
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Curtains Control with Improved UI -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-layout-sidebar fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Curtains</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-primary rounded-pill me-2" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="curtains">
                                        <i class="bi bi-clock"></i>
                                    </button>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="roomCurtains">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Do Not Disturb Switch with Better Visual -->
                        <div class="mb-0">
                            <div class="d-flex justify-content-between align-items-center p-2 bg-light rounded-3">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-shield-lock fs-3 me-2 text-danger"></i>
                                    <span class="fw-medium">Do Not Disturb</span>
                                </div>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="dndMode">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Personalized Recommendations -->
                <h5 class="mb-3">For You</h5>
                <div id="recommendations-container">
                    <!-- Recommendations will be dynamically added here by main.js -->
                </div>

                <!-- Hotel Services -->
                <h5 class="mt-4 mb-3">Hotel Services</h5>
                <div class="list-group mb-4">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#cleaningModal">
                        <div>
                                <h6 class="mb-1">Room Cleaning</h6>
                                <p class="mb-1 small text-muted">Schedule or request immediate cleaning</p>
                        </div>
                            <i class="bi bi-chevron-right text-muted"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#roomServiceModal">
                        <div>
                                <h6 class="mb-1">Room Service</h6>
                                <p class="mb-1 small text-muted">Order food and beverages</p>
                        </div>
                            <i class="bi bi-chevron-right text-muted"></i>
                    </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#maintenanceModal">
                        <div>
                                <h6 class="mb-1">Maintenance</h6>
                                <p class="mb-1 small text-muted">Report issues or request repairs</p>
                        </div>
                            <i class="bi bi-chevron-right text-muted"></i>
                    </a>
                </div>
                
                    <!-- Remove Active Requests section and modal -->
            </div>
            
            <!-- Experience Tab Content -->
            <div class="tab-content d-none" id="experience-content">
                <div class="mb-3">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search experiences" id="experience-search">
                        <button class="btn btn-outline-primary" type="button">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Experience Categories -->
                <div class="d-flex gap-2 mb-3 experience-categories overflow-auto py-1">
                    <button class="btn btn-sm btn-primary active" data-category="all">All</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="tours">Tours</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="food">Food</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="water">Water</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="wellness">Wellness</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="culture">Culture</button>
                </div>
                
                <h5 class="mb-4">Recommended Experiences</h5>
                
                <div class="card mb-4 experience-card" data-category="water">
                    <img src="https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Sunset Cruise" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Sunset Sailing Trip</h5>
                            <span class="badge bg-primary">Recommended</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </span>
                            <small class="text-muted">4.5 (243 reviews)</small>
                        </div>
                        <p class="card-text">Experience breathtaking views of the coastline with our exclusive sunset sailing trip, perfect for couples and photography enthusiasts.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn" disabled>16:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">17:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">18:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">19:30</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">€85</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4 experience-card" data-category="food">
                    <img src="https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Wine Tasting" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Local Wine Tasting</h5>
                            <span class="badge bg-success">95% Match</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star"></i>
                            </span>
                            <small class="text-muted">4.1 (186 reviews)</small>
                        </div>
                        <p class="card-text">Discover the finest local wines with our guided tasting tour. Transportation and lunch included.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn">10:00</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">14:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">16:00</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">€75</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4 experience-card" data-category="culture">
                    <img src="https://images.unsplash.com/photo-1514986888952-8cd320577b68?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Cooking Class" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Traditional Cooking Class</h5>
                            <span class="badge bg-info">New</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </span>
                            <small class="text-muted">4.7 (98 reviews)</small>
                        </div>
                        <p class="card-text">Learn to prepare authentic local dishes with our expert chef in this hands-on cooking experience.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn">11:00</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">17:00</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">€65</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button class="btn btn-outline-primary">View All Experiences</button>
                </div>
                
                <!-- Booking Confirmation Modal -->
                <div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" style="z-index: 1060;">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Confirm Booking</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="booking-details mb-4">
                                    <h5 class="booking-title">Sunset Sailing Trip</h5>
                                    <div class="booking-info mb-3">
                                        <div><i class="bi bi-calendar me-2"></i><span class="booking-date">June 18, 2023</span></div>
                                        <div><i class="bi bi-clock me-2"></i><span class="booking-time">18:30</span></div>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <select class="form-select" id="guestCount">
                                            <option value="1">1 Guest</option>
                                            <option value="2" selected>2 Guests</option>
                                            <option value="3">3 Guests</option>
                                            <option value="4">4 Guests</option>
                                            <option value="5">5 Guests</option>
                                        </select>
                                        <label for="guestCount">Number of Guests</label>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <textarea class="form-control" placeholder="Special requests" id="specialRequests" style="height: 100px"></textarea>
                                        <label for="specialRequests">Special Requests (Optional)</label>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Price per person</div>
                                            <div>€85.00</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Guests</div>
                                            <div>× 2</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Subtotal</div>
                                            <div>€170.00</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Hotel Guest Discount</div>
                                            <div class="text-success">-€17.00</div>
                                        </div>
                                        <hr>
                                        <div class="d-flex justify-content-between">
                                            <h6>Total</h6>
                                            <h6>€153.00</h6>
                                        </div>
                                        <div class="form-check mt-3">
                                            <input class="form-check-input" type="checkbox" id="chargeToRoom" checked>
                                            <label class="form-check-label" for="chargeToRoom">
                                                Charge to room
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary confirm-booking-btn">Confirm Booking</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile Tab Content -->
            <div class="tab-content d-none" id="profile-content">
                <div class="text-center mb-4">
                    <div class="display-1 mb-3">
                        <i class="bi bi-person-circle"></i>
                    </div>
                    <h4>John Doe</h4>
                    <p class="text-muted">Gold Member</p>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Stay Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-5 text-muted">Check-in:</div>
                            <div class="col-7">June 15, 2023 (3:00 PM)</div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-5 text-muted">Check-out:</div>
                            <div class="col-7">June 20, 2023 (12:00 PM)</div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-5 text-muted">Room:</div>
                            <div class="col-7">302 - Deluxe Ocean View</div>
                        </div>
                        <div class="row">
                            <div class="col-5 text-muted">Guests:</div>
                            <div class="col-7">2 Adults</div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Preferences</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="dailyCleaningSwitch" checked>
                            <label class="form-check-label" for="dailyCleaningSwitch">Daily Room Cleaning</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="turndownServiceSwitch">
                            <label class="form-check-label" for="turndownServiceSwitch">Evening Turndown Service</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="notificationsSwitch" checked>
                            <label class="form-check-label" for="notificationsSwitch">Push Notifications</label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="ecoModeSwitch" checked>
                            <label class="form-check-label" for="ecoModeSwitch">Eco-Friendly Mode</label>
                        </div>
                    </div>
                </div>
                
                <div class="d-grid">
                    <a href="index.html" class="btn btn-outline-danger">Sign Out</a>
                </div>
            </div>
            
            <!-- AI Assistant/Concierge Tab Content -->
            <div class="tab-content d-none" id="concierge-content">
                <div class="d-flex flex-column h-100">
                    <!-- Chat Header -->
                    <div class="chat-header p-3 bg-white border-bottom">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-0" data-i18n="ai_assistant">AI Assistant</h5>
                                <p class="text-muted mb-0 small" data-i18n="virtual_concierge">24/7 virtual concierge service</p>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill" id="clear-chat-btn">
                                    <i class="bi bi-arrow-clockwise"></i> <span data-i18n="new_chat">New Chat</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Container -->
                    <div class="chat-container flex-grow-1">
                        <div class="chat-messages" id="chat-messages">
                            <!-- Messages will be added here dynamically -->
                            
                            <!-- Human Support Option -->
                            <div class="human-support-option" id="human-support-option">
                                <a class="human-support-link" id="talk-to-human">
                                    <i class="bi bi-person-circle"></i> <span data-i18n="talk_to_human">Talk to a human concierge</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Moments Tab Content -->
        <div class="tab-content d-none" id="moments-content">
            <!-- Stories View Modal -->
            <div class="modal fade" id="storyViewModal" tabindex="-1" aria-labelledby="storyViewModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content story-modal-content">
                        <div class="story-header">
                            <div class="d-flex align-items-center">
                                <div class="story-avatar me-2">
                                    <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">
                                </div>
                                <div>
                                    <h6 class="mb-0 text-white">Alex M.</h6>
                                    <small class="text-white-50">5 min ago</small>
                                </div>
                            </div>
                            <div>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="story-progress-container">
                            <div class="story-progress">
                                <div class="story-progress-bar active"></div>
                                <div class="story-progress-bar"></div>
                                <div class="story-progress-bar"></div>
                            </div>
                        </div>
                        <div class="story-content">
                            <div class="story-slide active">
                                <img src="https://images.unsplash.com/photo-1602343168117-bb8ffe3e2e9f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="story-image" alt="Story Image">
                                <div class="story-caption">
                                    <span class="mood-tag relaxed">
                                        <i class="bi bi-emoji-smile"></i> Relaxed
                                    </span>
                                    <p class="text-white">Perfect sunset view from my balcony! 🌅 #sunset #roomview</p>
                                    <div class="story-location">
                                        <i class="bi bi-geo-alt-fill"></i> Ocean View Room
                                    </div>
                                </div>
                            </div>
                            <div class="story-slide">
                                <img src="https://images.unsplash.com/photo-1540541338287-41700207dee6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="story-image" alt="Story Image">
                                <div class="story-caption">
                                    <span class="mood-tag excited">
                                        <i class="bi bi-emoji-laughing"></i> Excited
                                    </span>
                                    <p class="text-white">Cocktails by the pool! 🍹 #cocktailhour #poolside</p>
                                    <div class="story-location">
                                        <i class="bi bi-geo-alt-fill"></i> Pool Bar
                                    </div>
                                </div>
                            </div>
                            <div class="story-slide">
                                <img src="https://images.unsplash.com/photo-1662822932949-905fba3162c8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="story-image" alt="Story Image">
                                <div class="story-caption">
                                    <span class="mood-tag thrilled">
                                        <i class="bi bi-emoji-heart-eyes"></i> Thrilled
                                    </span>
                                    <p class="text-white">Best breakfast ever! Chef's special was amazing 😍 #foodie #breakfastwithaview</p>
                                    <div class="story-location">
                                        <i class="bi bi-geo-alt-fill"></i> Main Restaurant
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="story-controls">
                            <button class="btn-story-nav prev-story">
                                <i class="bi bi-chevron-left"></i>
                            </button>
                            <div class="story-reactions">
                                <button class="btn-reaction" data-reaction="love">
                                    <i class="bi bi-heart-fill"></i>
                                </button>
                                <button class="btn-reaction" data-reaction="wow">
                                    <i class="bi bi-emoji-surprise-fill"></i>
                                </button>
                                <button class="btn-reaction" data-reaction="clap">
                                    <i class="bi bi-hand-thumbs-up-fill"></i>
                                </button>
                            </div>
                            <button class="btn-story-nav next-story">
                                <i class="bi bi-chevron-right"></i>
                            </button>
                        </div>
                        <div class="story-reply">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Reply to story...">
                                <button class="btn btn-primary">
                                    <i class="bi bi-send-fill"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onboarding Modal -->
            <div class="modal fade" id="onboardingModal" tabindex="-1" aria-labelledby="onboardingModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content">
                        <div class="modal-body p-0">
                            <div class="onboarding-slider">
                                <div class="onboarding-slide active" data-slide="1">
                                    <div class="onboarding-content">
                                        <div class="onboarding-icon">
                                            <i class="bi bi-camera text-primary"></i>
                                        </div>
                                        <h2>Μοιράσου τις στιγμές σου</h2>
                                        <p>Δημιούργησε stories και αναρτήσεις από τη διαμονή σου και μοιράσου τις με άλλους επισκέπτες.</p>
                                    </div>
                                </div>
                                <div class="onboarding-slide" data-slide="2">
                                    <div class="onboarding-content">
                                        <div class="onboarding-icon">
                                            <i class="bi bi-coin text-warning"></i>
                                        </div>
                                        <h2>Κέρδισε πόντους</h2>
                                        <p>Κάθε αλληλεπίδραση σου επιβραβεύεται με πόντους, για κάθε story, ανάρτηση ή αντίδραση.</p>
                                    </div>
                                </div>
                                <div class="onboarding-slide" data-slide="3">
                                    <div class="onboarding-content">
                                        <div class="onboarding-icon">
                                            <i class="bi bi-gift text-success"></i>
                                        </div>
                                        <h2>Εξαργύρωσε επιβραβεύσεις</h2>
                                        <p>Χρησιμοποίησε τους πόντους σου για να αποκτήσεις αποκλειστικές προσφορές και δώρα κατά τη διαμονή σου.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="onboarding-controls">
                                <div class="onboarding-dots">
                                    <span class="onboarding-dot active" data-slide="1"></span>
                                    <span class="onboarding-dot" data-slide="2"></span>
                                    <span class="onboarding-dot" data-slide="3"></span>
                                </div>
                                <button class="btn btn-primary rounded-pill px-4" id="onboardingNextBtn">Επόμενο</button>
                                <button class="btn btn-success rounded-pill px-4 d-none" id="onboardingFinishBtn">Ξεκίνα την εμπειρία</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Daily Mission Toast Notification -->
            <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1080;">
                <div class="toast bg-primary text-white" role="alert" aria-live="assertive" aria-atomic="true" id="dailyMissionToast">
                    <div class="toast-header bg-primary text-white">
                        <i class="bi bi-stars me-2"></i>
                        <strong class="me-auto">Ημερήσια Αποστολή</strong>
                        <small>Μόλις τώρα</small>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                        <div class="d-flex align-items-center">
                            <div class="toast-icon me-3">
                                <i class="bi bi-camera fs-1"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Ανέβασε 2 stories από διαφορετικές τοποθεσίες</h6>
                                <p class="mb-1">Ολοκλήρωσε την αποστολή για να κερδίσεις 30 πόντους!</p>
                                <div class="progress mt-2" style="height: 8px;">
                                    <div class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <small class="text-white-50">0/2 ολοκληρώθηκαν</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Moments Navigation Tabs -->
            <div class="moments-tab-navigation mb-2 d-none">
                <div class="tab-links">
                    <button class="moments-tab-btn active text-primary" data-tab="feed">
                        <i class="bi bi-house-fill"></i>
                        <span>Feed</span>
                    </button>
                    <button class="moments-tab-btn text-muted" data-tab="explore">
                        <i class="bi bi-compass"></i>
                        <span>Explore</span>
                    </button>
                    <button class="moments-tab-btn text-muted" data-tab="profile">
                        <i class="bi bi-person"></i>
                        <span>Profile</span>
                    </button>
                </div>
            </div>

            <!-- Moments Feed Section -->
            <div class="moments-feed">
                <!-- Stories Row -->
                <div class="stories-container mb-3">
                    <div class="story-item my-story">
                        <button class="create-story-btn" id="createStoryBtn">
                            <div class="story-avatar">
                                <i class="bi bi-plus"></i>
                            </div>
                            <span>Story</span>
                        </button>
                    </div>
                    <div class="story-item highlight-story" data-story-id="1">
                        <div class="story-avatar">
                            <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Alex M.</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="2">
                        <div class="story-avatar">
                            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>John D.</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="3">
                        <div class="story-avatar highlight">
                            <img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Emma S.</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="4">
                        <div class="story-avatar staff-pick">
                            <img src="https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Staff</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="5">
                        <div class="story-avatar">
                            <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Lisa K.</span>
                    </div>
                </div>

                <!-- Mood Filter Chips -->
                <div class="mood-filter-chips mb-3">
                    <button class="btn btn-sm btn-light rounded-pill mood-chip active">
                        <i class="bi bi-funnel-fill me-1"></i> All
                    </button>
                    <button class="btn btn-sm btn-light rounded-pill mood-chip">
                        <i class="bi bi-emoji-smile me-1"></i> Relaxed
                    </button>
                    <button class="btn btn-sm btn-light rounded-pill mood-chip">
                        <i class="bi bi-emoji-laughing me-1"></i> Excited
                    </button>
                    <button class="btn btn-sm btn-light rounded-pill mood-chip">
                        <i class="bi bi-emoji-heart-eyes me-1"></i> Thrilled
                    </button>
                </div>

                <!-- First Moment Card - Staff Pick -->
                <div class="card mb-4 moment-card staff-pick-card">
                    <div class="staff-pick-badge">
                        <i class="bi bi-award-fill"></i> Staff Pick
                    </div>
                    <div class="moment-image">
                        <div id="staffPickCarousel" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#staffPickCarousel" data-bs-slide-to="0" class="active"></button>
                                <button type="button" data-bs-target="#staffPickCarousel" data-bs-slide-to="1"></button>
                                <button type="button" data-bs-target="#staffPickCarousel" data-bs-slide-to="2"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Staff Pick">
                                </div>
                                <div class="carousel-item">
                                    <img src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Staff Pick">
                                </div>
                                <div class="carousel-item">
                                    <img src="https://images.unsplash.com/photo-1540541338287-41700207dee6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Staff Pick">
                                </div>
                            </div>
                        </div>
                        <div class="location-badge">
                            <i class="bi bi-geo-alt-fill"></i> Infinity Pool
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div class="d-flex align-items-center">
                                <div class="user-avatar me-2">
                                    <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">
                                </div>
                                <div>
                                    <h6 class="mb-0">Alex M.</h6>
                                    <p class="text-muted small mb-0">3 hours ago · <i class="bi bi-geo-alt-fill"></i> #InfinityPool</p>
                                </div>
                            </div>
                            <span class="badge bg-warning">Top Moment</span>
                        </div>
                        
                        <div class="moment-mood mb-2">
                            <span class="mood-tag thrilled">
                                <i class="bi bi-emoji-heart-eyes"></i> Thrilled
                            </span>
                        </div>
                        
                        <p class="card-text">Infinity pool with sunset view - absolutely breathtaking! 🌅 Definitely a highlight of my stay here.</p>
                        
                        <div class="moment-tags mb-3">
                            <span class="badge rounded-pill bg-light text-dark">#sunset</span>
                            <span class="badge rounded-pill bg-light text-dark">#infinitypool</span>
                            <span class="badge rounded-pill bg-light text-dark">#dreamy</span>
                        </div>
                        
                        <div class="moment-stats d-flex align-items-center mb-3">
                            <div class="rating me-2">
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="small">5.0/5</span>
                            </div>
                            <div class="views small text-muted">
                                <i class="bi bi-eye"></i> 128 views
                            </div>
                        </div>
                        
                        <div class="moment-actions d-flex justify-content-between">
                            <div class="reactions">
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="love">
                                    <i class="bi bi-heart"></i> <span>32</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="wow">
                                    <i class="bi bi-emoji-surprise"></i> <span>18</span>
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-comment-btn">
                                    <i class="bi bi-chat"></i> <span>7</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-share-btn">
                                    <i class="bi bi-share"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Second Moment Card - User Generated -->
                <div class="card mb-4 moment-card">
                    <div class="moment-image">
                        <img src="https://images.unsplash.com/photo-1662822932949-905fba3162c8?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="User Moment">
                        <div class="location-badge">
                            <i class="bi bi-geo-alt-fill"></i> Main Restaurant
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div class="d-flex align-items-center">
                                <div class="user-avatar me-2">
                                    <img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">
                                </div>
                                <div>
                                    <h6 class="mb-0">Emma S.</h6>
                                    <p class="text-muted small mb-0">5 hours ago · <i class="bi bi-geo-alt-fill"></i> #MainRestaurant</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="moment-mood mb-2">
                            <span class="mood-tag excited">
                                <i class="bi bi-emoji-laughing"></i> Excited
                            </span>
                        </div>
                        
                        <p class="card-text">Chef's special breakfast was absolutely delicious! 😍 The presentation was stunning and flavors were amazing.</p>
                        
                        <div class="moment-tags mb-3">
                            <span class="badge rounded-pill bg-light text-dark">#foodie</span>
                            <span class="badge rounded-pill bg-light text-dark">#breakfastwithaview</span>
                            <span class="badge rounded-pill bg-light text-dark">#chefspecial</span>
                        </div>
                        
                        <div class="moment-stats d-flex align-items-center mb-3">
                            <div class="rating me-2">
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="small">4.9/5</span>
                            </div>
                            <div class="views small text-muted">
                                <i class="bi bi-eye"></i> 87 views
                            </div>
                        </div>
                        
                        <div class="moment-actions d-flex justify-content-between">
                            <div class="reactions">
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="love">
                                    <i class="bi bi-heart"></i> <span>24</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="wow">
                                    <i class="bi bi-emoji-surprise"></i> <span>12</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="yum">
                                    <i class="bi bi-emoji-heart-eyes"></i> <span>18</span>
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-comment-btn">
                                    <i class="bi bi-chat"></i> <span>5</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-share-btn">
                                    <i class="bi bi-share"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Create Moment Button -->
                <button class="btn btn-primary rounded-circle create-moment-btn shadow-lg pulse-animation" id="createMomentBtn">
                    <i class="bi bi-plus fs-4"></i>
                </button>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest App | e-Philoxenia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="fix-menu.css">
    <style>
        /* Additional mobile-specific styles */
        body {
            background-color: #f5f5f5;
            font-size: 0.9rem;
        }
        
        /* Blue theme modifications */
        .card-header.bg-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary)) !important;
        }
        
        .progress-bar.bg-primary {
            background: linear-gradient(to right, var(--primary-dark), var(--primary)) !important;
        }
        
        .bg-primary-light {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .text-primary {
            color: var(--primary) !important;
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px 15px;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: bounce 1.5s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
            margin-right: 0;
        }
        
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-8px);
            }
        }
        
        /* New styles for interactive features */
        .room-key-btn {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .room-key-btn:hover {
            color: var(--bs-primary);
        }
        
        .room-scene-btn.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 2px 5px rgba(41, 98, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .experience-categories {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .experience-categories::-webkit-scrollbar {
            display: none;
        }
        
        .date-selector, .time-selector {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .date-selector::-webkit-scrollbar, .time-selector::-webkit-scrollbar {
            display: none;
        }
        
        .text-truncate-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .favorite-btn.btn-danger {
            border-color: var(--bs-danger);
        }
        
        .service-status-card {
            border-left: 4px solid var(--primary);
        }
        
        /* Add some animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Make the app feel more interactive */
        .list-group-item, .btn, .form-check-input, .mobile-nav-item, .card {
            transition: all 0.2s ease;
        }
        
        .list-group-item:active {
            transform: scale(0.98);
        }
        
        .btn:active {
            transform: scale(0.95);
            opacity: 0.9;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        /* Make recommendation severity badges smaller */
        #recommendations-container .badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            white-space: nowrap;
            min-width: 75px;
            text-align: center;
        }
        
        /* Smooth scrolling for tabs */
        .tab-content {
            transition: none;
        }
        
        /* Improved chat container styling */
        .chat-container {
            height: calc(100vh - 300px); /* Reduced height to account for higher chat bar */
            min-height: 350px;
            position: relative;
            overflow: hidden; /* Ensure content doesn't overflow */
        }
        
        .chat-messages {
            overflow-y: auto;
            padding: 15px;
            padding-bottom: 80px; /* Increased padding to prevent chat messages from being hidden behind chat elements */
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure it takes full height of container */
            position: absolute; /* Position absolutely within container */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0; /* Remove bottom offset as we'll handle this with padding */
            /* Hide scrollbar but keep functionality */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .chat-messages::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .message {
            max-width: 95%; /* Increased from 80% to better fit app width */
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            word-break: break-word;
            position: relative; /* For AI label positioning */
            font-size: 0.85rem;
        }
        
        .message-bot {
            background-color: #f0f2f5;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            padding-top: 20px; /* Extra space for AI label */
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        /* Don't show AI label for human messages */
        .message-bot[data-is-human="true"] {
            padding-top: 10px; /* Regular padding for human messages */
        }
        
        .message-bot[data-is-human="true"]::before {
            display: none;
        }
        
        .message-user {
            background-color: #0d6efd;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .suggestion-btn {
            white-space: nowrap;
        }
        
        /* Reposition global chat bar higher */
        .global-chat-bar {
            position: fixed;
            bottom: 70px; /* Increased from default position to move higher */
            left: 0;
            right: 0;
            padding: 10px 15px;
            background-color: white;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
            margin-bottom: 5px; /* Add margin between chat bar and navigation */
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05); /* Add subtle shadow for better separation */
        }
        
        /* Improved human support option */
        .human-support-option {
            margin: 15px auto;
            text-align: center;
            width: 100%;
            padding: 10px;
            border-radius: 12px;
            background-color: rgba(235, 242, 255, 0.7);
            border: 1px dashed rgba(41, 98, 255, 0.3);
            transition: all 0.2s ease;
            position: relative;
            z-index: 5;
        }
        
        .human-support-option:hover {
            background-color: rgba(235, 242, 255, 0.9);
            border-color: rgba(41, 98, 255, 0.5);
        }
        
        .human-support-link {
            display: inline-block;
            color: var(--primary);
            font-weight: 500;
            text-decoration: none;
            padding: 5px 15px;
            cursor: pointer;
            border-radius: 20px;
            transition: background-color 0.2s ease;
        }
        
        .human-support-link:hover {
            background-color: rgba(41, 98, 255, 0.1);
        }
        
        .human-support-link i {
            margin-right: 5px;
        }
        
        /* Concierge agent avatar */
        .concierge-avatar {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 24px;
            height: 24px;
            background-color: #e83e8c;
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 12px;
            margin-right: 8px;
        }
        
        /* Service Tracking Styles */
        .progress-tracker {
            position: relative;
            margin: 15px 0;
        }
        
        .progress-step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        
        .progress-step-icon {
            width: 24px;
            height: 24px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-step-label {
            font-size: 10px;
            white-space: nowrap;
        }
        
        .progress-step.completed .progress-step-icon {
            color: var(--bs-success);
        }
        
        .progress-step.active .progress-step-icon {
            color: var(--bs-primary);
            animation: spin 2s linear infinite;
        }
        
        /* Fix for order tracking modal */
        #orderTabsContent {
            min-height: 300px;
        }
        
        /* Fix Bootstrap tab behavior in the service tracker modal */
        #serviceTrackerModal .tab-pane {
            opacity: 1;
        }
        
        #serviceTrackerModal .fade:not(.show) {
            opacity: 1;
            display: none;
        }
        
        /* Service Section New Styles */
        .quick-action-btn {
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
            min-height: 70px;
            padding: 8px;
            text-align: center;
        }
        
        .quick-action-btn i {
            margin-bottom: 5px;
        }
        
        .quick-action-btn span {
            display: block;
            margin-top: 3px;
            white-space: normal;
            font-size: 0.85rem;
        }
        
        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        /* Διόρθωση για τις προτάσεις του AI Assistant */
        .suggestion-btn {
            white-space: normal;
            text-align: left;
            line-height: 1.3;
            min-height: 40px;
            padding: 8px 12px;
            margin-bottom: 8px;
            display: block;
            width: 100%;
            word-wrap: break-word;
        }
        
        .smart-recommendation-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(13, 110, 253, 0.1);
        }
        
        .smart-recommendations .list-group-item {
            transition: all 0.2s ease;
            border-left: 0;
            border-right: 0;
        }
        
        .smart-recommendations .list-group-item:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .food-item {
            transition: all 0.2s ease;
        }
        
        .food-item:hover {
            background-color: #f8f9fa;
        }
        
        .food-options {
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control {
            max-width: 100px;
            margin-left: auto;
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control .form-control {
            text-align: center;
            border-left: 0;
            border-right: 0;
        }
        
        .rating-star {
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0 2px;
        }
        
        .rating-star:hover {
            transform: scale(1.2);
        }
        
        .recommended-badge {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
        }
        
        .service-status-card {
            transition: all 0.3s ease;
        }
        
        .delivery-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delivery-progress-bar {
            height: 6px;
        }
        
        /* Animation for the spinner icon */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Toast animation */
        .toast.show {
            animation: slideInTop 0.3s forwards;
        }
        
        /* Ensure toast notifications appear above all other elements */
        .toast-container {
            z-index: 9999 !important; /* Higher than any other element */
            position: fixed;
            pointer-events: none; /* Allow clicking through the container, but not the toasts */
            margin-top: 60px; /* Add margin to avoid overlapping with header */
        }
        
        .toast {
            pointer-events: auto; /* Make the toast itself clickable */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 350px; /* Make toast wider */
            background-color: #ffffff;
            border-left: 4px solid var(--bs-primary); /* Colored left border */
            font-size: 0.9rem; /* Slightly larger text */
        }
        
        .toast-header {
            border-bottom: none;
            background-color: #ffffff;
        }
        
        .toast-body {
            padding: 0.75rem 1rem; /* Slightly more padding */
        }
        
        /* Apply different border colors based on notification type */
        .toast[data-type="success"] {
            border-left-color: var(--bs-success);
        }
        
        .toast[data-type="danger"] {
            border-left-color: var(--bs-danger);
        }
        
        .toast[data-type="warning"] {
            border-left-color: var(--bs-warning);
        }
        
        .toast[data-type="info"] {
            border-left-color: var(--bs-info);
        }
        
        @keyframes slideInTop {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Map marker pulse animation */
        .pulse-animation {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Tour hotspot styles */
        .tour-hotspot {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.5);
            transition: all 0.2s ease;
        }
        
        .tour-hotspot i {
            color: var(--bs-primary);
        }
        
        .tour-hotspot:hover {
            transform: scale(1.1);
            background-color: white;
        }
        
        .hotspot-tooltip {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .tour-hotspot:hover .hotspot-tooltip {
            opacity: 1;
        }
        
        .tour-navigation {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .tour-nav-btn {
            opacity: 0.8;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .map-marker {
            position: absolute;
            z-index: 10;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .map-marker:hover {
            transform: scale(1.2);
        }
        
        .current-location {
            position: absolute;
            z-index: 20;
        }
        
        .floor-map {
            position: relative;
        }
        
        /* Room Controls Enhancements */
        .room-scene-btn {
            transition: all 0.25s ease;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        .room-scene-btn:hover:not(.active) {
            background-color: rgba(13, 110, 253, 0.03);
        }
        
        .preset-btn {
            border-radius: 10px;
            transition: all 0.25s ease;
            border-width: 1px;
            height: 100%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            text-align: left;
        }
        
        .preset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-color: var(--bs-primary);
        }
        
        .preset-btn i {
            color: var(--bs-primary);
        }
        
        /* Custom slider styling */
        .form-range {
            height: 6px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 30%, #ff6b6b 70%, #ff6b6b 100%);
            border-radius: 3px;
        }
        
        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .form-range::-webkit-slider-runnable-track {
            height: 6px;
            border-radius: 10px;
            background: linear-gradient(to right, #cce5ff, #0d6efd);
        }
        
        .form-range:focus {
            outline: none;
        }
        
        /* Enhanced form switch */
        .form-check-input {
            cursor: pointer;
            width: 45px;
            height: 22px;
        }
        
        .form-check-input:checked {
            background-color: var(--bs-primary);
            border-color: var(--bs-primary);
        }
        
        /* Make modals feel more responsive */
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-content {
            animation: modalFadeIn 0.3s forwards;
        }
        
        /* Temperature indicator styles */
        .temp-indicator {
            position: absolute;
            top: -30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bs-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translateX(-50%);
            pointer-events: none;
            transition: left 0.1s ease-out, background-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 5;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .temp-indicator::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 10px;
            height: 10px;
            background: inherit;
        }
        
        .temp-indicator-value {
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        /* Temperature colors */
        .temp-cool {
            color: #4dabf7;
        }
        
        .temp-moderate {
            color: #2ecc71;
        }
        
        .temp-warm {
            color: #f39c12;
        }
        
        .temp-hot {
            color: #ff6b6b;
        }
        
        /* Fix for strikethrough on disabled switches */
        .form-check-label {
            text-decoration: none !important;
        }
        
        /* Reduced font sizes for guest app */
        h4, .h4 {
            font-size: 1.3rem;
        }
        
        h5, .h5 {
            font-size: 1.1rem;
        }
        
        .mobile-header-alt .small, .welcome-card .small {
            font-size: 0.75rem;
        }
        
        .quick-action-btn .small {
            font-size: 0.7rem;
        }
        
        .fw-medium {
            font-size: 0.85rem;
        }
        
        .welcome-card h4 {
            font-size: 1.2rem;
        }
        
        .room-temp {
            font-size: 0.75rem;
        }
        
        .room-scene-btn {
            font-size: 0.8rem;
        }
        
        .text-muted.small {
            font-size: 0.7rem;
        }
        
        body {
            font-size: 0.9rem;
        }
        
        p {
            font-size: 0.85rem;
        }
        
        .card-title {
            font-size: 1.05rem;
        }
        
        .card-text {
            font-size: 0.85rem;
        }
        
        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }
        
        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }
        
        .form-label {
            font-size: 0.8rem;
        }
        
        .btn {
            font-size: 0.85rem;
        }

        .services-toolbar {
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .scrollable-tabs {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .scrollable-tabs::-webkit-scrollbar {
            display: none;
        }

        .services-toolbar .nav-link {
            white-space: nowrap;
            padding: 8px 16px;
            color: #6c757d;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .services-toolbar .nav-link:hover {
            background-color: #f8f9fa;
        }

        .services-toolbar .nav-link.active {
            background: linear-gradient(135deg, #001e52, #0c3b80);
            color: white;
        }

        .control-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .control-section:hover {
            background: #f1f3f5;
        }

        .form-range {
            height: 6px;
            background: linear-gradient(to right, #e9ecef 0%, #e9ecef 100%);
            border-radius: 3px;
        }

        .form-range::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: #001e52;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .form-check-input:checked {
            background-color: #001e52;
            border-color: #001e52;
        }

        .btn-outline-primary {
            border-color: #001e52;
            color: #001e52;
        }

        .btn-outline-primary:hover {
            background-color: #001e52;
            color: #fff;
        }

        .temperature-slider {
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #4dabf7 0%, #4dabf7 50%, #ff6b6b 50%, #ff6b6b 100%);
        }

        .temperature-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temperature-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .temperature-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #001e52;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .temp-cold { color: #4dabf7; }
        .temp-hot { color: #ff6b6b; }

        /* Add new styles */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
            z-index: 1000;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
        }

        .mobile-nav-item {
            text-align: center;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .mobile-nav-item.active {
            color: #001e52;
            font-weight: 500;
        }

        .mobile-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        .mobile-nav-item i {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
            transition: transform 0.3s ease;
        }

        .mobile-nav-item:hover i {
            transform: translateY(-2px);
        }

        .mobile-nav-item span {
            font-size: 0.75rem;
            display: block;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 2px;
        }

        .assistant-nav-item {
            color: #001e52;
            position: relative;
            padding: 8px 20px;
        }

        .assistant-nav-item i {
            font-size: 1.6rem;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }

        .assistant-nav-item small {
            font-weight: 500;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .assistant-nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #001e52, #0c3b80);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .assistant-nav-item:hover::before,
        .assistant-nav-item.active::before {
            width: 30px;
        }

        .assistant-nav-item:hover i,
        .assistant-nav-item.active i {
            transform: translateY(-2px);
        }

        .assistant-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #001e52;
        }

        /* Add padding to main content to account for bottom nav */
        .mobile-content {
            padding-bottom: 80px;
        }

        .mobile-header .btn-link {
            transition: all 0.3s ease;
            position: relative;
        }

        .mobile-header .btn-link:hover {
            transform: translateY(-2px);
        }

        .mobile-header .btn-link:active {
            transform: translateY(0);
        }

        .mobile-nav {
            justify-content: space-evenly;
            padding: 12px 40px;
        }

        .latest-request {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .request-icon {
            width: 45px;
            height: 45px;
            background: rgba(13, 110, 253, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Quick Actions Bar Styles */
        .quick-actions-bar {
            background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(255,255,255,0.98));
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin: 15px 0;
        }

        .quick-actions-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-left: 5px;
        }

        .service-btn {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            background: white;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            color: #2c3e50;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-right: 8px;
            white-space: nowrap;
        }

        .service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-color: rgba(13, 110, 253, 0.3);
            color: #0d6efd;
        }

        .service-btn.active {
            background: linear-gradient(135deg, #0d6efd, #0a58ca);
            color: white;
            border-color: transparent;
        }

        .service-icon {
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .service-label {
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Remove Active Requests Widget styles */
        .requests-widget,
        .requests-header,
        .requests-title,
        .requests-count,
        .request-items,
        .request-item,
        .request-icon,
        .request-info,
        .request-title,
        .request-status,
        .request-time,
        .view-all-btn {
            display: none;
        }

        /* Improved message styling */
        .message-bot {
            position: relative;
            padding-top: 20px !important;
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        .message-bot[data-is-human="true"] {
            background-color: #fff0f7 !important;
            padding-top: 10px !important;
        }
        
        .message-bot[data-is-human="true"]::before {
            content: 'Concierge';
            background-color: #e83e8c;
            color: white;
            padding: 0 5px;
            border-radius: 4px;
            font-size: 8px;
        }
        
        /* Make sure the chat messages are scrollable */
        #concierge-content {
            height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
        }
        
        /* Make sure the chat container takes the full height */
        #concierge-content .chat-container {
            flex: 1;
            position: relative;
            height: auto !important;
        }
        
        /* Experience Categories Styles */
        .experience-categories {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Moments Tab Styles */
        .create-moment-btn {
            width: 45px;
            height: 45px;
            box-shadow: 0 4px 12px rgba(var(--bs-primary-rgb), 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Stories styles */
        .stories-container {
            overflow-x: auto;
            white-space: nowrap;
            padding: 10px 0;
            margin-bottom: 15px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: inline-block;
            margin-right: 12px;
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .story-item:active {
            transform: scale(0.95);
        }
        
        .story-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            padding: 3px;
            margin-bottom: 5px;
            position: relative;
        }
        
        .story-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .story-avatar.has-story {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }
        
        .story-avatar.viewed {
            background: #ddd;
        }
        
        .story-title {
            font-size: 0.7rem;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .my-story .add-story {
            position: absolute;
            bottom: 15px;
            right: 0;
            background: #4e73df;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 2px solid white;
        }
        
        /* Story view modal */
        .story-view-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: black;
            display: flex;
            flex-direction: column;
        }
        
        .story-header {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            z-index: 1000;
        }
        
        .story-user-info {
            display: flex;
            align-items: center;
        }
        
        .story-user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .story-user-name {
            font-weight: 500;
        }
        
        .story-time {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        
        .story-progress-container {
            display: flex;
            position: absolute;
            top: 8px;
            left: 15px;
            right: 15px;
            z-index: 1000;
        }
        
        .story-progress {
            height: 3px;
            background: rgba(255,255,255,0.3);
            flex: 1;
            margin: 0 2px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .story-progress-bar {
            height: 100%;
            width: 0;
            background: white;
            border-radius: 3px;
        }
        
        .story-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .story-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .story-text {
            position: absolute;
            bottom: 50px;
            left: 15px;
            right: 15px;
            color: white;
            text-align: center;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .story-nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
        }
        
        .story-prev, .story-next {
            flex: 1;
        }
        
        .story-actions {
            display: flex;
            padding: 15px;
            align-items: center;
            justify-content: space-between;
            color: white;
        }
        
        .story-reply {
            display: flex;
            flex: 1;
            margin-right: 10px;
        }
        
        .story-reply input {
            flex: 1;
            border: none;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 8px 15px;
            color: white;
        }
        
        .story-buttons button {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            margin-left: 15px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .story-buttons button:hover {
            opacity: 1;
        }
        
        /* Better buttons styling */
        .btn {
            border-radius: 8px;
            padding: 8px 16px;
            transition: all 0.3s;
            font-weight: 500;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .btn-sm {
            padding: 5px 12px;
            font-size: 0.8rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4e73df, #224abe);
        }
        
        .btn-primary:hover, .btn-primary:focus {
            background: linear-gradient(135deg, #3a5ccc, #1a3aa0);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn-primary:active {
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .btn-outline-primary {
            color: #4e73df;
            border: 1px solid #4e73df;
            background: white;
        }
        
        .btn-outline-primary:hover, .btn-outline-primary:focus {
            background: #f0f4ff;
            color: #224abe;
            transform: translateY(-1px);
        }
        
        .moments-tab-btn.active {
            color: #4e73df !important;
            position: relative;
        }
        
        .moments-tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #4e73df;
            border-radius: 3px;
        }
        
        .reaction-btn.active {
            background-color: #f0f4ff;
        }
        
        /* Card and UI improvements */
        .card {
            border-radius: 12px;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .card-header {
            border-bottom: none;
            padding: 15px 20px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            background-color: #f9f9f9;
            transition: all 0.3s;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #4e73df;
            box-shadow: 0 0 0 3px rgba(78, 115, 223, 0.15);
            background-color: white;
        }
        
        .modal-content {
            border-radius: 12px;
            border: none;
            overflow: hidden;
        }
        
        .modal-header {
            border-bottom: none;
            padding: 20px;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            border-top: none;
            padding: 15px 20px 20px;
        }
        
        /* Icons styling */
        .bi {
            vertical-align: -0.125em;
        }
        
        /* Responsive improvements */
        @media (max-width: 576px) {
            .card-body {
                padding: 15px;
            }
            
            .btn {
                padding: 7px 14px;
            }
        }
        
        /* Story View Styles */
        .story-modal-content {
            background: linear-gradient(135deg, #614385, #516395);
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .story-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            z-index: 10;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-progress-container {
            position: absolute;
            top: 4rem;
            left: 0;
            right: 0;
            padding: 0 1rem;
            z-index: 10;
        }
        
        .story-progress {
            display: flex;
            gap: 4px;
        }
        
        .story-progress-bar {
            height: 3px;
            background-color: rgba(255,255,255,0.3);
            flex-grow: 1;
            border-radius: 3px;
        }
        
        .story-progress-bar.active {
            background-color: #fff;
            animation: progress 5s linear forwards;
        }
        
        @keyframes progress {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .story-content {
            height: 100%;
            position: relative;
        }
        
        .story-slide {
            display: none;
            height: 100%;
            position: relative;
        }
        
        .story-slide.active {
            display: block;
        }
        
        .story-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .story-caption {
            position: absolute;
            bottom: 6rem;
            left: 0;
            right: 0;
            padding: 1rem;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
        }
        
        .story-location {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
        }
        
        .story-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 1rem;
            z-index: 5;
        }
        
        .btn-story-nav {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            opacity: 0.6;
            transition: opacity 0.2s;
        }
        
        .btn-story-nav:hover {
            opacity: 1;
        }
        
        .story-reactions {
            display: flex;
            gap: 1rem;
        }
        
        .btn-reaction {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        
        .btn-reaction:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .btn-reaction[data-reaction="love"]:hover {
            color: #ff5b5b;
        }
        
        .btn-reaction[data-reaction="wow"]:hover {
            color: #ffce54;
        }
        
        .btn-reaction[data-reaction="clap"]:hover {
            color: #4cd964;
        }
        
        .story-reply {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            right: 1rem;
            z-index: 10;
        }
        
        .story-reply .form-control {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            border-radius: 20px;
        }
        
        .story-reply .form-control::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .story-reply .btn {
            border-radius: 20px;
        }
        
        /* Stories Row Improvements */
        .stories-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 5px;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            position: relative;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        .story-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            min-width: 80px;
            transition: transform 0.2s;
        }
        
        .story-item:hover {
            transform: translateY(-5px);
        }
        
        .story-avatar {
            width: 66px;
            height: 66px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 5px;
            background: #f8f9fa;
            overflow: hidden;
        }
        
        .story-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #fd1d1d, #833ab4, #fcb045);
            z-index: -1;
        }
        
        .story-avatar.highlight::before {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .story-avatar.staff-pick::before {
            background: linear-gradient(45deg, #FFD700, #FFA500);
        }
        
        .story-avatar img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }
        
        .story-item span {
            font-size: 0.7rem;
            font-weight: 500;
            color: #666;
            max-width: 80px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-align: center;
        }
        
        .my-story .story-avatar {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .my-story .story-avatar i {
            font-size: 1.5rem;
        }
        
        .create-story-btn {
            background: none;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #8952e0;
        }
        
        /* Onboarding Modal Styles */
        .onboarding-slider {
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .onboarding-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            background: white;
        }
        
        .onboarding-slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .onboarding-content {
            max-width: 400px;
        }
        
        .onboarding-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }
        
        .onboarding-icon i {
            background: #f0f4ff;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .onboarding-controls {
            position: absolute;
            bottom: 2rem;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            z-index: 10;
        }
        
        .onboarding-dots {
            display: flex;
            gap: 8px;
        }
        
        .onboarding-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s;
        }
        
        .onboarding-dot.active {
            width: 24px;
            border-radius: 4px;
            background-color: #6a11cb;
        }
        
        /* Mood Filter Chips */
        .mood-filter-chips {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 5px;
            -webkit-overflow-scrolling: touch;
        }
        
        .mood-filter-chips::-webkit-scrollbar {
            display: none;
        }
        
        .mood-chip {
            white-space: nowrap;
            transition: all 0.2s;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .mood-chip.active {
            background: #8952e0;
            color: white;
        }
        
        .mood-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        /* Staff Pick Styling */
        .staff-pick-card {
            position: relative;
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .staff-pick-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .staff-pick-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .location-badge {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
        }
        
        /* Create Moment Button Improvements */
        .create-moment-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            z-index: 1000;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            border: none;
            box-shadow: 0 4px 15px rgba(106, 17, 203, 0.4);
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(106, 17, 203, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(106, 17, 203, 0);
            }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* Moment Cards Improvements */
        .moment-card {
            border: none;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .moment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .moment-image {
            position: relative;
        }
        
        .user-avatar img {
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .moment-mood .mood-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }
        
        .mood-tag.relaxed {
            background: linear-gradient(45deg, #11998e, #38ef7d);
        }
        
        .mood-tag.excited {
            background: linear-gradient(45deg, #FC5C7D, #6A82FB);
        }
        
        .mood-tag.thrilled {
            background: linear-gradient(45deg, #FF512F, #DD2476);
        }
        
        .moment-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .moment-stats {
            font-size: 0.9rem;
        }
        
        .reaction-btn, .moment-comment-btn, .moment-share-btn {
            transition: all 0.2s;
            border-width: 1.5px;
        }
        
        .reaction-btn:hover, .moment-comment-btn:hover, .moment-share-btn:hover {
            transform: translateY(-2px);
        }
        
        .reaction-btn.active[data-reaction="love"] {
            background-color: #ffeeee;
            border-color: #ff5b5b;
            color: #ff5b5b;
        }
        
        .reaction-btn.active[data-reaction="wow"] {
            background-color: #fff9e6;
            border-color: #ffce54;
            color: #ffce54;
        }
        
        .reaction-btn.active[data-reaction="yum"] {
            background-color: #ffeef6;
            border-color: #ff5b9e;
            color: #ff5b9e;
        }
        
        /* Προσβασιμότητα και Βελτιώσεις UI */
        .moments-tab-navigation {
            background: white;
            border-radius: 25px;
            padding: 0.5rem;
            margin: 0 0.5rem 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0.5rem;
            z-index: 100;
        }
        
        .tab-links {
            display: flex;
            justify-content: space-around;
        }
        
        .moments-tab-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .moments-tab-btn i {
            font-size: 1.3rem;
            margin-bottom: 0.2rem;
        }
        
        .moments-tab-btn.active {
            background: #f0f4ff;
        }
        
        .moments-tab-btn:hover {
            transform: translateY(-3px);
        }
        
        /* Animation for new reactions */
        @keyframes reaction-animation {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .reaction-animation {
            animation: reaction-animation 0.5s ease;
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #f2f2f2;
            }
            
            .card {
                background-color: #2a2a2a;
                color: #f2f2f2;
            }
            
            .moments-tab-navigation {
                background: #2a2a2a;
            }
            
            .moments-tab-btn.active {
                background: #383838;
            }
            
            .text-muted {
                color: #aaaaaa !important;
            }
            
            .bg-light {
                background-color: #333333 !important;
            }
            
            .text-dark {
                color: #f2f2f2 !important;
            }
            
            .mood-chip {
                background: #333333;
                color: #f2f2f2;
            }
        }
        
        /* Voice Control Accessibility */
        .voice-control-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #6a11cb;
            border: none;
            color: white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .voice-control-btn i {
            font-size: 1.2rem;
        }
        
        /* Larger Touch Targets for Better Accessibility */
        .btn, button {
            min-height: 44px;
            min-width: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .story-item, .story-avatar, .mood-chip {
            min-width: 44px;
            min-height: 44px;
        }
        
        /* Helper for touch devices */
        @media (hover: none) {
            .btn:active, button:active, .story-item:active, .moment-card:active {
                transform: scale(0.97);
            }
            
            .tooltip-touch {
                position: fixed;
                bottom: 70px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.9rem;
                z-index: 1100;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.3s;
            }
            
            .tooltip-touch.visible {
                opacity: 1;
            }
        }
        
        /* Loading Transitions */
        .moments-feed, .moments-explore, .moments-profile {
            transition: opacity 0.3s;
        }
        
        .loading {
            opacity: 0.7;
        }
        
        .loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
        
        .loading .loading-spinner {
            display: block;
        }
        
        /* Badges for Rewards */
        .badge-achievement {
            position: relative;
            display: inline-flex;
            align-items: center;
            border-radius: 20px;
            padding: 8px 15px;
            padding-left: 36px;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .badge-achievement:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .badge-achievement::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .badge-achievement.foodie::before {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0iTTguMTQgNS4bG93MSA0Ljl6Ii8+PC9zdmc+');
        }
        
        /* Fullscreen Video for Modern UI */
        .fullscreen-video-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0.3;
        }
        
        /* Points & Rewards Section Styles */
        .points-display {
            position: relative;
        }
        
        .points-circle {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .points-circle i {
            position: absolute;
            top: -5px;
            left: -5px;
            background: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #ffd700;
            font-size: 1rem;
        }
        
        .section-heading {
            font-size: 0.9rem;
            font-weight: 600;
            color: #555;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .reward-card {
            border-radius: 10px;
            transition: transform 0.3s;
            border: 1px solid #e0e0e0;
        }
        
        .reward-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .reward-card.locked {
            opacity: 0.7;
        }
        
        .reward-card.redeemed {
            background-color: #f8f9fa;
        }
        
        .qr-code-small {
            border: 1px solid #e0e0e0;
            padding: 3px;
            background: white;
            border-radius: 5px;
        }
        
        /* Timeline Points History */
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline-day {
            position: relative;
        }
        
        .timeline-date {
            font-weight: 600;
            font-size: 0.9rem;
            color: #666;
        }
        
        .timeline-item {
            position: relative;
            padding-bottom: 1rem;
            border-left: 2px solid #e0e0e0;
            padding-left: 20px;
            margin-left: 10px;
        }
        
        .timeline-item:last-child {
            border-left: 2px solid transparent;
        }
        
        .timeline-dot {
            position: absolute;
            left: -11px;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #4e73df;
            border: 3px solid #fff;
            box-shadow: 0 0 0 2px #e0e0e0;
        }
        
        .timeline-dot.bg-success {
            background-color: #1cc88a;
        }
        
        .timeline-dot.bg-danger {
            background-color: #e74a3b;
        }
        
        .timeline-content {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 10px 15px;
        }
        
        .points-badge {
            font-weight: bold;
            font-size: 0.9rem;
            padding: 4px 8px;
            border-radius: 10px;
        }
        
        .points-badge.positive {
            color: #1cc88a;
            background: rgba(28, 200, 138, 0.1);
        }
        
        .points-badge.negative {
            color: #e74a3b;
            background: rgba(231, 74, 59, 0.1);
        }
        
        /* Badge Styles */
        .badge-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            background-color: #f0f0f0;
            color: #999;
            font-size: 1.2rem;
            margin-bottom: 8px;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .badge-icon.active {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.3);
            border: 2px solid white;
        }
    </style>
    
    <!-- Add story view modal HTML structure -->
    <div class="story-view-modal d-none" id="storyViewModal">
        <div class="story-progress-container" id="storyProgressContainer">
            <!-- Will be filled dynamically -->
        </div>
        
        <div class="story-header">
            <div class="story-user-info">
                <img src="" alt="User" class="story-user-avatar" id="storyUserAvatar">
                <div>
                    <div class="story-user-name" id="storyUserName"></div>
                    <div class="story-time" id="storyTime"></div>
                </div>
            </div>
            <button class="btn-close btn-close-white" id="closeStoryBtn"></button>
        </div>
        
        <div class="story-content">
            <img src="" alt="Story" class="story-image" id="storyImage">
            <div class="story-text" id="storyText"></div>
            
            <div class="story-nav">
                <div class="story-prev" id="storyPrev"></div>
                <div class="story-next" id="storyNext"></div>
            </div>
        </div>
        
        <div class="story-actions">
            <div class="story-reply">
                <input type="text" placeholder="Reply to story..." id="storyReplyInput">
            </div>
            <div class="story-buttons">
                <button id="storyLikeBtn"><i class="bi bi-heart"></i></button>
                <button id="storyShareBtn"><i class="bi bi-share"></i></button>
            </div>
        </div>
    </div>
    
    <!-- Stories JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Story functionality
            const storyItems = document.querySelectorAll('.story-item');
            const storyViewModal = document.getElementById('storyViewModal');
            const closeStoryBtn = document.getElementById('closeStoryBtn');
            const storyUserAvatar = document.getElementById('storyUserAvatar');
            const storyUserName = document.getElementById('storyUserName');
            const storyTime = document.getElementById('storyTime');
            const storyImage = document.getElementById('storyImage');
            const storyText = document.getElementById('storyText');
            const storyPrev = document.getElementById('storyPrev');
            const storyNext = document.getElementById('storyNext');
            const storyProgressContainer = document.getElementById('storyProgressContainer');
            const storyLikeBtn = document.getElementById('storyLikeBtn');
            
            // Story data (simulated)
            const stories = [
                {
                    user: {
                        name: 'Your Story',
                        avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1611892440504-42a792e24d32?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Tap here to add to your own story',
                            time: 'Just now'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Today\'s Picks',
                        avatar: 'https://images.unsplash.com/photo-1551272884-3c3d688ebed3?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1551272884-3c3d688ebed3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Discover today\'s special experiences 🌟',
                            time: '2h ago'
                        },
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1563911302283-d2bc129e7570?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Sundown drinks & tapas at the Rooftop Bar',
                            time: '2h ago'
                        },
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1540555700478-4be289fbecef?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Drone beach photography - Register now!',
                            time: '2h ago'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Staff Picks',
                        avatar: 'https://images.unsplash.com/photo-1590086782957-93c06ef21604?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1590086782957-93c06ef21604?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Staff recommendations for your stay',
                            time: '5h ago'
                        },
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1544148103-0773bf10d330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Try our award-winning spa treatments',
                            time: '5h ago'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Local Spots',
                        avatar: 'https://images.unsplash.com/photo-1488805990569-3c9e1d76d51c?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1488805990569-3c9e1d76d51c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Hidden gems around the hotel',
                            time: '1d ago'
                        }
                    ]
                },
                {
                    user: {
                        name: 'Events',
                        avatar: 'https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'
                    },
                    items: [
                        {
                            type: 'image',
                            src: 'https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                            text: 'Upcoming events this week',
                            time: '3h ago'
                        }
                    ]
                }
            ];
            
            // Current viewing state
            let currentStoryIndex = 0;
            let currentItemIndex = 0;
            let storyTimeout;
            
            // Initialize story items
            if (storyItems && storyItems.length > 0) {
                storyItems.forEach((item, index) => {
                    item.addEventListener('click', function() {
                        openStory(index);
                    });
                });
            }
            
            // Open story modal
            function openStory(storyIndex) {
                if (!storyViewModal) return;
                
                currentStoryIndex = storyIndex;
                currentItemIndex = 0;
                
                // Show modal
                storyViewModal.classList.remove('d-none');
                document.body.style.overflow = 'hidden';
                
                // Load first story item
                loadStoryItem();
            }
            
            // Close story modal
            if (closeStoryBtn) {
                closeStoryBtn.addEventListener('click', function() {
                    closeStory();
                });
            }
            
            function closeStory() {
                if (!storyViewModal) return;
                
                storyViewModal.classList.add('d-none');
                document.body.style.overflow = '';
                clearTimeout(storyTimeout);
                
                // Mark story as viewed
                if (currentStoryIndex > 0 && storyItems[currentStoryIndex]) {
                    const avatar = storyItems[currentStoryIndex].querySelector('.story-avatar');
                    if (avatar) {
                        avatar.classList.add('viewed');
                        avatar.classList.remove('has-story');
                    }
                }
            }
            
            // Load story item
            function loadStoryItem() {
                const story = stories[currentStoryIndex];
                if (!story) return closeStory();
                
                const item = story.items[currentItemIndex];
                if (!item) {
                    // Move to next story if no more items
                    currentStoryIndex++;
                    currentItemIndex = 0;
                    return loadStoryItem();
                }
                
                // Set user info
                if (storyUserAvatar) storyUserAvatar.src = story.user.avatar;
                if (storyUserName) storyUserName.textContent = story.user.name;
                if (storyTime) storyTime.textContent = item.time;
                
                // Set content
                if (storyImage) storyImage.src = item.src;
                if (storyText) storyText.textContent = item.text;
                
                // Create progress bars
                if (storyProgressContainer) {
                    storyProgressContainer.innerHTML = '';
                    for (let i = 0; i < story.items.length; i++) {
                        const progressDiv = document.createElement('div');
                        progressDiv.className = 'story-progress mx-1';
                        
                        const progressBar = document.createElement('div');
                        progressBar.className = 'story-progress-bar';
                        
                        // If it's a past item, fill the bar
                        if (i < currentItemIndex) {
                            progressBar.style.width = '100%';
                        }
                        // If it's the current item, animate it
                        else if (i === currentItemIndex) {
                            progressBar.style.width = '0%';
                            progressBar.style.transition = 'width 5s linear';
                            setTimeout(() => {
                                progressBar.style.width = '100%';
                            }, 50);
                        }
                        
                        progressDiv.appendChild(progressBar);
                        storyProgressContainer.appendChild(progressDiv);
                    }
                }
                
                // Auto advance after 5 seconds
                clearTimeout(storyTimeout);
                storyTimeout = setTimeout(() => {
                    nextStoryItem();
                }, 5000);
            }
            
            // Navigation
            function nextStoryItem() {
                currentItemIndex++;
                const story = stories[currentStoryIndex];
                
                if (!story || currentItemIndex >= story.items.length) {
                    currentStoryIndex++;
                    currentItemIndex = 0;
                }
                
                loadStoryItem();
            }
            
            function prevStoryItem() {
                currentItemIndex--;
                
                if (currentItemIndex < 0) {
                    currentStoryIndex--;
                    
                    if (currentStoryIndex < 0) {
                        currentStoryIndex = 0;
                        currentItemIndex = 0;
                    } else {
                        const story = stories[currentStoryIndex];
                        currentItemIndex = story.items.length - 1;
                    }
                }
                
                loadStoryItem();
            }
            
            // Add click events for navigation
            if (storyNext) {
                storyNext.addEventListener('click', function(e) {
                    e.stopPropagation();
                    nextStoryItem();
                });
            }
            
            if (storyPrev) {
                storyPrev.addEventListener('click', function(e) {
                    e.stopPropagation();
                    prevStoryItem();
                });
            }
            
            // Like button
            if (storyLikeBtn) {
                storyLikeBtn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    if (this.classList.contains('active')) {
                        this.innerHTML = '<i class="bi bi-heart-fill text-danger"></i>';
                        
                        // Show toast notification
                        const toast = document.createElement('div');
                        toast.classList.add('toast', 'show', 'bg-primary', 'text-white');
                        toast.setAttribute('role', 'alert');
                        toast.setAttribute('aria-live', 'assertive');
                        toast.setAttribute('aria-atomic', 'true');
                        
                        toast.innerHTML = `
                            <div class="toast-body">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-coin me-2"></i>
                                    <div>You earned 2 points!</div>
                                </div>
                            </div>
                        `;
                        
                        document.querySelector('.toast-container').appendChild(toast);
                        
                        // Auto dismiss after 3 seconds
                        setTimeout(() => {
                            toast.classList.remove('show');
                            setTimeout(() => {
                                toast.remove();
                            }, 500);
                        }, 3000);
                        
                        // Update points in profile
                        const pointsStat = document.querySelector('.stat-item:nth-child(2) .fw-bold');
                        if (pointsStat) {
                            pointsStat.textContent = parseInt(pointsStat.textContent) + 2;
                        }
                    } else {
                        this.innerHTML = '<i class="bi bi-heart"></i>';
                    }
                });
            }
            
            // "Add to Your Story" functionality
            const myStoryItem = document.querySelector('.story-item.my-story');
            if (myStoryItem) {
                myStoryItem.addEventListener('click', function() {
                    // For "Your Story", we'll open the Create Moment modal
                    const createMomentModal = new bootstrap.Modal(document.getElementById('createMomentModal'));
                    createMomentModal.show();
                    
                    // Close story view if open
                    closeStory();
                });
            }
            
            // Handle keyboard for stories
            document.addEventListener('keydown', function(e) {
                if (storyViewModal && !storyViewModal.classList.contains('d-none')) {
                    if (e.key === 'ArrowRight') {
                        nextStoryItem();
                    } else if (e.key === 'ArrowLeft') {
                        prevStoryItem();
                    } else if (e.key === 'Escape') {
                        closeStory();
                    }
                }
            });
            
            // Prevent default touch behavior on story modal to avoid unwanted scrolling
            if (storyViewModal) {
                storyViewModal.addEventListener('touchmove', function(e) {
                    e.preventDefault();
                }, { passive: false });
            }
        });
    </script>
</head>
<body>
    <div class="mobile-app">
        <!-- Header with Room Information -->
        <div class="mobile-header-alt">
            <div class="d-flex align-items-center">
                <div class="mobile-logo-placeholder text-primary">Your Logo</div>
                <div>
                    <h5 class="mb-0 text-primary">Sunset Resort</h5>
                    <div class="small text-secondary"><span data-i18n="room">Room</span> 302 - Deluxe Ocean View</div>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <div class="dropdown me-2">
                    <button class="btn btn-sm btn-outline-primary dropdown-toggle" type="button" id="languageSelector" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-globe2"></i> <span class="current-language">ΕΛ</span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="languageSelector">
                        <li><button class="dropdown-item language-option active" data-lang="el">Ελληνικά</button></li>
                        <li><button class="dropdown-item language-option" data-lang="en">English</button></li>
                    </ul>
                </div>
                <button class="btn btn-sm text-primary" data-tab="profile">
                    <i class="bi bi-person-circle fs-4"></i>
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="mobile-content" id="app-content">
            <!-- Tab Contents -->
            <div class="tab-contents">
                <!-- Home Tab Content -->
            <div class="tab-content" id="home-content">
                <!-- Welcome Card -->
                <div class="card mb-4 welcome-card">
                    <div class="card-body p-0">
                        <div class="welcome-header p-4">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h4 class="text-white mb-1"><span data-i18n="welcome">Welcome,</span> John!</h4>
                                    <p class="text-white-50 mb-0"><span data-i18n="your_stay">Your stay:</span> <strong class="text-white">June 15-20, 2023</strong></p>
                                </div>
                                <div class="room-badge">
                                    <span data-i18n="room">Room</span>
                                    <h3>412</h3>
                                </div>
                            </div>
                            <div class="position-absolute welcome-decoration">
                                <i class="bi bi-building text-white-50"></i>
                            </div>
                        </div>
                        <div class="p-3">
                            <div class="row g-2 quick-actions">
                                <div class="col-3">
                                    <div class="quick-action-btn room-key-btn" data-bs-toggle="modal" data-bs-target="#roomKeyModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-key text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="room_key">Room Key</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#wifiModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-wifi text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="wifi">WiFi</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#billModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-receipt text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="bill">Bill</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#helpModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-question-circle text-primary"></i>
                                        </div>
                                        <div class="small" data-i18n="help">Help</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                    <!-- Quick Actions Title -->
                    <h5 class="mb-3">Quick Actions</h5>

                    <!-- Room Services Toolbar -->
                    <div class="services-toolbar mb-4">
                        <div class="scrollable-tabs">
                            <div class="nav nav-pills flex-nowrap" role="tablist">
                                <button class="nav-link active me-2" data-bs-toggle="pill" data-bs-target="#towels">
                                    <i class="bi bi-droplet me-2"></i>Towels
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#pillows">
                                    <i class="bi bi-cloud me-2"></i>Pillows
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#blankets">
                                    <i class="bi bi-layers me-2"></i>Blankets
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#toiletries">
                                    <i class="bi bi-basket2 me-2"></i>Toiletries
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#bathrobes">
                                    <i class="bi bi-person-lines-fill me-2"></i>Bathrobes
                                </button>
                                <button class="nav-link me-2" data-bs-toggle="pill" data-bs-target="#slippers">
                                    <i class="bi bi-shuffle me-2"></i>Slippers
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#amenities">
                                    <i class="bi bi-box-seam me-2"></i>More
                                </button>
                            </div>
                        </div>
                    </div>
                
                <!-- Active Requests Card - Now separate -->
                <div class="card mb-4">
                        <div class="card-body p-3">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">Active Requests</h6>
                                    <span class="badge bg-primary rounded-pill">2</span>
                                </div>
                                
                                <!-- Latest Active Request Preview -->
                                <div class="latest-request mb-3">
                                    <div class="d-flex align-items-center">
                                        <div class="request-icon me-3">
                                            <i class="bi bi-cup-hot fs-4 text-primary"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="fw-medium">Room Service Order</div>
                                                <small class="text-success"><i class="bi bi-clock me-1"></i>8 min</small>
                                            </div>
                                            <div class="progress mt-2" style="height: 4px;">
                                                <div class="progress-bar bg-primary" role="progressbar" style="width: 65%"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="btn btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#activeRequestsModal">
                                    <i class="bi bi-list-ul me-2"></i>View All Requests
                                </button>
                    </div>
                            </div>

                <!-- Room Controls Card - Now separate -->
                <div class="card mb-4">
                    <div class="card-body p-3">
                            <!-- Temperature Control with Improved UI -->
                            <div class="control-section mb-4">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-thermometer-half fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Temperature <small class="text-muted room-temp ms-1">22°C</small></span>
                                </div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="temperature">
                                    <i class="bi bi-clock"></i> Schedule
                                </button>
                            </div>
                            <div class="position-relative px-3">
                                    <input type="range" class="form-range temperature-slider" min="16" max="28" value="22" id="tempControl">
                                    <div class="d-flex justify-content-between mt-2 small text-muted">
                                        <span class="temp-cold">16°C</span>
                                    <span>22°C</span>
                                        <span class="temp-hot">28°C</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lights Control with Modern UI -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-lightbulb fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Lights</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-primary rounded-pill me-2" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="lights">
                                        <i class="bi bi-clock"></i>
                                    </button>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="roomLights">
                                    </div>
                                </div>
                            </div>
                            <div class="room-scenes">
                                <div class="d-flex justify-content-between mt-2 flex-wrap gap-2">
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="relax">
                                        <i class="bi bi-moon-stars me-1"></i> Relax
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="work">
                                        <i class="bi bi-laptop me-1"></i> Work
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="movie">
                                        <i class="bi bi-film me-1"></i> Movie
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="sleep">
                                        <i class="bi bi-moon me-1"></i> Sleep
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Curtains Control with Improved UI -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-layout-sidebar fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Curtains</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-primary rounded-pill me-2" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="curtains">
                                        <i class="bi bi-clock"></i>
                                    </button>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="roomCurtains">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Do Not Disturb Switch with Better Visual -->
                        <div class="mb-0">
                            <div class="d-flex justify-content-between align-items-center p-2 bg-light rounded-3">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-shield-lock fs-3 me-2 text-danger"></i>
                                    <span class="fw-medium">Do Not Disturb</span>
                                </div>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="dndMode">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Personalized Recommendations -->
                <h5 class="mb-3">For You</h5>
                <div id="recommendations-container">
                    <!-- Recommendations will be dynamically added here by main.js -->
                </div>

                <!-- Hotel Services -->
                <h5 class="mt-4 mb-3">Hotel Services</h5>
                <div class="list-group mb-4">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#cleaningModal">
                        <div>
                                <h6 class="mb-1">Room Cleaning</h6>
                                <p class="mb-1 small text-muted">Schedule or request immediate cleaning</p>
                        </div>
                            <i class="bi bi-chevron-right text-muted"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#roomServiceModal">
                        <div>
                                <h6 class="mb-1">Room Service</h6>
                                <p class="mb-1 small text-muted">Order food and beverages</p>
                        </div>
                            <i class="bi bi-chevron-right text-muted"></i>
                    </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#maintenanceModal">
                        <div>
                                <h6 class="mb-1">Maintenance</h6>
                                <p class="mb-1 small text-muted">Report issues or request repairs</p>
                        </div>
                            <i class="bi bi-chevron-right text-muted"></i>
                    </a>
                </div>
                
                    <!-- Remove Active Requests section and modal -->
            </div>
            
            <!-- Experience Tab Content -->
            <div class="tab-content d-none" id="experience-content">
                <div class="mb-3">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search experiences" id="experience-search">
                        <button class="btn btn-outline-primary" type="button">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Experience Categories -->
                <div class="d-flex gap-2 mb-3 experience-categories overflow-auto py-1">
                    <button class="btn btn-sm btn-primary active" data-category="all">All</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="tours">Tours</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="food">Food</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="water">Water</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="wellness">Wellness</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="culture">Culture</button>
                </div>
                
                <h5 class="mb-4">Recommended Experiences</h5>
                
                <div class="card mb-4 experience-card" data-category="water">
                    <img src="https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Sunset Cruise" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Sunset Sailing Trip</h5>
                            <span class="badge bg-primary">Recommended</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </span>
                            <small class="text-muted">4.5 (243 reviews)</small>
                        </div>
                        <p class="card-text">Experience breathtaking views of the coastline with our exclusive sunset sailing trip, perfect for couples and photography enthusiasts.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn" disabled>16:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">17:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">18:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">19:30</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">€85</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4 experience-card" data-category="food">
                    <img src="https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Wine Tasting" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Local Wine Tasting</h5>
                            <span class="badge bg-success">95% Match</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star"></i>
                            </span>
                            <small class="text-muted">4.1 (186 reviews)</small>
                        </div>
                        <p class="card-text">Discover the finest local wines with our guided tasting tour. Transportation and lunch included.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn">10:00</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">14:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">16:00</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">€75</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4 experience-card" data-category="culture">
                    <img src="https://images.unsplash.com/photo-1514986888952-8cd320577b68?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Cooking Class" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Traditional Cooking Class</h5>
                            <span class="badge bg-info">New</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </span>
                            <small class="text-muted">4.7 (98 reviews)</small>
                        </div>
                        <p class="card-text">Learn to prepare authentic local dishes with our expert chef in this hands-on cooking experience.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn">11:00</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">17:00</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">€65</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button class="btn btn-outline-primary">View All Experiences</button>
                </div>
                
                <!-- Booking Confirmation Modal -->
                <div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" style="z-index: 1060;">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Confirm Booking</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="booking-details mb-4">
                                    <h5 class="booking-title">Sunset Sailing Trip</h5>
                                    <div class="booking-info mb-3">
                                        <div><i class="bi bi-calendar me-2"></i><span class="booking-date">June 18, 2023</span></div>
                                        <div><i class="bi bi-clock me-2"></i><span class="booking-time">18:30</span></div>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <select class="form-select" id="guestCount">
                                            <option value="1">1 Guest</option>
                                            <option value="2" selected>2 Guests</option>
                                            <option value="3">3 Guests</option>
                                            <option value="4">4 Guests</option>
                                            <option value="5">5 Guests</option>
                                        </select>
                                        <label for="guestCount">Number of Guests</label>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <textarea class="form-control" placeholder="Special requests" id="specialRequests" style="height: 100px"></textarea>
                                        <label for="specialRequests">Special Requests (Optional)</label>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Price per person</div>
                                            <div>€85.00</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Guests</div>
                                            <div>× 2</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Subtotal</div>
                                            <div>€170.00</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Hotel Guest Discount</div>
                                            <div class="text-success">-€17.00</div>
                                        </div>
                                        <hr>
                                        <div class="d-flex justify-content-between">
                                            <h6>Total</h6>
                                            <h6>€153.00</h6>
                                        </div>
                                        <div class="form-check mt-3">
                                            <input class="form-check-input" type="checkbox" id="chargeToRoom" checked>
                                            <label class="form-check-label" for="chargeToRoom">
                                                Charge to room
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary confirm-booking-btn">Confirm Booking</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile Tab Content -->
            <div class="tab-content d-none" id="profile-content">
                <div class="text-center mb-4">
                    <div class="display-1 mb-3">
                        <i class="bi bi-person-circle"></i>
                    </div>
                    <h4>John Doe</h4>
                    <p class="text-muted">Gold Member</p>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Stay Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-5 text-muted">Check-in:</div>
                            <div class="col-7">June 15, 2023 (3:00 PM)</div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-5 text-muted">Check-out:</div>
                            <div class="col-7">June 20, 2023 (12:00 PM)</div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-5 text-muted">Room:</div>
                            <div class="col-7">302 - Deluxe Ocean View</div>
                        </div>
                        <div class="row">
                            <div class="col-5 text-muted">Guests:</div>
                            <div class="col-7">2 Adults</div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Preferences</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="dailyCleaningSwitch" checked>
                            <label class="form-check-label" for="dailyCleaningSwitch">Daily Room Cleaning</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="turndownServiceSwitch">
                            <label class="form-check-label" for="turndownServiceSwitch">Evening Turndown Service</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="notificationsSwitch" checked>
                            <label class="form-check-label" for="notificationsSwitch">Push Notifications</label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="ecoModeSwitch" checked>
                            <label class="form-check-label" for="ecoModeSwitch">Eco-Friendly Mode</label>
                        </div>
                    </div>
                </div>
                
                <div class="d-grid">
                    <a href="index.html" class="btn btn-outline-danger">Sign Out</a>
                </div>
            </div>
            
            <!-- AI Assistant/Concierge Tab Content -->
            <div class="tab-content d-none" id="concierge-content">
                <div class="d-flex flex-column h-100">
                    <!-- Chat Header -->
                    <div class="chat-header p-3 bg-white border-bottom">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-0" data-i18n="ai_assistant">AI Assistant</h5>
                                <p class="text-muted mb-0 small" data-i18n="virtual_concierge">24/7 virtual concierge service</p>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill" id="clear-chat-btn">
                                    <i class="bi bi-arrow-clockwise"></i> <span data-i18n="new_chat">New Chat</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Container -->
                    <div class="chat-container flex-grow-1">
                        <div class="chat-messages" id="chat-messages">
                            <!-- Messages will be added here dynamically -->
                            
                            <!-- Human Support Option -->
                            <div class="human-support-option" id="human-support-option">
                                <a class="human-support-link" id="talk-to-human">
                                    <i class="bi bi-person-circle"></i> <span data-i18n="talk_to_human">Talk to a human concierge</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Moments Tab Content -->
        <div class="tab-content d-none" id="moments-content">
            <!-- Stories View Modal -->
            <div class="modal fade" id="storyViewModal" tabindex="-1" aria-labelledby="storyViewModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content story-modal-content">
                        <div class="story-header">
                            <div class="d-flex align-items-center">
                                <div class="story-avatar me-2">
                                    <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">
                                </div>
                                <div>
                                    <h6 class="mb-0 text-white">Alex M.</h6>
                                    <small class="text-white-50">5 min ago</small>
                                </div>
                            </div>
                            <div>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="story-progress-container">
                            <div class="story-progress">
                                <div class="story-progress-bar active"></div>
                                <div class="story-progress-bar"></div>
                                <div class="story-progress-bar"></div>
                            </div>
                        </div>
                        <div class="story-content">
                            <div class="story-slide active">
                                <img src="https://images.unsplash.com/photo-1602343168117-bb8ffe3e2e9f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="story-image" alt="Story Image">
                                <div class="story-caption">
                                    <span class="mood-tag relaxed">
                                        <i class="bi bi-emoji-smile"></i> Relaxed
                                    </span>
                                    <p class="text-white">Perfect sunset view from my balcony! 🌅 #sunset #roomview</p>
                                    <div class="story-location">
                                        <i class="bi bi-geo-alt-fill"></i> Ocean View Room
                                    </div>
                                </div>
                            </div>
                            <div class="story-slide">
                                <img src="https://images.unsplash.com/photo-1540541338287-41700207dee6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="story-image" alt="Story Image">
                                <div class="story-caption">
                                    <span class="mood-tag excited">
                                        <i class="bi bi-emoji-laughing"></i> Excited
                                    </span>
                                    <p class="text-white">Cocktails by the pool! 🍹 #cocktailhour #poolside</p>
                                    <div class="story-location">
                                        <i class="bi bi-geo-alt-fill"></i> Pool Bar
                                    </div>
                                </div>
                            </div>
                            <div class="story-slide">
                                <img src="https://images.unsplash.com/photo-1662822932949-905fba3162c8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="story-image" alt="Story Image">
                                <div class="story-caption">
                                    <span class="mood-tag thrilled">
                                        <i class="bi bi-emoji-heart-eyes"></i> Thrilled
                                    </span>
                                    <p class="text-white">Best breakfast ever! Chef's special was amazing 😍 #foodie #breakfastwithaview</p>
                                    <div class="story-location">
                                        <i class="bi bi-geo-alt-fill"></i> Main Restaurant
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="story-controls">
                            <button class="btn-story-nav prev-story">
                                <i class="bi bi-chevron-left"></i>
                            </button>
                            <div class="story-reactions">
                                <button class="btn-reaction" data-reaction="love">
                                    <i class="bi bi-heart-fill"></i>
                                </button>
                                <button class="btn-reaction" data-reaction="wow">
                                    <i class="bi bi-emoji-surprise-fill"></i>
                                </button>
                                <button class="btn-reaction" data-reaction="clap">
                                    <i class="bi bi-hand-thumbs-up-fill"></i>
                                </button>
                            </div>
                            <button class="btn-story-nav next-story">
                                <i class="bi bi-chevron-right"></i>
                            </button>
                        </div>
                        <div class="story-reply">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Reply to story...">
                                <button class="btn btn-primary">
                                    <i class="bi bi-send-fill"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onboarding Modal -->
            <div class="modal fade" id="onboardingModal" tabindex="-1" aria-labelledby="onboardingModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content">
                        <div class="modal-body p-0">
                            <div class="onboarding-slider">
                                <div class="onboarding-slide active" data-slide="1">
                                    <div class="onboarding-content">
                                        <div class="onboarding-icon">
                                            <i class="bi bi-camera text-primary"></i>
                                        </div>
                                        <h2>Μοιράσου τις στιγμές σου</h2>
                                        <p>Δημιούργησε stories και αναρτήσεις από τη διαμονή σου και μοιράσου τις με άλλους επισκέπτες.</p>
                                    </div>
                                </div>
                                <div class="onboarding-slide" data-slide="2">
                                    <div class="onboarding-content">
                                        <div class="onboarding-icon">
                                            <i class="bi bi-coin text-warning"></i>
                                        </div>
                                        <h2>Κέρδισε πόντους</h2>
                                        <p>Κάθε αλληλεπίδραση σου επιβραβεύεται με πόντους, για κάθε story, ανάρτηση ή αντίδραση.</p>
                                    </div>
                                </div>
                                <div class="onboarding-slide" data-slide="3">
                                    <div class="onboarding-content">
                                        <div class="onboarding-icon">
                                            <i class="bi bi-gift text-success"></i>
                                        </div>
                                        <h2>Εξαργύρωσε επιβραβεύσεις</h2>
                                        <p>Χρησιμοποίησε τους πόντους σου για να αποκτήσεις αποκλειστικές προσφορές και δώρα κατά τη διαμονή σου.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="onboarding-controls">
                                <div class="onboarding-dots">
                                    <span class="onboarding-dot active" data-slide="1"></span>
                                    <span class="onboarding-dot" data-slide="2"></span>
                                    <span class="onboarding-dot" data-slide="3"></span>
                                </div>
                                <button class="btn btn-primary rounded-pill px-4" id="onboardingNextBtn">Επόμενο</button>
                                <button class="btn btn-success rounded-pill px-4 d-none" id="onboardingFinishBtn">Ξεκίνα την εμπειρία</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Daily Mission Toast Notification -->
            <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1080;">
                <div class="toast bg-primary text-white" role="alert" aria-live="assertive" aria-atomic="true" id="dailyMissionToast">
                    <div class="toast-header bg-primary text-white">
                        <i class="bi bi-stars me-2"></i>
                        <strong class="me-auto">Ημερήσια Αποστολή</strong>
                        <small>Μόλις τώρα</small>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                        <div class="d-flex align-items-center">
                            <div class="toast-icon me-3">
                                <i class="bi bi-camera fs-1"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Ανέβασε 2 stories από διαφορετικές τοποθεσίες</h6>
                                <p class="mb-1">Ολοκλήρωσε την αποστολή για να κερδίσεις 30 πόντους!</p>
                                <div class="progress mt-2" style="height: 8px;">
                                    <div class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <small class="text-white-50">0/2 ολοκληρώθηκαν</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Moments Navigation Tabs -->
            <div class="moments-tab-navigation mb-2 d-none">
                <div class="tab-links">
                    <button class="moments-tab-btn active text-primary" data-tab="feed">
                        <i class="bi bi-house-fill"></i>
                        <span>Feed</span>
                    </button>
                    <button class="moments-tab-btn text-muted" data-tab="explore">
                        <i class="bi bi-compass"></i>
                        <span>Explore</span>
                    </button>
                    <button class="moments-tab-btn text-muted" data-tab="profile">
                        <i class="bi bi-person"></i>
                        <span>Profile</span>
                    </button>
                </div>
            </div>

            <!-- Moments Feed Section -->
            <div class="moments-feed">
                <!-- Stories Row -->
                <div class="stories-container mb-3">
                    <div class="story-item my-story">
                        <button class="create-story-btn" id="createStoryBtn">
                            <div class="story-avatar">
                                <i class="bi bi-plus"></i>
                            </div>
                            <span>Story</span>
                        </button>
                    </div>
                    <div class="story-item highlight-story" data-story-id="1">
                        <div class="story-avatar">
                            <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Alex M.</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="2">
                        <div class="story-avatar">
                            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>John D.</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="3">
                        <div class="story-avatar highlight">
                            <img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Emma S.</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="4">
                        <div class="story-avatar staff-pick">
                            <img src="https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Staff</span>
                    </div>
                    <div class="story-item highlight-story" data-story-id="5">
                        <div class="story-avatar">
                            <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User">
                        </div>
                        <span>Lisa K.</span>
                    </div>
                </div>

                <!-- Mood Filter Chips -->
                <div class="mood-filter-chips mb-3">
                    <button class="btn btn-sm btn-light rounded-pill mood-chip active">
                        <i class="bi bi-funnel-fill me-1"></i> All
                    </button>
                    <button class="btn btn-sm btn-light rounded-pill mood-chip">
                        <i class="bi bi-emoji-smile me-1"></i> Relaxed
                    </button>
                    <button class="btn btn-sm btn-light rounded-pill mood-chip">
                        <i class="bi bi-emoji-laughing me-1"></i> Excited
                    </button>
                    <button class="btn btn-sm btn-light rounded-pill mood-chip">
                        <i class="bi bi-emoji-heart-eyes me-1"></i> Thrilled
                    </button>
                </div>

                <!-- First Moment Card - Staff Pick -->
                <div class="card mb-4 moment-card staff-pick-card">
                    <div class="staff-pick-badge">
                        <i class="bi bi-award-fill"></i> Staff Pick
                    </div>
                    <div class="moment-image">
                        <div id="staffPickCarousel" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#staffPickCarousel" data-bs-slide-to="0" class="active"></button>
                                <button type="button" data-bs-target="#staffPickCarousel" data-bs-slide-to="1"></button>
                                <button type="button" data-bs-target="#staffPickCarousel" data-bs-slide-to="2"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Staff Pick">
                                </div>
                                <div class="carousel-item">
                                    <img src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Staff Pick">
                                </div>
                                <div class="carousel-item">
                                    <img src="https://images.unsplash.com/photo-1540541338287-41700207dee6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Staff Pick">
                                </div>
                            </div>
                        </div>
                        <div class="location-badge">
                            <i class="bi bi-geo-alt-fill"></i> Infinity Pool
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div class="d-flex align-items-center">
                                <div class="user-avatar me-2">
                                    <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">
                                </div>
                                <div>
                                    <h6 class="mb-0">Alex M.</h6>
                                    <p class="text-muted small mb-0">3 hours ago · <i class="bi bi-geo-alt-fill"></i> #InfinityPool</p>
                                </div>
                            </div>
                            <span class="badge bg-warning">Top Moment</span>
                        </div>
                        
                        <div class="moment-mood mb-2">
                            <span class="mood-tag thrilled">
                                <i class="bi bi-emoji-heart-eyes"></i> Thrilled
                            </span>
                        </div>
                        
                        <p class="card-text">Infinity pool with sunset view - absolutely breathtaking! 🌅 Definitely a highlight of my stay here.</p>
                        
                        <div class="moment-tags mb-3">
                            <span class="badge rounded-pill bg-light text-dark">#sunset</span>
                            <span class="badge rounded-pill bg-light text-dark">#infinitypool</span>
                            <span class="badge rounded-pill bg-light text-dark">#dreamy</span>
                        </div>
                        
                        <div class="moment-stats d-flex align-items-center mb-3">
                            <div class="rating me-2">
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="small">5.0/5</span>
                            </div>
                            <div class="views small text-muted">
                                <i class="bi bi-eye"></i> 128 views
                            </div>
                        </div>
                        
                        <div class="moment-actions d-flex justify-content-between">
                            <div class="reactions">
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="love">
                                    <i class="bi bi-heart"></i> <span>32</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="wow">
                                    <i class="bi bi-emoji-surprise"></i> <span>18</span>
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-comment-btn">
                                    <i class="bi bi-chat"></i> <span>7</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-share-btn">
                                    <i class="bi bi-share"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Second Moment Card - User Generated -->
                <div class="card mb-4 moment-card">
                    <div class="moment-image">
                        <img src="https://images.unsplash.com/photo-1662822932949-905fba3162c8?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="User Moment">
                        <div class="location-badge">
                            <i class="bi bi-geo-alt-fill"></i> Main Restaurant
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div class="d-flex align-items-center">
                                <div class="user-avatar me-2">
                                    <img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">
                                </div>
                                <div>
                                    <h6 class="mb-0">Emma S.</h6>
                                    <p class="text-muted small mb-0">5 hours ago · <i class="bi bi-geo-alt-fill"></i> #MainRestaurant</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="moment-mood mb-2">
                            <span class="mood-tag excited">
                                <i class="bi bi-emoji-laughing"></i> Excited
                            </span>
                        </div>
                        
                        <p class="card-text">Chef's special breakfast was absolutely delicious! 😍 The presentation was stunning and flavors were amazing.</p>
                        
                        <div class="moment-tags mb-3">
                            <span class="badge rounded-pill bg-light text-dark">#foodie</span>
                            <span class="badge rounded-pill bg-light text-dark">#breakfastwithaview</span>
                            <span class="badge rounded-pill bg-light text-dark">#chefspecial</span>
                        </div>
                        
                        <div class="moment-stats d-flex align-items-center mb-3">
                            <div class="rating me-2">
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="small">4.9/5</span>
                            </div>
                            <div class="views small text-muted">
                                <i class="bi bi-eye"></i> 87 views
                            </div>
                        </div>
                        
                        <div class="moment-actions d-flex justify-content-between">
                            <div class="reactions">
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="love">
                                    <i class="bi bi-heart"></i> <span>24</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="wow">
                                    <i class="bi bi-emoji-surprise"></i> <span>12</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="yum">
                                    <i class="bi bi-emoji-heart-eyes"></i> <span>18</span>
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-comment-btn">
                                    <i class="bi bi-chat"></i> <span>5</span>
                                </button>
                                <button class="btn btn-sm btn-outline-primary rounded-pill moment-share-btn">
                                    <i class="bi bi-share"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Create Moment Button -->
                <button class="btn btn-primary rounded-circle create-moment-btn shadow-lg pulse-animation" id="createMomentBtn">
                    <i class="bi bi-plus fs-4"></i>
                </button>
            </div>

            <!-- Moments Profile Section (Hidden initially) -->
            <div class="moments-profile d-none">
                <!-- Profile Header with Points Display -->
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center">
                                <div class="profile-avatar me-3">
                                    <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80" alt="User" class="rounded-circle" width="70" height="70">
                                </div>
                                <div>
                                    <h5 class="mb-0">Maria S.</h5>
                                    <p class="text-muted mb-0">Room 203 • Day 3 of 5</p>
                                    <div class="d-flex align-items-center">
                                        <span class="badge bg-primary rounded-pill me-2">
                                            <i class="bi bi-star-fill text-warning me-1"></i> Gold Member
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="points-display text-center">
                                <div class="points-circle mb-1">
                                    <i class="bi bi-coin text-warning"></i>
                                    <span id="profilePoints">120</span>
                                </div>
                                <span class="small">Πόντοι</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Points & Rewards Section -->
                <div class="card mb-3">
                    <div class="card-header bg-white">
                        <div class="d-flex justify-content-between align-items-center">
                            <h6 class="mb-0">
                                <i class="bi bi-gift text-primary me-2"></i> Ανταμοιβές & Πόντοι
                            </h6>
                            <span class="badge bg-success rounded-pill">
                                120 διαθέσιμοι πόντοι
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="rewards-list">
                            <!-- Available Rewards -->
                            <h6 class="section-heading mb-3">Διαθέσιμες Ανταμοιβές</h6>
                            
                            <!-- Reward 1 -->
                            <div class="reward-item mb-3">
                                <div class="card reward-card">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h6 class="mb-1">Δωρεάν Καλωσόρισμα Ποτό</h6>
                                                <p class="mb-2 small text-muted">Εξαργύρωση στο lobby bar πριν τις 10μμ</p>
                                                <span class="badge bg-light text-dark">
                                                    <i class="bi bi-coin text-warning me-1"></i> 20 πόντοι
                                                </span>
                                            </div>
                                            <div class="align-self-center">
                                                <button class="btn btn-sm btn-primary rounded-pill">Εξαργύρωση</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Reward 2 -->
                            <div class="reward-item mb-3">
                                <div class="card reward-card">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h6 class="mb-1">Late Check-out (2 ώρες)</h6>
                                                <p class="mb-2 small text-muted">Παράταση αναχώρησης κατά 2 ώρες</p>
                                                <span class="badge bg-light text-dark">
                                                    <i class="bi bi-coin text-warning me-1"></i> 50 πόντοι
                                                </span>
                                            </div>
                                            <div class="align-self-center">
                                                <button class="btn btn-sm btn-primary rounded-pill">Εξαργύρωση</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Reward 3 -->
                            <div class="reward-item mb-3">
                                <div class="card reward-card">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h6 class="mb-1">Έκπτωση 15% στο Spa</h6>
                                                <p class="mb-2 small text-muted">Για οποιαδήποτε θεραπεία άνω των 60 λεπτών</p>
                                                <span class="badge bg-light text-dark">
                                                    <i class="bi bi-coin text-warning me-1"></i> 80 πόντοι
                                                </span>
                                            </div>
                                            <div class="align-self-center">
                                                <button class="btn btn-sm btn-primary rounded-pill">Εξαργύρωση</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Reward 4 -->
                            <div class="reward-item mb-3">
                                <div class="card reward-card locked">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h6 class="mb-1">Δωρεάν Αναβάθμιση Δωματίου</h6>
                                                <p class="mb-2 small text-muted">Αναβάθμιση σε δωμάτιο ανώτερης κατηγορίας</p>
                                                <span class="badge bg-light text-dark">
                                                    <i class="bi bi-coin text-warning me-1"></i> 250 πόντοι
                                                </span>
                                            </div>
                                            <div class="align-self-center">
                                                <button class="btn btn-sm btn-outline-secondary rounded-pill" disabled>Κλειδωμένο</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Redeemed Rewards -->
                            <h6 class="section-heading mb-3 mt-4">Εξαργυρωμένες Ανταμοιβές</h6>
                            
                            <!-- Redeemed Reward 1 -->
                            <div class="reward-item mb-3">
                                <div class="card reward-card redeemed">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h6 class="mb-1">Πρωινό στο Δωμάτιο</h6>
                                                <p class="mb-2 small text-muted">Εξαργυρώθηκε στις 15/06 - 08:30</p>
                                                <span class="badge bg-secondary">
                                                    <i class="bi bi-check-circle-fill me-1"></i> Εξαργυρώθηκε
                                                </span>
                                            </div>
                                            <div class="align-self-center">
                                                <div class="qr-code-small">
                                                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=50x50&data=BF123456" alt="QR Code" width="50" height="50">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Points History -->
                <div class="card mb-3">
                    <div class="card-header bg-white">
                        <h6 class="mb-0">
                            <i class="bi bi-clock-history text-primary me-2"></i> Ιστορικό Πόντων
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="points-history">
                            <div class="timeline">
                                <!-- Today -->
                                <div class="timeline-day mb-3">
                                    <div class="timeline-date mb-2">Σήμερα</div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-dot bg-success"></div>
                                        <div class="timeline-content">
                                            <div class="d-flex justify-content-between">
                                                <div>
                                                    <p class="mb-0">Ολοκλήρωση ημερήσιας αποστολής</p>
                                                    <small class="text-muted">10:15</small>
                                                </div>
                                                <div class="points-badge positive">
                                                    +30
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-dot bg-success"></div>
                                        <div class="timeline-content">
                                            <div class="d-flex justify-content-between">
                                                <div>
                                                    <p class="mb-0">Δημιουργία νέας ανάρτησης</p>
                                                    <small class="text-muted">09:42</small>
                                                </div>
                                                <div class="points-badge positive">
                                                    +20
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Yesterday -->
                                <div class="timeline-day">
                                    <div class="timeline-date mb-2">Χθες</div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-dot bg-danger"></div>
                                        <div class="timeline-content">
                                            <div class="d-flex justify-content-between">
                                                <div>
                                                    <p class="mb-0">Εξαργύρωση: Πρωινό στο Δωμάτιο</p>
                                                    <small class="text-muted">08:30</small>
                                                </div>
                                                <div class="points-badge negative">
                                                    -40
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-dot bg-success"></div>
                                        <div class="timeline-content">
                                            <div class="d-flex justify-content-between">
                                                <div>
                                                    <p class="mb-0">Check-in στο ξενοδοχείο</p>
                                                    <small class="text-muted">14:00</small>
                                                </div>
                                                <div class="points-badge positive">
                                                    +50
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- User Badges -->
                <div class="card mb-4">
                    <div class="card-header bg-white">
                        <h6 class="mb-0">
                            <i class="bi bi-award text-primary me-2"></i> Τα Επιτεύγματά σου
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="badges-container">
                            <div class="row g-2 text-center">
                                <div class="col-3">
                                    <div class="badge-item">
                                        <div class="badge-icon active">
                                            <i class="bi bi-cup-hot"></i>
                                        </div>
                                        <div class="badge-name small">Foodie</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="badge-item">
                                        <div class="badge-icon active">
                                            <i class="bi bi-water"></i>
                                        </div>
                                        <div class="badge-name small">Pool Lover</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="badge-item">
                                        <div class="badge-icon">
                                            <i class="bi bi-chat-dots"></i>
                                        </div>
                                        <div class="badge-name small">Social</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="badge-item">
                                        <div class="badge-icon">
                                            <i class="bi bi-sunrise"></i>
                                        </div>
                                        <div class="badge-name small">Explorer</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="mobile-nav">
            <div class="mobile-nav-item active" data-tab="home">
                <i class="bi bi-house"></i>
                    <small data-i18n="home">Αρχική</small>
            </div>
                <div class="mobile-nav-item assistant-nav-item" data-tab="concierge">
                    <i class="bi bi-robot"></i>
                    <small data-i18n="assistant">AI Assistant</small>
            </div>
            <div class="mobile-nav-item" data-tab="experience">
                <i class="bi bi-compass"></i>
                    <small data-i18n="experiences">Εμπειρίες</small>
            </div>
            <div class="mobile-nav-item" data-tab="moments">
                <i class="bi bi-images"></i>
                <small data-i18n="moments">Moments</small>
            </div>
        </div>

        <!-- Global Chat Input Bar -->
        <div class="global-chat-bar">
            <form id="global-chat-form">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Ρωτήστε με οτιδήποτε..." id="global-chat-input">
                    <button class="btn btn-primary" type="submit">
                        <i class="bi bi-send"></i>
                    </button>
                    <button class="btn btn-outline-secondary" type="button" id="global-voice-input-btn">
                        <i class="bi bi-mic"></i>
                    </button>
                </div>
            </form>
            <div class="suggestion-chips-container">
                <div class="suggestion-chips mt-1 d-flex flex-nowrap">
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Προτάσεις εστιατορίων</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Ραντεβού στο spa</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Τοπικές δραστηριότητες</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Υπηρεσία δωματίου</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Πρόγνωση καιρού</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Πληροφορίες αναχώρησης</button>
                </div>
                <div class="suggestion-fade-right"></div>
            </div>
        </div>
    </div>

    <!-- Digital Room Key Modal -->
    <div class="modal fade" id="roomKeyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Digital Room Key</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-3">
                        <i class="bi bi-key-fill display-1 text-primary"></i>
                    </div>
                    <div class="qr-code-container mb-3">
                        <img src="img/qr-code-placeholder.svg" alt="QR Code" class="img-fluid" style="max-width: 200px;">
                    </div>
                    <p class="mb-3">Present this code at the door to unlock your room.</p>
                    <div class="form-check form-switch d-flex justify-content-center mb-3">
                        <input class="form-check-input me-2" type="checkbox" id="saveOffline" checked>
                        <label class="form-check-label" for="saveOffline">Available Offline</label>
                    </div>
                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> You can also use NFC by tapping your phone to the door lock
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- WiFi Modal -->
    <div class="modal fade" id="wifiModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">WiFi Access</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="bi bi-wifi display-1 text-primary"></i>
                    </div>
                    <div class="mb-3">
                        <h6>Network Name:</h6>
                        <div class="input-group">
                            <input type="text" class="form-control" value="Sunset_Resort_Guest" readonly>
                            <button class="btn btn-outline-secondary" type="button" id="copyWifiName">
                                <i class="bi bi-clipboard"></i>
                            </button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <h6>Password:</h6>
                        <div class="input-group">
                            <input type="text" class="form-control" value="SunnyStay2023" readonly>
                            <button class="btn btn-outline-secondary" type="button" id="copyWifiPassword">
                                <i class="bi bi-clipboard"></i>
                            </button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <button class="btn btn-primary w-100" id="connectWifiBtn">
                            <i class="bi bi-wifi"></i> Connect Automatically
                        </button>
                    </div>
                    <div class="small text-muted">
                        <i class="bi bi-info-circle"></i> For premium high-speed access, please contact the reception or use your loyalty points.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bill Modal -->
    <div class="modal fade" id="billModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Your Current Bill</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group mb-3">
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Room Charge</h6>
                                <small class="text-muted">Deluxe Ocean View, 5 nights</small>
                            </div>
                            <span>€1250.00</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Restaurant</h6>
                                <small class="text-muted">Ocean View Restaurant, June 15</small>
                            </div>
                            <span>€78.50</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Room Service</h6>
                                <small class="text-muted">Breakfast, June 16</small>
                            </div>
                            <span>€32.00</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Spa Service</h6>
                                <small class="text-muted">Massage, June 16</small>
                            </div>
                            <span>€120.00</span>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between mb-2">
                                <h6>Subtotal:</h6>
                                <h6>€1480.50</h6>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <h6>Tax (10%):</h6>
                                <h6>€148.05</h6>
                            </div>
                            <div class="d-flex justify-content-between">
                                <h5>Total:</h5>
                                <h5>€1628.55</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Download PDF</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Help & Support</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group mb-3">
                        <a href="#" class="list-group-item list-group-item-action urgent-help">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-telephone-fill text-danger me-2"></i> Urgent Help</h6>
                                <small>24/7</small>
                            </div>
                            <p class="mb-1">Call reception for immediate assistance</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-dismiss="modal" id="chat-with-concierge">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-chat-text-fill text-primary me-2"></i> Chat with Concierge</h6>
                                <small>24/7</small>
                            </div>
                            <p class="mb-1">Ask questions or request assistance</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-info-circle-fill text-info me-2"></i> Hotel Information</h6>
                            </div>
                            <p class="mb-1">View hotel facilities and services information</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-question-circle-fill text-success me-2"></i> FAQ</h6>
                            </div>
                            <p class="mb-1">Find answers to common questions</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-map-fill text-warning me-2"></i> Hotel Map</h6>
                            </div>
                            <p class="mb-1">Navigate hotel facilities and amenities</p>
                        </a>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast (Removed - now handled dynamically) -->
    <!-- <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="notificationToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
            <div class="toast-header">
                <i class="bi bi-bell-fill me-2 text-primary"></i>
                <strong class="me-auto">Notification</strong>
                <small class="text-muted">just now</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Your room is now ready for check-in.
            </div>
        </div>
    </div> -->

    <!-- Schedule Control Modal -->
    <div class="modal fade" id="scheduleModal" tabindex="-1" aria-labelledby="scheduleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="scheduleModalLabel">Schedule <span id="controlName">Control</span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="scheduleTime" class="form-label">Time</label>
                        <input type="time" class="form-control" id="scheduleTime">
                    </div>
                    <div class="mb-3" id="temperatureSettingGroup">
                        <label for="scheduleTempValue" class="form-label">Temperature</label>
                        <input type="number" class="form-control" id="scheduleTempValue" min="16" max="28" value="22">
                    </div>
                    <div class="mb-3" id="switchSettingGroup">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="scheduleSwitch" checked>
                            <label class="form-check-label" for="scheduleSwitch">Turn On</label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="repeatDaily">
                            <label class="form-check-label" for="repeatDaily">
                                Repeat Daily
                            </label>
                        </div>
                    </div>
                    <div id="scheduleConfirmation" class="alert alert-success d-none">
                        Schedule set successfully!
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveScheduleBtn">Save Schedule</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hotel Map Modal -->
    <div class="modal fade" id="hotelMapModal" tabindex="-1" aria-labelledby="hotelMapModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="hotelMapModalLabel">Hotel Map</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <div class="d-flex flex-column h-100">
                        <!-- Map Floors Selector -->
                        <div class="bg-light p-2 border-bottom">
                            <div class="btn-group w-100" role="group" aria-label="Floor selection">
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-1" autocomplete="off" checked>
                                <label class="btn btn-outline-primary" for="floor-1">1F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-2" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-2">2F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-3" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-3">3F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-4" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-4">4F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-0" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-0">G</label>
                            </div>
                        </div>
                        <!-- Interactive Map Container -->
                        <div class="position-relative flex-grow-1 overflow-hidden" id="map-container">
                            <!-- The SVG/Canvas map will be loaded here dynamically -->
                            <div class="d-flex justify-content-center align-items-center h-100 w-100 position-absolute" id="map-loading">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                            
                            <div class="p-3 h-100 overflow-auto" id="floor-maps">
                                <!-- First Floor (will be shown initially) -->
                                <div class="floor-map" id="floor-map-1">
                                    <img src="img/hotel-map-1.png" class="img-fluid map-image" alt="First Floor Map">
                                    <!-- Interactive Points of Interest -->
                                    <div class="map-marker" style="top: 40%; left: 30%;" data-poi="restaurant">
                                        <i class="bi bi-pin-fill text-danger"></i>
                                    </div>
                                    <div class="map-marker" style="top: 60%; left: 50%;" data-poi="lobby">
                                        <i class="bi bi-pin-fill text-primary"></i>
                                    </div>
                                    <div class="map-marker" style="top: 30%; left: 70%;" data-poi="pool">
                                        <i class="bi bi-pin-fill text-info"></i>
                                    </div>
                                </div>
                                
                                <!-- Second Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-2">
                                    <img src="img/hotel-map-2.png" class="img-fluid map-image" alt="Second Floor Map">
                                    <!-- Interactive Points of Interest -->
                                    <div class="map-marker" style="top: 35%; left: 45%;" data-poi="gym">
                                        <i class="bi bi-pin-fill text-success"></i>
                                    </div>
                                    <div class="map-marker" style="top: 55%; left: 25%;" data-poi="spa">
                                        <i class="bi bi-pin-fill text-warning"></i>
                                    </div>
                                </div>
                                
                                <!-- Third Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-3">
                                    <img src="img/hotel-map-3.png" class="img-fluid map-image" alt="Third Floor Map">
                                    <div class="current-location" style="top: 40%; left: 60%;">
                                        <i class="bi bi-geo-alt-fill text-danger fs-3 pulse-animation"></i>
                                        <span class="badge bg-danger position-absolute" style="top: -8px; right: -8px;">
                                            You Are Here
                                        </span>
                                    </div>
                                </div>
                                
                                <!-- Fourth Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-4">
                                    <img src="img/hotel-map-4.png" class="img-fluid map-image" alt="Fourth Floor Map">
                                </div>
                                
                                <!-- Ground Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-0">
                                    <img src="img/hotel-map-g.png" class="img-fluid map-image" alt="Ground Floor Map">
                                    <div class="map-marker" style="top: 45%; left: 40%;" data-poi="parking">
                                        <i class="bi bi-pin-fill text-secondary"></i>
                                    </div>
                                    <div class="map-marker" style="top: 30%; left: 75%;" data-poi="shops">
                                        <i class="bi bi-pin-fill text-primary"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Navigation Input -->
                        <div class="bg-light p-2 border-top">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Find a location..." id="map-search">
                                <button class="btn btn-primary" type="button" id="map-search-btn">
                                    <i class="bi bi-search"></i>
                                </button>
                            </div>
                            <div class="d-none mt-2" id="directions-panel">
                                <div class="alert alert-primary mb-2">
                                    <small>Directions from your room to <span id="destination-name">selected destination</span></small>
                                    <ul class="mb-0 small" id="directions-steps">
                                        <li>Take the elevator to the 1st floor</li>
                                        <li>Turn right when exiting the elevator</li>
                                        <li>Walk straight ahead for 50 meters</li>
                                        <li>Your destination will be on your left</li>
                                    </ul>
                                </div>
                                <button class="btn btn-sm btn-primary w-100" id="start-navigation-btn">
                                    <i class="bi bi-arrow-right-circle me-1"></i> Start Navigation
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Virtual Tour Modal -->
    <div class="modal fade" id="virtualTourModal" tabindex="-1" aria-labelledby="virtualTourModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="virtualTourModalLabel">Virtual Tour</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <div class="d-flex flex-column h-100">
                        <!-- Tour Location Selector -->
                        <div class="bg-light p-2 border-bottom">
                            <select class="form-select" id="tour-location-selector">
                                <option value="lobby">Hotel Lobby</option>
                                <option value="pool">Swimming Pool</option>
                                <option value="restaurant">Restaurant</option>
                                <option value="spa">Spa & Wellness</option>
                                <option value="garden">Garden</option>
                                <option value="suite">Suite Preview</option>
                            </select>
                        </div>
                        
                        <!-- Tour Viewer -->
                        <div class="position-relative flex-grow-1 overflow-hidden" id="tour-container">
                            <div class="d-flex justify-content-center align-items-center h-100 w-100" id="tour-placeholder">
                                <div id="tour-view" class="w-100 h-100">
                                    <img src="img/virtual-tour-lobby.jpg" class="img-fluid tour-image w-100 h-100 object-fit-cover" alt="Virtual Tour" id="tour-image">
                                    
                                    <!-- Interactive hotspots -->
                                    <div class="tour-hotspot" style="top: 50%; left: 20%;" data-target="reception">
                                        <i class="bi bi-info-circle-fill"></i>
                                        <div class="hotspot-tooltip">Reception Desk</div>
                                    </div>
                                    
                                    <div class="tour-hotspot" style="top: 40%; left: 70%;" data-target="elevator">
                                        <i class="bi bi-info-circle-fill"></i>
                                        <div class="hotspot-tooltip">Elevators</div>
                                    </div>
                                    
                                    <div class="tour-navigation">
                                        <button class="btn btn-light rounded-circle tour-nav-btn" data-direction="left">
                                            <i class="bi bi-arrow-left"></i>
                                        </button>
                                        <button class="btn btn-light rounded-circle tour-nav-btn" data-direction="right">
                                            <i class="bi bi-arrow-right"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Service Tracker Modal -->
    <div class="modal fade" id="serviceTrackerModal" tabindex="-1" aria-labelledby="serviceTrackerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="serviceTrackerModalLabel">Order Tracking</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6 class="mb-3">Active Orders</h6>
                    <div id="active-orders-container">
                        <!-- Room Service Order -->
                        <div class="card mb-3 service-status-card active-service-card" data-service-id="rs-123456">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="card-title mb-0">Room Service Order</h6>
                                    <span class="badge bg-primary">In Progress</span>
                                </div>
                                <p class="card-text small mb-2">Order #RS-123456 - Placed at 19:42</p>
                                
                                <!-- Progress Tracker -->
                                <div class="progress-tracker mb-3">
                                    <div class="progress" style="height: 4px;">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between mt-1">
                                        <div class="progress-step completed" data-step="ordered">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Ordered</div>
                                        </div>
                                        <div class="progress-step completed" data-step="preparing">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Preparing</div>
                                        </div>
                                        <div class="progress-step active" data-step="on-way">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-arrow-repeat"></i>
                                            </div>
                                            <div class="progress-step-label">On the way</div>
                                        </div>
                                        <div class="progress-step" data-step="delivered">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-circle"></i>
                                            </div>
                                            <div class="progress-step-label">Delivered</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Live Order Tracking Map -->
                                <div class="card mb-3 bg-light">
                                    <div class="card-body p-2">
                                        <div class="d-flex align-items-center">
                                            <div class="delivery-avatar me-2">
                                                <i class="bi bi-person-circle fs-4"></i>
                                            </div>
                                            <div>
                                                <div class="fw-bold">Alex is bringing your order</div>
                                                <div class="estimated-time small">
                                                    <div class="d-flex align-items-center">
                                                        <div class="delivery-progress-bar me-2 flex-grow-1">
                                                            <div class="progress" style="height: 6px;">
                                                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" style="width: 65%"></div>
                                                            </div>
                                                        </div>
                                                        <span class="text-success fw-bold"><i class="bi bi-clock me-1"></i>8 min</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <button class="btn btn-sm btn-outline-primary view-details-btn" data-service-id="rs-123456">
                                        <i class="bi bi-list-ul me-1"></i> View Details
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary contact-service-btn" data-service="room-service">
                                        <i class="bi bi-chat-dots me-1"></i> Contact
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Housekeeping Request -->
                        <div class="card mb-3 service-status-card active-service-card" data-service-id="hk-789012">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="card-title mb-0">Extra Towels</h6>
                                    <span class="badge bg-success">Completed</span>
                                </div>
                                <p class="card-text small mb-2">Request #HK-789012 - Placed at 18:15</p>
                                
                                <!-- Progress Tracker -->
                                <div class="progress-tracker mb-3">
                                    <div class="progress" style="height: 4px;">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between mt-1">
                                        <div class="progress-step completed">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Requested</div>
                                        </div>
                                        <div class="progress-step completed">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Assigned</div>
                                        </div>
                                        <div class="progress-step completed">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Delivered</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Service Rating -->
                                <div class="card mb-3 bg-light">
                                    <div class="card-body p-2">
                                        <div class="text-center">
                                            <div class="mb-2">How was this service?</div>
                                            <div class="service-rating">
                                                <i class="bi bi-star fs-4 rating-star" data-rating="1"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="2"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="3"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="4"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="5"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="text-muted small">
                                        <i class="bi bi-check-circle me-1"></i> Completed at 18:27
                                    </div>
                                    <div>
                                        <button class="btn btn-sm btn-outline-secondary dismiss-service-btn" data-service-id="hk-789012">
                                            Dismiss
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- No Active Orders Message (hidden initially) -->
                        <div class="text-center py-4 d-none" id="no-active-orders">
                            <div class="text-muted mb-2">
                                <i class="bi bi-inbox fs-1"></i>
                            </div>
                            <h6>No Active Orders</h6>
                            <p class="text-muted small">Your service requests will appear here</p>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <h6 class="mb-3">Order History</h6>
                    <div class="list-group">
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">Room Service - Dinner</h6>
                                <small class="text-muted">Yesterday</small>
                            </div>
                            <p class="mb-1 small">Club Sandwich, Caesar Salad, Sparkling Water</p>
                            <div class="d-flex align-items-center justify-content-between">
                                <div>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-half text-warning"></i>
                                    <span class="small ms-1">4.5</span>
                                </div>
                                <button class="btn btn-sm btn-outline-primary order-again-btn" data-order-id="rs-111222">
                                    Order Again
                                </button>
                            </div>
                        </div>
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">Room Cleaning</h6>
                                <small class="text-muted">2 days ago</small>
                            </div>
                            <p class="mb-1 small">Full Room Cleaning Service</p>
                            <div>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star text-warning"></i>
                                <span class="small ms-1">4.0</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#roomServiceModal">
                        <i class="bi bi-plus-circle me-1"></i> New Order
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Real-time Notification Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 9999;">
        <!-- Toasts will be dynamically added here -->
    </div>

        <!-- Active Requests Modal -->
        <div class="modal fade" id="activeRequestsModal" tabindex="-1" aria-labelledby="activeRequestsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="activeRequestsModalLabel">Active Requests</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Room Service Order -->
                        <div class="card mb-3">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">Room Service Order</h6>
                                    <span class="badge bg-primary">In Progress</span>
                                </div>
                                <p class="small text-muted mb-3">Order #RS-123456 - Placed at 19:42</p>
                                
                                <div class="progress mb-3" style="height: 4px;">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 65%"></div>
                                </div>
                                
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="text-success">
                                        <i class="bi bi-clock me-1"></i>
                                        <small>Estimated: 8 minutes</small>
                                    </div>
                                    <button class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-eye me-1"></i>Details
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Housekeeping Request -->
                        <div class="card mb-3">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">Extra Towels</h6>
                                    <span class="badge bg-warning">Processing</span>
                                </div>
                                <p class="small text-muted mb-3">Request #HK-789012 - Placed at 19:35</p>
                                
                                <div class="progress mb-3" style="height: 4px;">
                                    <div class="progress-bar bg-warning" role="progressbar" style="width: 35%"></div>
                                </div>
                                
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="text-warning">
                                        <i class="bi bi-clock me-1"></i>
                                        <small>Processing request</small>
                                    </div>
                                    <button class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-eye me-1"></i>Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Create Moment Modal -->
    <div class="modal fade" id="createMomentModal" tabindex="-1" aria-labelledby="createMomentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen-md-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createMomentModalLabel">Share Your Moment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Step progress indicator -->
                    <div class="creation-progress mb-4">
                        <div class="d-flex justify-content-between">
                            <div class="progress flex-grow-1 mt-2">
                                <div class="progress-bar" role="progressbar" id="creationProgressBar" style="width: 16.6%"></div>
                            </div>
                            <span class="ms-2 text-muted small" id="stepIndicator">Step 1/6</span>
                        </div>
                    </div>
                    
                    <!-- Step 1: Photo/Video Selection -->
                    <div class="moment-creation-step" id="momentStep1">
                        <h6 class="mb-3">Step 1: Select Photos or Videos</h6>
                        <div class="photo-upload-area mb-3 text-center p-4 border rounded-3 bg-light">
                            <i class="bi bi-cloud-arrow-up display-4 mb-2 text-primary"></i>
                            <p>Tap to upload or capture a new moment</p>
                            <div class="d-flex justify-content-center gap-2">
                                <button class="btn btn-outline-primary">
                                    <i class="bi bi-camera"></i> Camera
                                </button>
                                <button class="btn btn-outline-primary">
                                    <i class="bi bi-images"></i> Gallery
                                </button>
                                <button class="btn btn-outline-primary">
                                    <i class="bi bi-camera-reels"></i> Video
                                </button>
                            </div>
                        </div>
                        <div class="selected-photos mb-3 d-flex gap-2 overflow-auto py-2">
                            <!-- Preview images will appear here -->
                            <div class="selected-photo-preview">
                                <img src="https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80" alt="Preview">
                                <button class="remove-photo-btn">
                                    <i class="bi bi-x-circle-fill"></i>
                                </button>
                            </div>
                        </div>
                        <div class="form-text text-center mb-3">
                            You can add up to 10 photos or videos
                        </div>
                        <button class="btn btn-primary w-100 next-step-btn" data-next="momentStep2">
                            Continue <i class="bi bi-arrow-right"></i>
                        </button>
                    </div>
                    
                    <!-- Step 2: Mood Selection -->
                    <div class="moment-creation-step d-none" id="momentStep2">
                        <h6 class="mb-3">Step 2: How Are You Feeling?</h6>
                        <p class="text-muted small mb-3">Select your mood about this experience</p>
                        
                        <div class="mood-selector mb-4">
                            <div class="text-center mb-3">
                                <div class="selected-mood-display">
                                    <div class="selected-mood-emoji fs-1">😄</div>
                                    <p class="selected-mood-text mb-0">Happy</p>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-content-between mb-2">
                                <span class="mood-label">Relaxed</span>
                                <span class="mood-label">Excited</span>
                            </div>
                            <input type="range" class="form-range mood-slider" min="1" max="5" value="3" id="moodSlider">
                            <div class="d-flex justify-content-between mt-2">
                                <div class="mood-emoji">😌</div>
                                <div class="mood-emoji">😊</div>
                                <div class="mood-emoji">😄</div>
                                <div class="mood-emoji">😁</div>
                                <div class="mood-emoji">🤩</div>
                            </div>
                        </div>
                        
                        <div class="mood-options mb-4">
                            <div class="d-flex flex-wrap gap-2">
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Relaxed" data-emoji="😌">
                                    <span class="emoji">😌</span> Relaxed
                                </button>
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Peaceful" data-emoji="😇">
                                    <span class="emoji">😇</span> Peaceful
                                </button>
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Happy" data-emoji="😄">
                                    <span class="emoji">😄</span> Happy
                                </button>
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Excited" data-emoji="😁">
                                    <span class="emoji">😁</span> Excited
                                </button>
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Amazed" data-emoji="🤩">
                                    <span class="emoji">🤩</span> Amazed
                                </button>
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Romantic" data-emoji="😍">
                                    <span class="emoji">😍</span> Romantic
                                </button>
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Grateful" data-emoji="🥰">
                                    <span class="emoji">🥰</span> Grateful
                                </button>
                                <button class="btn btn-outline-primary mood-option-btn" data-mood="Impressed" data-emoji="😲">
                                    <span class="emoji">😲</span> Impressed
                                </button>
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-secondary prev-step-btn" data-prev="momentStep1">
                                <i class="bi bi-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-primary flex-grow-1 next-step-btn" data-next="momentStep3">
                                Continue <i class="bi bi-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Step 3: Experience Category -->
                    <div class="moment-creation-step d-none" id="momentStep3">
                        <h6 class="mb-3">Step 3: Select Experience Category</h6>
                        <p class="text-muted small mb-3">What kind of experience are you sharing?</p>
                        
                        <div class="experience-categories mb-4">
                            <div class="row g-3">
                                <div class="col-4">
                                    <div class="card category-card" data-category="room">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-house"></i>
                                            </div>
                                            <div class="category-name small">Room</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="dining">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-cup-hot"></i>
                                            </div>
                                            <div class="category-name small">Dining</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="pool">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-water"></i>
                                            </div>
                                            <div class="category-name small">Pool</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="spa">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-droplet"></i>
                                            </div>
                                            <div class="category-name small">Spa</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="view">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-binoculars"></i>
                                            </div>
                                            <div class="category-name small">View</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="staff">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-people"></i>
                                            </div>
                                            <div class="category-name small">Staff</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="beach">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-umbrella"></i>
                                            </div>
                                            <div class="category-name small">Beach</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="activity">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-bicycle"></i>
                                            </div>
                                            <div class="category-name small">Activity</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="card category-card" data-category="other">
                                        <div class="card-body text-center">
                                            <div class="category-icon mb-2">
                                                <i class="bi bi-three-dots"></i>
                                            </div>
                                            <div class="category-name small">Other</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="selected-category mb-4">
                            <p class="mb-1">Selected category:</p>
                            <div id="selectedCategoryDisplay" class="d-flex align-items-center">
                                <span class="badge bg-primary rounded-pill me-2">
                                    <i class="bi bi-water me-1"></i> Pool
                                </span>
                                <button class="btn btn-sm btn-link text-danger p-0" id="clearCategoryBtn">
                                    <i class="bi bi-x-circle"></i> Clear
                                </button>
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-secondary prev-step-btn" data-prev="momentStep2">
                                <i class="bi bi-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-primary flex-grow-1 next-step-btn" data-next="momentStep4">
                                Continue <i class="bi bi-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Step 4: Location Tagging -->
                    <div class="moment-creation-step d-none" id="momentStep4">
                        <h6 class="mb-3">Step 4: Tag Location</h6>
                        <p class="text-muted small mb-3">Where was this moment taken?</p>
                        
                        <div class="location-options mb-4">
                            <h6 class="mb-2">Hotel Locations:</h6>
                            <div class="d-flex flex-wrap gap-2 mb-3">
                                <button class="btn btn-outline-primary location-btn" data-location="Room 203">
                                    <i class="bi bi-house me-1"></i> Room 203
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Infinity Pool">
                                    <i class="bi bi-water me-1"></i> Infinity Pool
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Ocean View Restaurant">
                                    <i class="bi bi-cup-hot me-1"></i> Ocean View Restaurant
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Wellness Spa">
                                    <i class="bi bi-droplet me-1"></i> Wellness Spa
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Sunset Rooftop Bar">
                                    <i class="bi bi-moon-stars me-1"></i> Sunset Rooftop Bar
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Lobby Lounge">
                                    <i class="bi bi-shop me-1"></i> Lobby Lounge
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Sky Terrace">
                                    <i class="bi bi-cloud me-1"></i> Sky Terrace
                                </button>
                            </div>
                            
                            <h6 class="mb-2">Nearby Points of Interest:</h6>
                            <div class="d-flex flex-wrap gap-2">
                                <button class="btn btn-outline-primary location-btn" data-location="Sunset Beach">
                                    <i class="bi bi-geo-alt me-1"></i> Sunset Beach
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Old Town Square">
                                    <i class="bi bi-geo-alt me-1"></i> Old Town Square
                                </button>
                                <button class="btn btn-outline-primary location-btn" data-location="Marina Bay">
                                    <i class="bi bi-geo-alt me-1"></i> Marina Bay
                                </button>
                            </div>
                        </div>
                        
                        <div class="custom-location mb-4">
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-search"></i></span>
                                <input type="text" class="form-control" placeholder="Search or add custom location" id="customLocationInput">
                            </div>
                        </div>
                        
                        <div class="selected-location mb-4">
                            <p class="mb-1">Selected location:</p>
                            <div id="selectedLocationDisplay" class="d-flex align-items-center">
                                <span class="badge bg-primary rounded-pill me-2">
                                    <i class="bi bi-water me-1"></i> Infinity Pool
                                </span>
                                <button class="btn btn-sm btn-link text-danger p-0" id="clearLocationBtn">
                                    <i class="bi bi-x-circle"></i> Clear
                                </button>
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-secondary prev-step-btn" data-prev="momentStep3">
                                <i class="bi bi-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-primary flex-grow-1 next-step-btn" data-next="momentStep5">
                                Continue <i class="bi bi-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Step 5: Add Tags & Comment -->
                    <div class="moment-creation-step d-none" id="momentStep5">
                        <h6 class="mb-3">Step 5: Add Tags & Description</h6>
                        
                        <div class="form-floating mb-4">
                            <textarea class="form-control" placeholder="How was your experience?" id="momentDescription" style="height: 100px"></textarea>
                            <label for="momentDescription">How was your experience?</label>
                        </div>
                        
                        <div class="emoji-suggestions mb-3">
                            <div class="d-flex flex-wrap gap-2">
                                <button class="btn btn-sm btn-outline-secondary emoji-suggestion">Amazing! 😍</button>
                                <button class="btn btn-sm btn-outline-secondary emoji-suggestion">Great view! 🌅</button>
                                <button class="btn btn-sm btn-outline-secondary emoji-suggestion">So relaxing... 😌</button>
                                <button class="btn btn-sm btn-outline-secondary emoji-suggestion">Delicious food! 🍽️</button>
                                <button class="btn btn-sm btn-outline-secondary emoji-suggestion">Lovely staff! 💯</button>
                            </div>
                        </div>
                        
                        <div class="suggested-tags mb-3">
                            <h6 class="mb-2">Suggested tags:</h6>
                            <div class="d-flex flex-wrap gap-2 mb-2">
                                <button class="btn btn-sm btn-outline-primary tag-btn" data-tag="vacation">
                                    #vacation
                                </button>
                                <button class="btn btn-sm btn-outline-primary tag-btn" data-tag="relaxation">
                                    #relaxation
                                </button>
                                <button class="btn btn-sm btn-outline-primary tag-btn" data-tag="poolside">
                                    #poolside
                                </button>
                                <button class="btn btn-sm btn-outline-primary tag-btn" data-tag="summervibes">
                                    #summervibes
                                </button>
                                <button class="btn btn-sm btn-outline-primary tag-btn" data-tag="luxuryhotel">
                                    #luxuryhotel
                                </button>
                                <button class="btn btn-sm btn-outline-primary tag-btn" data-tag="travelgram">
                                    #travelgram
                                </button>
                                <button class="btn btn-sm btn-outline-primary tag-btn" data-tag="sunsetview">
                                    #sunsetview
                                </button>
                            </div>
                        </div>
                        
                        <div class="selected-tags mb-4">
                            <p class="mb-2">Selected tags:</p>
                            <div id="selectedTagsContainer" class="d-flex flex-wrap gap-1">
                                <span class="badge rounded-pill bg-primary">#poolside</span>
                                <span class="badge rounded-pill bg-primary">#relaxation</span>
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-secondary prev-step-btn" data-prev="momentStep4">
                                <i class="bi bi-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-primary flex-grow-1 next-step-btn" data-next="momentStep6">
                                Continue <i class="bi bi-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Step 6: Privacy Settings & Publish -->
                    <div class="moment-creation-step d-none" id="momentStep6">
                        <h6 class="mb-3">Step 6: Privacy & Publish</h6>
                        
                        <div class="moment-preview mb-4">
                            <div class="card moment-card">
                                <div class="moment-preview-img">
                                    <img src="https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Preview" class="card-img-top">
                                    <div class="location-badge">
                                        <i class="bi bi-geo-alt-fill"></i> <span id="previewLocation">Infinity Pool</span>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start mb-2">
                                        <div class="d-flex align-items-center">
                                            <div class="user-avatar me-2">
                                                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">
                                            </div>
                                            <div>
                                                <h6 class="mb-0" id="previewUsername">Maria S.</h6>
                                                <p class="text-muted small mb-0">Just now</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="moment-mood mb-2">
                                        <span class="mood-tag relaxed">
                                            <i class="bi bi-emoji-smile"></i> <span id="previewMood">Relaxed</span>
                                        </span>
                                    </div>
                                    
                                    <p class="card-text" id="previewDescription">Perfect afternoon by the infinity pool!</p>
                                    
                                    <div class="moment-tags mb-3" id="previewTags">
                                        <span class="badge rounded-pill bg-light text-dark">#poolside</span>
                                        <span class="badge rounded-pill bg-light text-dark">#relaxation</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="privacy-options mb-4">
                            <h6 class="mb-2">Who can see this moment?</h6>
                            
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="postVisibility" id="visibilityPublic" checked>
                                <label class="form-check-label" for="visibilityPublic">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-globe2 fs-4 me-2 text-primary"></i>
                                        <div>
                                            <span class="fw-medium">Public</span>
                                            <p class="text-muted small mb-0">Share with all hotel guests</p>
                                        </div>
                                    </div>
                                </label>
                            </div>
                            
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="postVisibility" id="visibilityAnonymous">
                                <label class="form-check-label" for="visibilityAnonymous">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-incognito fs-4 me-2 text-primary"></i>
                                        <div>
                                            <span class="fw-medium">Anonymous</span>
                                            <p class="text-muted small mb-0">Post as "Guest from Room 203"</p>
                                        </div>
                                    </div>
                                </label>
                            </div>
                            
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="radio" name="postVisibility" id="visibilityPrivate">
                                <label class="form-check-label" for="visibilityPrivate">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-lock fs-4 me-2 text-primary"></i>
                                        <div>
                                            <span class="fw-medium">Hotel Only</span>
                                            <p class="text-muted small mb-0">Only visible to hotel staff</p>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="shareToSocial">
                                <label class="form-check-label" for="shareToSocial">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-share fs-4 me-2 text-primary"></i>
                                        <div>
                                            <span class="fw-medium">Share to social media after publishing</span>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="reward-preview alert alert-success mb-4">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-trophy fs-4 me-2"></i>
                                <div>
                                    <strong>Reward Preview</strong>
                                    <p class="mb-0">You'll earn 20 points for sharing this complete moment!</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-secondary prev-step-btn" data-prev="momentStep5">
                                <i class="bi bi-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-primary flex-grow-1" id="publishMomentBtn">
                                Publish Moment <i class="bi bi-send"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/language.js"></script>
    <script>
        // Initialize the app after DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Fix for strikethrough on disabled preferences
            const preferenceLabels = document.querySelectorAll('.form-check-label');
            preferenceLabels.forEach(label => {
                label.style.textDecoration = 'none';
            });
            
            // Make sure new labels are also fixed if added dynamically
            const observer = new MutationObserver(mutations => {
                mutations.forEach(mutation => {
                    if (mutation.addedNodes && mutation.addedNodes.length > 0) {
                        const newLabels = document.querySelectorAll('.form-check-label');
                        newLabels.forEach(label => {
                            label.style.textDecoration = 'none';
                        });
                    }
                });
            });
            
            observer.observe(document.body, { childList: true, subtree: true });
        });
    </script>
    <script>
        // Tab navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Fix for strikethrough on disabled preferences
            const preferenceLabels = document.querySelectorAll('.form-check-label');
            preferenceLabels.forEach(label => {
                label.style.textDecoration = 'none';
            });
            
            const navItems = document.querySelectorAll('.mobile-nav-item');
            const tabContents = document.querySelectorAll('.tab-content');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding content
                    const tabName = this.getAttribute('data-tab');
                    tabContents.forEach(content => content.classList.add('d-none'));
                    document.getElementById(`${tabName}-content`).classList.remove('d-none');
                    
                    // Scroll to top of the page (only for bottom navigation tabs)
                    window.scrollTo(0, 0);
                });
            });

            // Remove scroll to top behavior for internal tabs
            const internalTabs = document.querySelectorAll('.nav-tabs .nav-link');
            internalTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // No scroll to top for internal tabs
                });
            });

            // Handle the chat with concierge button in the help modal
            const chatWithConcierge = document.getElementById('chat-with-concierge');
            if (chatWithConcierge) {
                chatWithConcierge.addEventListener('click', function() {
                    // Switch to concierge tab
                    const conciergeTab = document.querySelector('.mobile-nav-item[data-tab="concierge"]');
                    conciergeTab.click();
                    
                    // Focus on the chat input
                    setTimeout(() => {
                        const chatInput = document.getElementById('global-chat-input');
                        if (chatInput) {
                            chatInput.focus();
                            chatInput.value = "I need help with ";
                        }
                    }, 300);
                });
            }

            // Initialize horizontal scrolling for suggestion chips
            const suggestionsContainer = document.querySelector('.suggestion-chips');
            if (suggestionsContainer) {
                // Allow mouse wheel to scroll horizontally
                suggestionsContainer.addEventListener('wheel', function(e) {
                    if (e.deltaY !== 0) {
                        e.preventDefault();
                        this.scrollLeft += e.deltaY;
                    }
                });
            }
        });
    </script>
</body>
</html>
    </div>
                        <div class="toast-body">
                            <div class="d-flex align-items-center">
                                <div>Your moment has been shared! You earned 20 points.</div>
                            </div>
                        </div>
                    `;
                    
                    document.querySelector('.toast-container').appendChild(toast);
                    
                    // Auto dismiss after 5 seconds
                    setTimeout(() => {
                        toast.classList.remove('show');
                        setTimeout(() => {
                            toast.remove();
                        }, 500);
                    }, 5000);
                    
                    // Close modal
                    const createMomentModal = bootstrap.Modal.getInstance(document.getElementById('createMomentModal'));
                    createMomentModal.hide();
                    
                    // Reset form
                    document.getElementById('momentStep1').classList.remove('d-none');
                    document.querySelectorAll('.moment-creation-step:not(#momentStep1)').forEach(step => {
                        step.classList.add('d-none');
                    });
                    
                    // Reset progress bar
                    document.getElementById('creationProgressBar').style.width = '16.6%';
                    document.getElementById('stepIndicator').innerText = 'Step 1/6';
                    
                    // Switch to Feed tab
                    document.querySelector('.moments-tab-btn[data-tab="feed"]').click();
                    
                    // Add the new moment to the feed
                    addNewMomentToFeed();
                });
            }
            
            // Add the new moment to the feed
            function addNewMomentToFeed() {
                const momentsFeed = document.querySelector('.moments-feed');
                
                if (momentsFeed) {
                    // Create a new moment card
                    const newMoment = document.createElement('div');
                    newMoment.classList.add('card', 'mb-4', 'moment-card', 'new-moment');
                    
                    // Get description from the form
                    let description = "Perfect afternoon by the infinity pool!";
                    if (momentDescription && momentDescription.value) {
                        description = momentDescription.value;
                    }
                    
                    // Get username based on visibility selection
                    let username = 'Maria S.';
                    let userAvatar = '<img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="User" class="rounded-circle" width="36" height="36">';
                    if (document.getElementById('visibilityAnonymous') && document.getElementById('visibilityAnonymous').checked) {
                        username = 'Guest from Room 203';
                        userAvatar = '<i class="bi bi-person-circle"></i>';
                    }
                    
                    // Get mood
                    let mood = 'Relaxed';
                    let moodClass = 'relaxed';
                    if (document.querySelector('.mood-option-btn.active')) {
                        const activeMood = document.querySelector('.mood-option-btn.active');
                        mood = activeMood.getAttribute('data-mood');
                        moodClass = mood.toLowerCase();
                    }
                    
                    // Get location
                    let location = 'Infinity Pool';
                    const activeLocationBtn = document.querySelector('.location-btn.active');
                    if (activeLocationBtn) {
                        location = activeLocationBtn.getAttribute('data-location');
                    }
                    
                    // Generate tags HTML
                    let tagsHtml = '';
                    if (selectedTags.size > 0) {
                        selectedTags.forEach(tag => {
                            tagsHtml += `<span class="badge rounded-pill bg-light text-dark">#${tag}</span> `;
                        });
                    } else {
                        tagsHtml = '<span class="badge rounded-pill bg-light text-dark">#infinitypool</span> <span class="badge rounded-pill bg-light text-dark">#relaxation</span>';
                    }
                    
                    // Set the HTML content
                    newMoment.innerHTML = `
                        <div class="moment-image">
                            <img src="https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Your Moment">
                            <div class="location-badge">
                                <i class="bi bi-geo-alt-fill"></i> ${location}
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                ${userAvatar}
                            </div>
                            
                            <div class="moment-mood mb-2">
                                <span class="mood-tag ${moodClass}">
                                    <i class="bi bi-emoji-smile"></i> ${mood}
                                </span>
                            </div>
                            
                            <p class="card-text">${description}</p>
                            
                            <div class="moment-tags mb-3">
                                ${tagsHtml}
                            </div>
                            
                            <div class="moment-stats d-flex align-items-center mb-3">
                                <div class="rating me-2">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <span class="small">5.0/5</span>
                                </div>
                                <div class="views small text-muted">
                                    <i class="bi bi-eye"></i> 0 views
                                </div>
                            </div>
                            
                            <div class="moment-actions d-flex justify-content-between">
                                <div class="reactions">
                                    <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="love">
                                        <i class="bi bi-heart"></i> <span>0</span>
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary rounded-pill reaction-btn" data-reaction="wow">
                                        <i class="bi bi-emoji-surprise"></i> <span>0</span>
                                    </button>
                                </div>
                                <div>
                                    <button class="btn btn-sm btn-outline-primary rounded-pill moment-comment-btn">
                                        <i class="bi bi-chat"></i> <span>0</span>
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary rounded-pill moment-share-btn">
                                        <i class="bi bi-share"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    // Add the new moment to the top of the feed
                    momentsFeed.insertBefore(newMoment, momentsFeed.firstChild);
                    
                    // Add animation
                    setTimeout(() => {
                        newMoment.classList.add('highlight-animation');
                    }, 100);
                    
                    // Remove animation class after the animation completes
                    setTimeout(() => {
                        newMoment.classList.remove('highlight-animation');
                    }, 2000);
                    
                    // Also add to the profile gallery
                    const profileGallery = document.querySelector('.gallery-item img');
                    if (profileGallery) {
                        profileGallery.src = "https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80";
                    }
                    
                    // Update stats
                    const momentsStat = document.querySelector('.stat-item:first-child .fw-bold');
                    const pointsStat = document.querySelector('.stat-item:nth-child(2) .fw-bold');
                    
                    if (momentsStat && pointsStat) {
                        momentsStat.textContent = parseInt(momentsStat.textContent) + 1;
                        pointsStat.textContent = parseInt(pointsStat.textContent) + 20;
                    }
                }
            }
            
            // Add like functionality to existing moment cards
            const reactionBtns = document.querySelectorAll('.reaction-btn');
            
            reactionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Toggle active state
                    this.classList.toggle('active');
                    
                    // Get the reaction count
                    const reactionCount = this.querySelector('span');
                    let count = parseInt(reactionCount.textContent);
                    
                    if (this.classList.contains('active')) {
                        // Reaction added
                        count++;
                        const reaction = this.getAttribute('data-reaction');
                        if (reaction === 'love') {
                            this.innerHTML = `<i class="bi bi-heart-fill text-danger"></i> <span>${count}</span>`;
                        } else if (reaction === 'wow') {
                            this.innerHTML = `<i class="bi bi-emoji-surprise-fill text-warning"></i> <span>${count}</span>`;
                        } else if (reaction === 'yum') {
                            this.innerHTML = `<i class="bi bi-emoji-heart-eyes-fill text-danger"></i> <span>${count}</span>`;
                        }
                    } else {
                        // Reaction removed
                        count--;
                        const reaction = this.getAttribute('data-reaction');
                        if (reaction === 'love') {
                            this.innerHTML = `<i class="bi bi-heart"></i> <span>${count}</span>`;
                        } else if (reaction === 'wow') {
                            this.innerHTML = `<i class="bi bi-emoji-surprise"></i> <span>${count}</span>`;
                        } else if (reaction === 'yum') {
                            this.innerHTML = `<i class="bi bi-emoji-heart-eyes"></i> <span>${count}</span>`;
                        }
                    }
                    
                    // Show points notification if adding reaction
                    if (this.classList.contains('active')) {
                        const toast = document.createElement('div');
                        toast.classList.add('toast', 'show', 'bg-primary', 'text-white');
                        toast.setAttribute('role', 'alert');
                        toast.setAttribute('aria-live', 'assertive');
                        toast.setAttribute('aria-atomic', 'true');
                        
                        toast.innerHTML = `
                            <div class="toast-body">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-coin me-2"></i>
                                    <div>You earned 2 points!</div>
                                </div>
                            </div>
                        `;
                        
                        document.querySelector('.toast-container').appendChild(toast);
                        
                        // Auto dismiss after 3 seconds
                        setTimeout(() => {
                            toast.classList.remove('show');
                            setTimeout(() => {
                                toast.remove();
                            }, 500);
                        }, 3000);
                        
                        this.innerHTML = `<i class="bi bi-heart"></i> <span class="like-count">${count}</span>`;
                    }
                });
            });
            
            // Moments filter functionality
            const momentFilters = document.querySelectorAll('[data-filter]');
            
            momentFilters.forEach(filter => {
                filter.addEventListener('click', function() {
                    // Remove active class from all filters
                    momentFilters.forEach(f => f.classList.remove('active'));
                    
                    // Add active class to clicked filter
                    this.classList.add('active');
                    
                    // Get the filter value
                    const filterValue = this.getAttribute('data-filter');
                    
                    // Apply filtering logic here (not implemented in this demo)
                    console.log(`Filtering moments by: ${filterValue}`);
                });
            });
        });
    </script>

    <!-- Voice Control Accessibility -->
    <script>
        // Voice Control Accessibility
        const voiceControlBtn = document.getElementById('voiceControlBtn');
        const touchTooltip = document.getElementById('touchTooltip');
        
        if (voiceControlBtn) {
            voiceControlBtn.addEventListener('click', function() {
                // Check if browser supports Speech Recognition
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    // Change button appearance
                    this.classList.add('active');
                    this.innerHTML = '<i class="bi bi-mic-fill text-danger"></i>';
                    
                    // Show tooltip
                    showTooltip('Μιλήστε τώρα...');
                    
                    // Create speech recognition
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    const recognition = new SpeechRecognition();
                    recognition.lang = 'el-GR';
                    recognition.continuous = false;
                    recognition.interimResults = false;
                    
                    recognition.start();
                    
                    recognition.onresult = function(event) {
                        const transcript = event.results[0][0].transcript.toLowerCase();
                        console.log('Voice command:', transcript);
                        
                        // Process voice commands
                        if (transcript.includes('feed') || transcript.includes('αρχική')) {
                            showTooltip('Μετάβαση στο Feed');
                            document.querySelector('.moments-tab-btn[data-tab="feed"]').click();
                        } 
                        else if (transcript.includes('explore') || transcript.includes('εξερεύνηση')) {
                            showTooltip('Μετάβαση στην Εξερεύνηση');
                            document.querySelector('.moments-tab-btn[data-tab="explore"]').click();
                        }
                        else if (transcript.includes('profile') || transcript.includes('προφίλ')) {
                            showTooltip('Μετάβαση στο Προφίλ');
                            document.querySelector('.moments-tab-btn[data-tab="profile"]').click();
                        }
                        else if (transcript.includes('story') || transcript.includes('ιστορία')) {
                            showTooltip('Δημιουργία Story');
                            document.getElementById('createStoryBtn').click();
                        }
                        else if (transcript.includes('post') || transcript.includes('ανάρτηση') || transcript.includes('δημοσίευση')) {
                            showTooltip('Δημιουργία Ανάρτησης');
                            document.getElementById('createMomentBtn').click();
                        }
                        else if (transcript.includes('points') || transcript.includes('πόντοι') || transcript.includes('rewards') || transcript.includes('ανταμοιβές')) {
                            showTooltip('Εμφάνιση Πόντων');
                            document.querySelector('.moments-tab-btn[data-tab="profile"]').click();
                        }
                        else {
                            showTooltip('Δεν αναγνωρίστηκε η εντολή');
                        }
                    };
                    
                    recognition.onend = function() {
                        // Reset button appearance
                        voiceControlBtn.classList.remove('active');
                        voiceControlBtn.innerHTML = '<i class="bi bi-mic-fill"></i>';
                    };
                    
                    recognition.onerror = function(event) {
                        console.error('Speech recognition error', event.error);
                        showTooltip('Σφάλμα αναγνώρισης φωνής');
                        
                        // Reset button appearance
                        voiceControlBtn.classList.remove('active');
                        voiceControlBtn.innerHTML = '<i class="bi bi-mic-fill"></i>';
                    };
                } else {
                    // Browser doesn't support speech recognition
                    showTooltip('Ο περιηγητής σας δεν υποστηρίζει αναγνώριση φωνής');
                }
            });
        }
        
        // Helper function to update points across the app
        function updatePoints(amount) {
            // Update profile points display
            const profilePoints = document.getElementById('profilePoints');
            if (profilePoints) {
                const currentPoints = parseInt(profilePoints.textContent);
                profilePoints.textContent = currentPoints + amount;
            }
            
            // Update available points badge
            const availablePointsBadge = document.querySelector('.card-header .badge.bg-success');
            if (availablePointsBadge) {
                const pointsText = availablePointsBadge.textContent;
                const currentPoints = parseInt(pointsText);
                
                if (!isNaN(currentPoints)) {
                    availablePointsBadge.textContent = `${currentPoints + amount} διαθέσιμοι πόντοι`;
                }
            }
            
            // Add to points history if it's a significant amount
            if (Math.abs(amount) >= 10) {
                addPointsToHistory(amount);
            }
        }
        
        // Add new entry to points history
        function addPointsToHistory(amount) {
            const timelineContainer = document.querySelector('.timeline-day:first-child');
            if (!timelineContainer) return;
            
            const now = new Date();
            const timeString = now.getHours().toString().padStart(2, '0') + ':' + 
                              now.getMinutes().toString().padStart(2, '0');
            
            let actionText = '';
            if (amount > 0) {
                if (amount === 20) {
                    actionText = 'Δημιουργία νέας ανάρτησης';
                } else if (amount === 15) {
                    actionText = 'Δημιουργία story';
                } else if (amount === 30) {
                    actionText = 'Ολοκλήρωση ημερήσιας αποστολής';
                } else if (amount === 5) {
                    actionText = 'Αντίδραση σε ανάρτηση';
                } else if (amount === 2) {
                    actionText = 'Like σε ανάρτηση';
                } else {
                    actionText = 'Δραστηριότητα στην εφαρμογή';
                }
            } else {
                actionText = 'Εξαργύρωση ανταμοιβής';
            }
            
            const newTimelineItem = document.createElement('div');
            newTimelineItem.classList.add('timeline-item');
            newTimelineItem.innerHTML = `
                <div class="timeline-dot ${amount > 0 ? 'bg-success' : 'bg-danger'}"></div>
                <div class="timeline-content">
                    <div class="d-flex justify-content-between">
                        <div>
                            <p class="mb-0">${actionText}</p>
                            <small class="text-muted">${timeString}</small>
                        </div>
                        <div class="points-badge ${amount > 0 ? 'positive' : 'negative'}">
                            ${amount > 0 ? '+' + amount : amount}
                        </div>
                    </div>
                </div>
            `;
            
            // Insert after the timeline date
            const timelineDate = timelineContainer.querySelector('.timeline-date');
            if (timelineDate && timelineDate.nextElementSibling) {
                timelineContainer.insertBefore(newTimelineItem, timelineDate.nextElementSibling);
            } else {
                timelineContainer.appendChild(newTimelineItem);
            }
        }
        
        // Touch tooltip helper
        function showTooltip(message) {
            if (touchTooltip) {
                touchTooltip.textContent = message;
                touchTooltip.classList.add('visible');
                
                // Auto hide after 3 seconds
                setTimeout(() => {
                    touchTooltip.classList.remove('visible');
                }, 3000);
            }
        }
        
        // Add long-press helper for touch devices
        document.querySelectorAll('.story-item, .mood-chip, .reaction-btn').forEach(element => {
            let pressTimer;
            let isLongPress = false;
            
            element.addEventListener('touchstart', function() {
                pressTimer = setTimeout(() => {
                    isLongPress = true;
                    
                    // Show helpful tooltip
                    let tooltipMessage = '';
                    if (element.classList.contains('story-item')) {
                        tooltipMessage = 'Προβολή story';
                    } else if (element.classList.contains('mood-chip')) {
                        tooltipMessage = 'Φιλτράρισμα κατά διάθεση';
                    } else if (element.classList.contains('reaction-btn')) {
                        tooltipMessage = 'Αντίδραση στην ανάρτηση';
                    }
                    
                    showTooltip(tooltipMessage);
                }, 500);
            });
            
            element.addEventListener('touchend', function() {
                clearTimeout(pressTimer);
                if (isLongPress) {
                    isLongPress = false;
                    return false; // Prevent click
                }
            });
        });
        
        // Handle reward redemption
        document.querySelectorAll('.reward-card .btn-primary').forEach(btn => {
            btn.addEventListener('click', function() {
                const rewardCard = this.closest('.reward-card');
                const pointsText = rewardCard.querySelector('.badge.bg-light span');
                
                if (pointsText) {
                    const pointsCost = parseInt(pointsText.textContent);
                    if (!isNaN(pointsCost)) {
                        // Update points
                        updatePoints(-pointsCost);
                        
                        // Show toast notification
                        const toast = document.createElement('div');
                        toast.classList.add('toast', 'show', 'bg-success', 'text-white');
                        toast.setAttribute('role', 'alert');
                        toast.setAttribute('aria-live', 'assertive');
                        toast.setAttribute('aria-atomic', 'true');
                        
                        const rewardName = rewardCard.querySelector('h6').textContent;
                        
                        toast.innerHTML = `
                            <div class="toast-header bg-success text-white">
                                <i class="bi bi-gift-fill me-2"></i>
                                <strong class="me-auto">Εξαργύρωση Επιτυχής</strong>
                                <small>Μόλις τώρα</small>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
                            </div>
                            <div class="toast-body">
                                <div class="d-flex align-items-center">
                                    <div>
                                        <p class="mb-0">Η εξαργύρωση του "${rewardName}" πραγματοποιήθηκε επιτυχώς!</p>
                                        <p class="mb-0">Δείτε τον QR κωδικό σας στην ενότητα "Εξαργυρωμένες Ανταμοιβές".</p>
                                    </div>
                                </div>
                            </div>
                        `;
                        
                        document.querySelector('.toast-container').appendChild(toast);
                        
                        // Auto dismiss after 5 seconds
                        setTimeout(() => {
                            toast.classList.remove('show');
                            setTimeout(() => {
                                toast.remove();
                            }, 500);
                        }, 5000);
                        
                        // Move reward to redeemed section
                        const redeemedSection = document.querySelector('.rewards-list .section-heading:nth-of-type(2)');
                        if (redeemedSection) {
                            const rewardItem = rewardCard.closest('.reward-item');
                            rewardItem.querySelector('.btn-primary').remove();
                            
                            const now = new Date();
                            const dateString = now.getDate().toString().padStart(2, '0') + '/' + 
                                             (now.getMonth() + 1).toString().padStart(2, '0');
                            const timeString = now.getHours().toString().padStart(2, '0') + ':' + 
                                              now.getMinutes().toString().padStart(2, '0');
                            
                            rewardCard.classList.add('redeemed');
                            rewardCard.querySelector('p').textContent = `Εξαργυρώθηκε στις ${dateString} - ${timeString}`;
                            
                            const badgeContainer = rewardCard.querySelector('.badge').parentNode;
                            badgeContainer.innerHTML = `
                                <span class="badge bg-secondary">
                                    <i class="bi bi-check-circle-fill me-1"></i> Εξαργυρώθηκε
                                </span>
                            `;
                            
                            // Add QR code
                            const actionsContainer = rewardCard.querySelector('.d-flex').children[1];
                            actionsContainer.innerHTML = `
                                <div class="qr-code-small">
                                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=50x50&data=REWARD${Math.floor(Math.random() * 1000000)}" alt="QR Code" width="50" height="50">
                                </div>
                            `;
                            
                            const redeemedContainer = redeemedSection.nextElementSibling;
                            redeemedContainer.appendChild(rewardItem);
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>