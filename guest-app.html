<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest App | ePhiloxenia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* App Styles */
        body {
            background-color: #f8f9fa;
            font-family: 'Inter', sans-serif;
            max-width: 480px;
            margin: 0 auto;
            position: relative;
            min-height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            color: #333;
        }
        
        /* Moments Styles */
        .moments-content {
            padding-bottom: 80px;
        }
        
        /* Stories Styles */
        .stories-container {
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .stories-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .story-item {
            width: 80px;
        }
        
        .story-circle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            border: 3px solid #0c3b80;
            position: relative;
        }
        
        .story-add-circle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: #f1f1f1;
            border: 2px dashed #0c3b80;
            color: #0c3b80;
            font-size: 1.5rem;
        }
        
        /* Posts Styles */
        .post-card {
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .post-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .post-content img {
            width: 100%;
        }
        
        .comment-bubble {
            background-color: #f1f1f1;
            border-radius: 18px;
        }
        
        .bg-primary-light {
            background-color: rgba(12, 59, 128, 0.1);
        }
        
        .video-container {
            cursor: pointer;
        }
        
        /* Create Post Form */
        .create-post-card {
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .story-viewer-container {
            background-color: black;
        }
        
        /* Rest of the styles */
        /* Additional mobile-specific styles */
        body {
            background-color: #f5f5f5;
            font-size: 0.9rem;
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px 15px;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: bounce 1.5s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
            margin-right: 0;
        }
        
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-8px);
            }
        }
        
        /* New styles for interactive features */
        .room-key-btn {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .room-key-btn:hover {
            color: var(--bs-primary);
        }
        
        .room-scene-btn.active {
            background-color: rgba(13, 110, 253, 0.85);
            color: white;
            box-shadow: 0 2px 5px rgba(13, 110, 253, 0.3);
            transform: translateY(-2px);
        }
        
        .experience-categories {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .experience-categories::-webkit-scrollbar {
            display: none;
        }
        
        .date-selector, .time-selector {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .date-selector::-webkit-scrollbar, .time-selector::-webkit-scrollbar {
            display: none;
        }
        
        .text-truncate-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .favorite-btn.btn-danger {
            border-color: var(--bs-danger);
        }
        
        .service-status-card {
            border-left: 4px solid var(--bs-primary);
        }
        
        /* Add some animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Make the app feel more interactive */
        .list-group-item, .btn, .form-check-input, .mobile-nav-item, .card {
            transition: all 0.2s ease;
        }
        
        .list-group-item:active {
            transform: scale(0.98);
        }
        
        .btn:active {
            transform: scale(0.95);
            opacity: 0.9;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        /* Make recommendation severity badges smaller */
        #recommendations-container .badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            white-space: nowrap;
            min-width: 75px;
            text-align: center;
        }
        
        /* Smooth scrolling for tabs */
        .tab-content {
            transition: none;
        }
        
        /* Improved chat container styling */
        .chat-container {
            height: calc(100vh - 300px); /* Reduced height to account for higher chat bar */
            min-height: 350px;
            position: relative;
            overflow: hidden; /* Ensure content doesn't overflow */
        }
        
        .chat-messages {
            overflow-y: auto;
            padding: 15px;
            padding-bottom: 80px; /* Increased padding to prevent chat messages from being hidden behind chat elements */
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure it takes full height of container */
            position: absolute; /* Position absolutely within container */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0; /* Remove bottom offset as we'll handle this with padding */
            /* Hide scrollbar but keep functionality */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .chat-messages::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .message {
            max-width: 95%; /* Increased from 80% to better fit app width */
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            word-break: break-word;
            position: relative; /* For AI label positioning */
            font-size: 0.85rem;
        }
        
        .message-bot {
            background-color: #f0f2f5;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            padding-top: 20px; /* Extra space for AI label */
        }
        
        .message-bot::before {
            content: 'AI';
            position: absolute;
            top: 4px;
            left: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #6c757d;
            text-transform: uppercase;
        }
        
        /* Don't show AI label for human messages */
        .message-bot[data-is-human="true"] {
            padding-top: 10px; /* Regular padding for human messages */
        }
        
        .message-bot[data-is-human="true"]::before {
            display: none;
        }
        
        .message-user {
            background-color: #0d6efd;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .suggestion-btn {
            white-space: nowrap;
        }
        
        /* Reposition global chat bar higher */
        .global-chat-bar {
            position: fixed;
            bottom: 70px; /* Increased from default position to move higher */
            left: 0;
            right: 0;
            padding: 10px 15px;
            background-color: white;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
            margin-bottom: 5px; /* Add margin between chat bar and navigation */
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05); /* Add subtle shadow for better separation */
        }
        
        /* Improved human support option */
        .human-support-option {
            text-align: center;
            margin: 20px 0;
            padding: 10px;
            position: relative;
            width: 100%;
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.3s ease;
            pointer-events: auto;
        }
        
        .human-support-option.visible {
            opacity: 1;
        }
        
        .human-support-link {
            color: #0d6efd;
            text-decoration: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            font-size: 16px;
            background-color: #ffffff;
            padding: 10px 20px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 0;
            pointer-events: auto;
            font-weight: 500;
        }
        
        .human-support-link:hover {
            background-color: #f8f9fa;
        }
        
        .human-support-link i {
            margin-right: 5px;
            font-size: 16px;
        }
        
        /* Profile icon placeholder for Maria */
        .concierge-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #607d8b;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 8px;
        }
        
        /* Service Tracking Styles */
        .progress-tracker {
            position: relative;
            margin: 15px 0;
        }
        
        .progress-step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        
        .progress-step-icon {
            width: 24px;
            height: 24px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-step-label {
            font-size: 10px;
            white-space: nowrap;
        }
        
        .progress-step.completed .progress-step-icon {
            color: var(--bs-success);
        }
        
        .progress-step.active .progress-step-icon {
            color: var(--bs-primary);
            animation: spin 2s linear infinite;
        }
        
        /* Fix for order tracking modal */
        #orderTabsContent {
            min-height: 300px;
        }
        
        /* Fix Bootstrap tab behavior in the service tracker modal */
        #serviceTrackerModal .tab-pane {
            opacity: 1;
        }
        
        #serviceTrackerModal .fade:not(.show) {
            opacity: 1;
            display: none;
        }
        
        /* Service Section New Styles */
        .quick-action-btn {
            transition: all 0.2s ease;
        }
        
        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .smart-recommendation-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(13, 110, 253, 0.1);
        }
        
        .smart-recommendations .list-group-item {
            transition: all 0.2s ease;
            border-left: 0;
            border-right: 0;
        }
        
        .smart-recommendations .list-group-item:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .food-item {
            transition: all 0.2s ease;
        }
        
        .food-item:hover {
            background-color: #f8f9fa;
        }
        
        .food-options {
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control {
            max-width: 100px;
            margin-left: auto;
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease-out;
        }
        
        .item-quantity-control .form-control {
            text-align: center;
            border-left: 0;
            border-right: 0;
        }
        
        .rating-star {
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0 2px;
        }
        
        .rating-star:hover {
            transform: scale(1.2);
        }
        
        .recommended-badge {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
        }
        
        .service-status-card {
            transition: all 0.3s ease;
        }
        
        .delivery-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delivery-progress-bar {
            height: 6px;
        }
        
        /* Animation for the spinner icon */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Toast animation */
        .toast.show {
            animation: slideInTop 0.3s forwards;
        }
        
        /* Ensure toast notifications appear above all other elements */
        .toast-container {
            z-index: 9999 !important; /* Higher than any other element */
            position: fixed;
            pointer-events: none; /* Allow clicking through the container, but not the toasts */
            margin-top: 60px; /* Add margin to avoid overlapping with header */
        }
        
        .toast {
            pointer-events: auto; /* Make the toast itself clickable */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 350px; /* Make toast wider */
            background-color: #ffffff;
            border-left: 4px solid var(--bs-primary); /* Colored left border */
            font-size: 0.9rem; /* Slightly larger text */
        }
        
        .toast-header {
            border-bottom: none;
            background-color: #ffffff;
        }
        
        .toast-body {
            padding: 0.75rem 1rem; /* Slightly more padding */
        }
        
        /* Apply different border colors based on notification type */
        .toast[data-type="success"] {
            border-left-color: var(--bs-success);
        }
        
        .toast[data-type="danger"] {
            border-left-color: var(--bs-danger);
        }
        
        .toast[data-type="warning"] {
            border-left-color: var(--bs-warning);
        }
        
        .toast[data-type="info"] {
            border-left-color: var(--bs-info);
        }
        
        @keyframes slideInTop {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Map marker pulse animation */
        .pulse-animation {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Tour hotspot styles */
        .tour-hotspot {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.5);
            transition: all 0.2s ease;
        }
        
        .tour-hotspot i {
            color: var(--bs-primary);
        }
        
        .tour-hotspot:hover {
            transform: scale(1.1);
            background-color: white;
        }
        
        .hotspot-tooltip {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .tour-hotspot:hover .hotspot-tooltip {
            opacity: 1;
        }
        
        .tour-navigation {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .tour-nav-btn {
            opacity: 0.8;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .map-marker {
            position: absolute;
            z-index: 10;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .map-marker:hover {
            transform: scale(1.2);
        }
        
        .current-location {
            position: absolute;
            z-index: 20;
        }
        
        .floor-map {
            position: relative;
        }
        
        /* Room Controls Enhancements */
        .room-scene-btn {
            transition: all 0.25s ease;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        .room-scene-btn:hover:not(.active) {
            background-color: rgba(13, 110, 253, 0.03);
        }
        
        .preset-btn {
            border-radius: 10px;
            transition: all 0.25s ease;
            border-width: 1px;
            height: 100%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            text-align: left;
        }
        
        .preset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-color: var(--bs-primary);
        }
        
        .preset-btn i {
            color: var(--bs-primary);
        }
        
        /* Custom slider styling */
        .form-range {
            height: 6px;
            appearance: none;
        }
        
        .form-range::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--bs-primary);
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
        }
        
        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .form-range::-webkit-slider-runnable-track {
            height: 6px;
            border-radius: 10px;
            background: linear-gradient(to right, #cce5ff, #0d6efd);
        }
        
        .form-range:focus {
            outline: none;
        }
        
        /* Enhanced form switch */
        .form-check-input {
            cursor: pointer;
            width: 45px;
            height: 22px;
        }
        
        .form-check-input:checked {
            background-color: var(--bs-primary);
            border-color: var(--bs-primary);
        }
        
        /* Make modals feel more responsive */
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-content {
            animation: modalFadeIn 0.3s forwards;
        }
        
        /* Temperature indicator styles */
        .temp-indicator {
            position: absolute;
            top: -30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bs-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translateX(-50%);
            pointer-events: none;
            transition: left 0.1s ease-out, background-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 5;
        }
        
        .temp-indicator::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 10px;
            height: 10px;
            background: inherit;
        }
        
        .temp-indicator-value {
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        /* Temperature colors */
        .temp-cool {
            background-color: #3498db;
        }
        
        .temp-moderate {
            background-color: #2ecc71;
        }
        
        .temp-warm {
            background-color: #f39c12;
        }
        
        .temp-hot {
            background-color: #e74c3c;
        }
        
        /* Fix for strikethrough on disabled switches */
        .form-check-label {
            text-decoration: none !important;
        }
        
        /* Reduced font sizes for guest app */
        h4, .h4 {
            font-size: 1.3rem;
        }
        
        h5, .h5 {
            font-size: 1.1rem;
        }
        
        .mobile-header-alt .small, .welcome-card .small {
            font-size: 0.75rem;
        }
        
        .quick-action-btn .small {
            font-size: 0.7rem;
        }
        
        .fw-medium {
            font-size: 0.85rem;
        }
        
        .welcome-card h4 {
            font-size: 1.2rem;
        }
        
        .room-temp {
            font-size: 0.75rem;
        }
        
        .room-scene-btn {
            font-size: 0.8rem;
        }
        
        .text-muted.small {
            font-size: 0.7rem;
        }
        
        body {
            font-size: 0.9rem;
        }
        
        p {
            font-size: 0.85rem;
        }
        
        .card-title {
            font-size: 1.05rem;
        }
        
        .card-text {
            font-size: 0.85rem;
        }
        
        .mobile-nav-item {
            font-size: 0.75rem;
        }
        
        .mobile-nav-item i {
            font-size: 1.3rem;
        }
        
        .form-label {
            font-size: 0.8rem;
        }
        
        .btn {
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="mobile-app">
        <!-- Header with Room Information -->
        <div class="mobile-header-alt">
            <div class="d-flex align-items-center">
                <div style="border: 2px solid #0c3b80; padding: 7px 12px; border-radius: 6px; font-weight: 600; color: #0c3b80; margin-right: 10px; font-size: 0.9rem;">Your Hotel Logo</div>
                <div>
                    <h5 class="mb-0 text-primary">Sunset Resort</h5>
                    <div class="small text-secondary">Room 302 - Deluxe Ocean View</div>
                </div>
            </div>
            <div>
                <button class="btn btn-sm text-primary" data-bs-toggle="modal" data-bs-target="#profileModal">
                    <i class="bi bi-person-circle fs-4"></i>
                </button>
            </div>
        </div>
        
        <!-- Tab Content -->
        <div class="mobile-content" id="app-content">
            <!-- Home Tab Content (Default) -->
            <div class="tab-content" id="home-content">
                <!-- Welcome Card -->
                <div class="card mb-4 welcome-card">
                    <div class="card-body p-0">
                        <div class="welcome-header p-4">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h4 class="text-white mb-1">Welcome, John!</h4>
                                    <p class="text-white-50 mb-0">Your stay: <strong class="text-white">June 15-20, 2023</strong></p>
                                </div>
                                <div class="room-badge">
                                    <span>Room</span>
                                    <h3>412</h3>
                                </div>
                            </div>
                            <div class="position-absolute welcome-decoration">
                                <i class="bi bi-building text-white-50"></i>
                            </div>
                        </div>
                        <div class="p-3">
                            <div class="row g-2 quick-actions">
                                <div class="col-3">
                                    <div class="quick-action-btn room-key-btn" data-bs-toggle="modal" data-bs-target="#roomKeyModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-key text-primary"></i>
                                        </div>
                                        <div class="small">Room Key</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#wifiModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-wifi text-primary"></i>
                                        </div>
                                        <div class="small">WiFi</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#billModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-receipt text-primary"></i>
                                        </div>
                                        <div class="small">Bill</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="quick-action-btn" data-bs-toggle="modal" data-bs-target="#helpModal">
                                        <div class="icon-bg bg-primary-light mb-2">
                                            <i class="bi bi-question-circle text-primary"></i>
                                        </div>
                                        <div class="small">Help</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Room Controls Card -->
                <div class="card mb-4">
                    <div class="card-header d-flex align-items-center">
                        <i class="bi bi-sliders fs-4 me-2 text-primary"></i>
                        <h5 class="mb-0">Room Controls</h5>
                    </div>
                    <div class="card-body">
                        <!-- Temperature Control with Improved UI -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-thermometer-half fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Temperature <small class="text-muted room-temp ms-1">22째C</small></span>
                                </div>
                                <button class="btn btn-sm btn-outline-primary rounded-pill" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="temperature">
                                    <i class="bi bi-clock"></i> Schedule
                                </button>
                            </div>
                            <div class="position-relative px-3">
                                <input type="range" class="form-range" min="16" max="28" value="22" id="tempControl">
                                <div class="d-flex justify-content-between mt-1 small text-muted">
                                    <span>16째C</span>
                                    <span>22째C</span>
                                    <span>28째C</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lights Control with Modern UI -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-lightbulb fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Lights</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-primary rounded-pill me-2" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="lights">
                                        <i class="bi bi-clock"></i>
                                    </button>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="roomLights">
                                    </div>
                                </div>
                            </div>
                            <div class="room-scenes">
                                <div class="d-flex justify-content-between mt-2 flex-wrap gap-2">
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="relax">
                                        <i class="bi bi-moon-stars me-1"></i> Relax
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="work">
                                        <i class="bi bi-laptop me-1"></i> Work
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="movie">
                                        <i class="bi bi-film me-1"></i> Movie
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary room-scene-btn flex-grow-1" data-scene="sleep">
                                        <i class="bi bi-moon me-1"></i> Sleep
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Curtains Control with Improved UI -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-layout-sidebar fs-3 me-2 text-primary"></i>
                                    <span class="fw-medium">Curtains</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-primary rounded-pill me-2" data-bs-toggle="modal" data-bs-target="#scheduleModal" data-control="curtains">
                                        <i class="bi bi-clock"></i>
                                    </button>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="roomCurtains">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Do Not Disturb Switch with Better Visual -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center p-2 bg-light rounded-3">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-shield-lock fs-3 me-2 text-danger"></i>
                                    <span class="fw-medium">Do Not Disturb</span>
                                </div>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="dndMode">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Personalized Recommendations -->
                <h5 class="mb-3">For You</h5>
                <div id="recommendations-container">
                    <!-- Recommendations will be dynamically added here by main.js -->
                </div>

                <!-- Hotel Services -->
                <h5 class="mt-4 mb-3">Hotel Services</h5>
                <div class="row g-3">
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-cup-hot"></i>
                                </div>
                                <h6>Room Service</h6>
                                <button class="btn btn-sm btn-primary w-100" data-bs-toggle="modal" data-bs-target="#roomServiceModal">Order</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-water"></i>
                                </div>
                                <h6>Spa & Wellness</h6>
                                <button class="btn btn-sm btn-primary w-100" data-bs-toggle="modal" data-bs-target="#spaModal">Book</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-geo-alt"></i>
                                </div>
                                <h6>Hotel Map</h6>
                                <button class="btn btn-sm btn-primary w-100" data-bs-toggle="modal" data-bs-target="#hotelMapModal">Explore</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-building"></i>
                                </div>
                                <h6>Virtual Tour</h6>
                                <button class="btn btn-sm btn-primary w-100" data-bs-toggle="modal" data-bs-target="#virtualTourModal">View</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-cup-hot"></i>
                                </div>
                                <h6>Breakfast</h6>
                                <p class="card-text small">7:00 - 10:30 AM</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-water"></i>
                                </div>
                                <h6>Pool</h6>
                                <p class="card-text small">8:00 AM - 8:00 PM</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-diagram-3"></i>
                                </div>
                                <h6>Spa</h6>
                                <p class="card-text small">9:00 AM - 9:00 PM</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="fs-1 mb-2 text-primary">
                                    <i class="bi bi-suit-heart"></i>
                                </div>
                                <h6>Fitness</h6>
                                <p class="card-text small">24 hours</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Concierge Tab Content -->
            <div class="tab-content d-none" id="concierge-content">
                <h5 class="mb-3">Assistant</h5>
                <div class="chat-container d-flex flex-column">
                    <div class="chat-messages" id="chat-messages">
                        <!-- Chat messages will be dynamically added here by chatbot.js -->
                    </div>
                    <div class="human-support-option" id="human-support-option">
                        <a class="human-support-link" id="talk-to-human">
                            <i class="bi bi-person-circle"></i> Talk to a human concierge
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Services Tab Content -->
            <div class="tab-content d-none" id="services-content">
                <h5 class="mb-3">Room Services</h5>
                
                <!-- Quick Actions Bar -->
                <div class="card mb-4">
                    <div class="card-body p-3">
                        <h6 class="mb-3">Quick Actions</h6>
                        <div class="row g-2">
                            <div class="col-3">
                                <button class="btn btn-light w-100 p-2 text-center quick-action-btn" data-service="towels">
                                    <i class="bi bi-droplet-half text-primary fs-4 d-block mb-1"></i>
                                    <span class="small">Towels</span>
                                </button>
                            </div>
                            <div class="col-3">
                                <button class="btn btn-light w-100 p-2 text-center quick-action-btn" data-service="pillows">
                                    <i class="bi bi-box2-heart text-danger fs-4 d-block mb-1"></i>
                                    <span class="small">Pillows</span>
                                </button>
                            </div>
                            <div class="col-3">
                                <button class="btn btn-light w-100 p-2 text-center quick-action-btn" data-service="toiletries">
                                    <i class="bi bi-basket2 text-success fs-4 d-block mb-1"></i>
                                    <span class="small">Toiletries</span>
                                </button>
                            </div>
                            <div class="col-3">
                                <button class="btn btn-light w-100 p-2 text-center quick-action-btn" data-service="dnd">
                                    <i class="bi bi-door-closed text-warning fs-4 d-block mb-1"></i>
                                    <span class="small">DND Mode</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Smart Recommendations -->
                <div class="card mb-4">
                    <div class="card-header bg-light d-flex justify-content-between align-items-center">
                        <h6 class="mb-0">Recommended For You</h6>
                        <span class="badge bg-primary">Smart</span>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush smart-recommendations">
                            <a href="#" class="list-group-item list-group-item-action p-3" data-bs-toggle="modal" data-bs-target="#roomServiceModal">
                                <div class="d-flex align-items-center">
                                    <div class="smart-recommendation-icon me-3 text-primary">
                                        <i class="bi bi-cup-hot-fill fs-4"></i>
                                    </div>
                                    <div>
                                        <h6 class="mb-1">Breakfast Service</h6>
                                        <p class="mb-0 small text-muted">Based on your preferences and time of day</p>
                                    </div>
                                    <div class="ms-auto text-end">
                                        <small class="text-success mb-1 d-block">Available Now</small>
                                        <span class="badge bg-light text-dark">
                                            <i class="bi bi-clock me-1"></i> 20-30 min
                                        </span>
                                    </div>
                                </div>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action p-3" data-bs-toggle="modal" data-bs-target="#cleaningModal">
                                <div class="d-flex align-items-center">
                                    <div class="smart-recommendation-icon me-3 text-success">
                                        <i class="bi bi-stars fs-4"></i>
                                    </div>
                                    <div>
                                        <h6 class="mb-1">Turndown Service</h6>
                                        <p class="mb-0 small text-muted">Recommended for your evening comfort</p>
                                    </div>
                                    <div class="ms-auto text-end">
                                        <small class="text-success mb-1 d-block">Schedule Now</small>
                                        <span class="badge bg-light text-dark">
                                            <i class="bi bi-calendar-check me-1"></i> Evening
                                        </span>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="list-group mb-4">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#cleaningModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-stars me-2 text-info"></i>Room Cleaning</h6>
                            <p class="mb-0 small text-muted">Request cleaning service</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#roomServiceModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-cup-hot me-2 text-danger"></i>Room Service</h6>
                            <p class="mb-0 small text-muted">Order food to your room</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#amenitiesModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-box-seam me-2 text-success"></i>Extra Amenities</h6>
                            <p class="mb-0 small text-muted">Request towels, pillows, etc.</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#laundryModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-droplet me-2 text-primary"></i>Laundry Services</h6>
                            <p class="mb-0 small text-muted">Have your clothes cleaned</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                </div>
                
                <h5 class="mb-3">Hotel Bookings</h5>
                
                <div class="list-group">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#restaurantModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-shop me-2 text-danger"></i>Restaurant Reservation</h6>
                            <p class="mb-0 small text-muted">Book a table at our restaurants</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#spaModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-gem me-2 text-primary"></i>Spa Appointment</h6>
                            <p class="mb-0 small text-muted">Schedule a spa treatment</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-tab="experience">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-compass me-2 text-success"></i>Local Tours</h6>
                            <p class="mb-0 small text-muted">Book guided tours and activities</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#transportModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-car-front me-2 text-warning"></i>Transportation</h6>
                            <p class="mb-0 small text-muted">Arrange taxis or car rentals</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-bs-toggle="modal" data-bs-target="#checkoutModal">
                        <div>
                            <h6 class="mb-1"><i class="bi bi-box-arrow-right me-2 text-dark"></i>Express Checkout</h6>
                            <p class="mb-0 small text-muted">Pre-arrange your checkout</p>
                        </div>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                </div>
                
                <!-- Service Request Status Card -->
                <div class="card mt-4 service-status-card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Active Requests</h5>
                    </div>
                    <div class="list-group list-group-flush">
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">Room Cleaning</h6>
                                <small class="text-primary">In Progress</small>
                            </div>
                            <p class="mb-1 small">Requested for Today at 14:00</p>
                            <div class="progress" style="height: 5px;">
                                <div class="progress-bar" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">Extra Pillows</h6>
                                <small class="text-success">Completed</small>
                            </div>
                            <p class="mb-1 small">Delivered at 09:35</p>
                        </div>
                    </div>
                    <div class="card-footer bg-white">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#serviceTrackerModal">
                            <i class="bi bi-truck me-2"></i>
                            Track Orders
                            <span class="badge bg-danger ms-2 service-tracker-badge">2</span>
                        </button>
                    </div>
                </div>
                
                <!-- Room Cleaning Modal -->
                <div class="modal fade" id="cleaningModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Room Cleaning</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="mb-3">
                                    <label class="form-label">Preferred Time</label>
                                    <select class="form-select" id="cleaningTime">
                                        <option value="">Select preferred time</option>
                                        <option value="now">As soon as possible</option>
                                        <option value="morning">Morning (8:00 - 12:00)</option>
                                        <option value="afternoon">Afternoon (12:00 - 16:00)</option>
                                        <option value="evening">Evening (16:00 - 20:00)</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Service Type</label>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="radio" name="cleaningType" id="fullCleaning" checked>
                                        <label class="form-check-label" for="fullCleaning">
                                            Full Room Cleaning
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="radio" name="cleaningType" id="turndown">
                                        <label class="form-check-label" for="turndown">
                                            Turndown Service
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="cleaningType" id="quickRefresh">
                                        <label class="form-check-label" for="quickRefresh">
                                            Quick Refresh (Towels & Trash)
                                        </label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Special Instructions (Optional)</label>
                                    <textarea class="form-control" rows="3" placeholder="Any special requests for cleaning?"></textarea>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary service-request-btn" data-service="cleaning" data-bs-dismiss="modal">Request Cleaning</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Room Service Modal -->
                <div class="modal fade" id="roomServiceModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Room Service Menu</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <!-- Personalized Greeting -->
                                <div class="alert alert-light border mb-3">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-lightbulb text-warning fs-4 me-2"></i>
                                        <div>
                                            <strong>Good morning!</strong> Our chef recommends the Mediterranean Breakfast based on your previous orders.
                                        </div>
                                    </div>
                                </div>
                                
                                <ul class="nav nav-tabs mb-3" id="roomServiceTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="breakfast-tab" data-bs-toggle="tab" data-bs-target="#breakfast" type="button" role="tab" aria-selected="true">Breakfast</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="allday-tab" data-bs-toggle="tab" data-bs-target="#allday" type="button" role="tab" aria-selected="false">All Day</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="dinner-tab" data-bs-toggle="tab" data-bs-target="#dinner" type="button" role="tab" aria-selected="false">Dinner</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="drinks-tab" data-bs-toggle="tab" data-bs-target="#drinks" type="button" role="tab" aria-selected="false">Drinks</button>
                                    </li>
                                </ul>
                                
                                <div class="row">
                                    <div class="col-md-7">
                                        <div class="tab-content" id="roomServiceTabContent">
                                            <div class="tab-pane fade show active" id="breakfast" role="tabpanel" aria-labelledby="breakfast-tab">
                                                <div class="list-group mb-3">
                                                    <div class="list-group-item food-item">
                                                        <div class="d-flex justify-content-between align-items-start">
                                                            <div>
                                                                <div class="d-flex align-items-center">
                                                                    <h6 class="mb-1">Continental Breakfast</h6>
                                                                    <span class="badge bg-primary ms-2 recommended-badge">Popular</span>
                                                                </div>
                                                                <p class="mb-1 small">Selection of pastries, bread, jam, fruit, yogurt</p>
                                                                <div class="text-muted small mb-2">
                                                                    <i class="bi bi-clock me-1"></i> Preparation time: ~15 min
                                                                </div>
                                                                <div class="mb-2 food-options d-none">
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="checkbox" id="gluten-free-option" value="gluten-free">
                                                                        <label class="form-check-label small" for="gluten-free-option">Gluten Free</label>
                                                                    </div>
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="checkbox" id="dairy-free-option" value="dairy-free">
                                                                        <label class="form-check-label small" for="dairy-free-option">Dairy Free</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="text-end">
                                                                <div class="fw-bold mb-2">18</div>
                                                                <div class="item-quantity-control d-none">
                                                                    <div class="input-group input-group-sm">
                                                                        <button class="btn btn-outline-secondary quantity-minus" type="button">-</button>
                                                                        <input type="text" class="form-control text-center quantity-input" value="1" readonly>
                                                                        <button class="btn btn-outline-secondary quantity-plus" type="button">+</button>
                                                                    </div>
                                                                </div>
                                                                <button class="btn btn-sm btn-outline-primary add-to-order" data-item="Continental Breakfast" data-price="18">Add</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="list-group-item food-item">
                                                        <div class="d-flex justify-content-between align-items-start">
                                                            <div>
                                                                <h6 class="mb-1">American Breakfast</h6>
                                                                <p class="mb-1 small">Eggs any style, bacon, toast, hashbrowns, coffee</p>
                                                                <div class="text-muted small mb-2">
                                                                    <i class="bi bi-clock me-1"></i> Preparation time: ~20 min
                                                                </div>
                                                                <div class="mb-2 food-options d-none">
                                                                    <div class="small mb-1">Egg Preference:</div>
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="radio" name="eggStyle" id="scrambled" value="scrambled" checked>
                                                                        <label class="form-check-label small" for="scrambled">Scrambled</label>
                                                                    </div>
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="radio" name="eggStyle" id="over-easy" value="over-easy">
                                                                        <label class="form-check-label small" for="over-easy">Over Easy</label>
                                                                    </div>
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="radio" name="eggStyle" id="sunny-side" value="sunny-side">
                                                                        <label class="form-check-label small" for="sunny-side">Sunny Side</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="text-end">
                                                                <div class="fw-bold mb-2">22</div>
                                                                <div class="item-quantity-control d-none">
                                                                    <div class="input-group input-group-sm">
                                                                        <button class="btn btn-outline-secondary quantity-minus" type="button">-</button>
                                                                        <input type="text" class="form-control text-center quantity-input" value="1" readonly>
                                                                        <button class="btn btn-outline-secondary quantity-plus" type="button">+</button>
                                                                    </div>
                                                                </div>
                                                                <button class="btn btn-sm btn-outline-primary add-to-order" data-item="American Breakfast" data-price="22">Add</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="list-group-item food-item">
                                                        <div class="d-flex justify-content-between align-items-start">
                                                            <div>
                                                                <div class="d-flex align-items-center">
                                                                    <h6 class="mb-1">Mediterranean Breakfast</h6>
                                                                    <span class="badge bg-success ms-2 recommended-badge">Recommended</span>
                                                                </div>
                                                                <p class="mb-1 small">Greek yogurt, honey, fruits, olives, feta, bread</p>
                                                                <div class="text-muted small mb-2">
                                                                    <i class="bi bi-clock me-1"></i> Preparation time: ~15 min
                                                                </div>
                                                                <div class="mb-2 food-options d-none">
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="checkbox" id="extra-fruit" value="extra-fruit">
                                                                        <label class="form-check-label small" for="extra-fruit">Extra Fruit (+3)</label>
                                                                    </div>
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="checkbox" id="no-olives" value="no-olives">
                                                                        <label class="form-check-label small" for="no-olives">No Olives</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="text-end">
                                                                <div class="fw-bold mb-2">20</div>
                                                                <div class="item-quantity-control d-none">
                                                                    <div class="input-group input-group-sm">
                                                                        <button class="btn btn-outline-secondary quantity-minus" type="button">-</button>
                                                                        <input type="text" class="form-control text-center quantity-input" value="1" readonly>
                                                                        <button class="btn btn-outline-secondary quantity-plus" type="button">+</button>
                                                                    </div>
                                                                </div>
                                                                <button class="btn btn-sm btn-outline-primary add-to-order" data-item="Mediterranean Breakfast" data-price="20">Add</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="tab-pane fade" id="allday" role="tabpanel" aria-labelledby="allday-tab">
                                                <!-- All day menu items would go here -->
                                                <div class="list-group">
                                                    <div class="list-group-item food-item">
                                                        <div class="d-flex justify-content-between align-items-start">
                                                            <div>
                                                                <h6 class="mb-1">Club Sandwich</h6>
                                                                <p class="mb-1 small">Chicken, bacon, lettuce, tomato, egg, served with fries</p>
                                                                <div class="text-muted small mb-2">
                                                                    <i class="bi bi-clock me-1"></i> Preparation time: ~20 min
                                                                </div>
                                                                <div class="mb-2 food-options d-none">
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="checkbox" id="no-bacon" value="no-bacon">
                                                                        <label class="form-check-label small" for="no-bacon">No Bacon</label>
                                                                    </div>
                                                                    <div class="form-check form-check-inline">
                                                                        <input class="form-check-input" type="checkbox" id="gluten-free-bread" value="gluten-free-bread">
                                                                        <label class="form-check-label small" for="gluten-free-bread">Gluten Free Bread</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="text-end">
                                                                <div class="fw-bold mb-2">16</div>
                                                                <div class="item-quantity-control d-none">
                                                                    <div class="input-group input-group-sm">
                                                                        <button class="btn btn-outline-secondary quantity-minus" type="button">-</button>
                                                                        <input type="text" class="form-control text-center quantity-input" value="1" readonly>
                                                                        <button class="btn btn-outline-secondary quantity-plus" type="button">+</button>
                                                                    </div>
                                                                </div>
                                                                <button class="btn btn-sm btn-outline-primary add-to-order" data-item="Club Sandwich" data-price="16">Add</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="tab-pane fade" id="dinner" role="tabpanel" aria-labelledby="dinner-tab">
                                                <!-- Dinner menu items would go here -->
                                            </div>
                                            
                                            <div class="tab-pane fade" id="drinks" role="tabpanel" aria-labelledby="drinks-tab">
                                                <!-- Drinks menu items would go here -->
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-5">
                                        <div class="card sticky-top" style="top: 10px;">
                                            <div class="card-header bg-primary text-white">
                                                <h5 class="mb-0">Your Order</h5>
                                            </div>
                                            <div class="list-group list-group-flush" id="orderItems">
                                                <!-- Order items will be added here dynamically -->
                                                <div class="list-group-item text-center text-muted" id="emptyOrderMessage">
                                                    Your order is empty
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div class="d-flex justify-content-between mb-2">
                                                    <span>Subtotal:</span>
                                                    <span id="orderSubtotal">0.00</span>
                                                </div>
                                                <div class="d-flex justify-content-between mb-2">
                                                    <span>Service Charge (10%):</span>
                                                    <span id="orderServiceCharge">0.00</span>
                                                </div>
                                                <div class="d-flex justify-content-between fw-bold">
                                                    <span>Total:</span>
                                                    <span id="orderTotal">0.00</span>
                                                </div>
                                                
                                                <hr>
                                                
                                                <div class="mb-3">
                                                    <label class="form-label">Delivery Time</label>
                                                    <select class="form-select" id="deliveryTime">
                                                        <option value="asap" selected>As soon as possible</option>
                                                        <option value="15">In 15 minutes</option>
                                                        <option value="30">In 30 minutes</option>
                                                        <option value="60">In 1 hour</option>
                                                        <option value="schedule">Schedule for later</option>
                                                    </select>
                                                </div>
                                                
                                                <div class="mb-3 scheduled-time d-none">
                                                    <label class="form-label">Select Time</label>
                                                    <input type="time" class="form-control" id="scheduledTime">
                                                </div>
                                                
                                                <div class="mb-3">
                                                    <label class="form-label">Special Instructions</label>
                                                    <textarea class="form-control" rows="2" placeholder="Any special requests?"></textarea>
                                                </div>
                                                
                                                <div class="d-grid gap-2">
                                                    <button type="button" class="btn btn-primary service-request-btn" data-service="roomService" data-bs-dismiss="modal">
                                                        <i class="bi bi-cart-check me-2"></i> Place Order
                                                    </button>
                                                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Experience Tab Content -->
            <div class="tab-content d-none" id="experience-content">
                <div class="mb-3">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search experiences" id="experience-search">
                        <button class="btn btn-outline-primary" type="button">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Experience Categories -->
                <div class="d-flex gap-2 mb-3 experience-categories overflow-auto py-1">
                    <button class="btn btn-sm btn-primary active" data-category="all">All</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="tours">Tours</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="food">Food</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="water">Water</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="wellness">Wellness</button>
                    <button class="btn btn-sm btn-outline-primary" data-category="culture">Culture</button>
                </div>
                
                <h5 class="mb-4">Recommended Experiences</h5>
                
                <div class="card mb-4 experience-card" data-category="water">
                    <img src="https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Sunset Cruise" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Sunset Sailing Trip</h5>
                            <span class="badge bg-primary">Recommended</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </span>
                            <small class="text-muted">4.5 (243 reviews)</small>
                        </div>
                        <p class="card-text">Experience breathtaking views of the coastline with our exclusive sunset sailing trip, perfect for couples and photography enthusiasts.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn" disabled>16:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">17:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">18:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">19:30</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">85</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4 experience-card" data-category="food">
                    <img src="https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Wine Tasting" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Local Wine Tasting</h5>
                            <span class="badge bg-success">95% Match</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star"></i>
                            </span>
                            <small class="text-muted">4.1 (186 reviews)</small>
                        </div>
                        <p class="card-text">Discover the finest local wines with our guided tasting tour. Transportation and lunch included.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn">10:00</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">14:30</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">16:00</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">75</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4 experience-card" data-category="culture">
                    <img src="https://images.unsplash.com/photo-1514986888952-8cd320577b68?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Cooking Class" style="height: 180px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title mb-0">Traditional Cooking Class</h5>
                            <span class="badge bg-info">New</span>
                        </div>
                        <div class="mb-2 d-flex align-items-center">
                            <span class="text-warning me-1">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </span>
                            <small class="text-muted">4.7 (98 reviews)</small>
                        </div>
                        <p class="card-text">Learn to prepare authentic local dishes with our expert chef in this hands-on cooking experience.</p>
                        <div class="mb-3">
                            <h6>Select Date:</h6>
                            <div class="d-flex gap-2 mb-2 date-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary date-btn">Today</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Tomorrow</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 18</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 19</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">Jun 20</button>
                                <button class="btn btn-sm btn-outline-primary date-btn">
                                    <i class="bi bi-calendar3"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <h6>Select Time:</h6>
                            <div class="d-flex gap-2 time-selector overflow-auto py-1">
                                <button class="btn btn-sm btn-outline-primary time-btn">11:00</button>
                                <button class="btn btn-sm btn-outline-primary time-btn">17:00</button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="fw-bold">65</span>
                                <small class="text-muted">per person</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-secondary me-1 favorite-btn">
                                    <i class="bi bi-heart"></i>
                                </button>
                                <button class="btn btn-primary book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button class="btn btn-outline-primary">View All Experiences</button>
                </div>
                
                <!-- Booking Confirmation Modal -->
                <div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" style="z-index: 1060;">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Confirm Booking</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="booking-details mb-4">
                                    <h5 class="booking-title">Sunset Sailing Trip</h5>
                                    <div class="booking-info mb-3">
                                        <div><i class="bi bi-calendar me-2"></i><span class="booking-date">June 18, 2023</span></div>
                                        <div><i class="bi bi-clock me-2"></i><span class="booking-time">18:30</span></div>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <select class="form-select" id="guestCount">
                                            <option value="1">1 Guest</option>
                                            <option value="2" selected>2 Guests</option>
                                            <option value="3">3 Guests</option>
                                            <option value="4">4 Guests</option>
                                            <option value="5">5 Guests</option>
                                        </select>
                                        <label for="guestCount">Number of Guests</label>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <textarea class="form-control" placeholder="Special requests" id="specialRequests" style="height: 100px"></textarea>
                                        <label for="specialRequests">Special Requests (Optional)</label>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Price per person</div>
                                            <div>85.00</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Guests</div>
                                            <div> 2</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Subtotal</div>
                                            <div>170.00</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Hotel Guest Discount</div>
                                            <div class="text-success">-17.00</div>
                                        </div>
                                        <hr>
                                        <div class="d-flex justify-content-between">
                                            <h6>Total</h6>
                                            <h6>153.00</h6>
                                        </div>
                                        <div class="form-check mt-3">
                                            <input class="form-check-input" type="checkbox" id="chargeToRoom" checked>
                                            <label class="form-check-label" for="chargeToRoom">
                                                Charge to room
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary confirm-booking-btn">Confirm Booking</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Experience Content End -->
            
            <!-- Moments Content -->
            <div class="mobile-content moments-content" style="display: none;">
                <div class="mb-4">
                    <h4 class="mb-3">Moments</h4>
                    <p class="text-muted mb-4">恝菅慣琯官琯 慣館慣關館冠琯菅, 琯關館琯琯官琯 觀慣菅 琯刮琯琯館冠琯</p>
                    
                    <!-- Stories Section -->
                    <div class="stories-section mb-4">
                        <h5 class="mb-3">恝官琯</h5>
                        <div class="stories-container d-flex overflow-auto mb-4">
                            <!-- Add Story Button -->
                            <div class="story-item me-3 text-center">
                                <div class="story-add-circle mb-2 d-flex align-items-center justify-content-center">
                                    <i class="bi bi-plus-lg"></i>
                                </div>
                                <small>管關菅恝款官慣</small>
                            </div>
                            
                            <!-- Stories -->
                            <div class="story-item me-3 text-center">
                                <div class="story-circle mb-2" style="background-image: url('img/experiences/beach-sunset.jpg');"></div>
                                <small>慣慣貫官慣</small>
                            </div>
                            <div class="story-item me-3 text-center">
                                <div class="story-circle mb-2" style="background-image: url('img/experiences/pool-view.jpg');"></div>
                                <small>菅官館慣</small>
                            </div>
                            <div class="story-item me-3 text-center">
                                <div class="story-circle mb-2" style="background-image: url('img/experiences/spa.jpg');"></div>
                                <small>Spa</small>
                            </div>
                            <div class="story-item me-3 text-center">
                                <div class="story-circle mb-2" style="background-image: url('img/experiences/restaurant.jpg');"></div>
                                <small>琯官館恝</small>
                            </div>
                            <div class="story-item me-3 text-center">
                                <div class="story-circle mb-2" style="background-image: url('img/experiences/cocktail.jpg');"></div>
                                <small>恝觀串菅貫</small>
                            </div>
                            <div class="story-item me-3 text-center">
                                <div class="story-circle mb-2" style="background-image: url('img/experiences/local-culture.jpg');"></div>
                                <small>恝貫菅菅關</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Posts Section -->
                    <div class="posts-section">
                        <!-- Create Post Card -->
                        <div class="card mb-4 create-post-card">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <img src="img/avatar-1.jpg" class="rounded-circle me-3" width="40" height="40" alt="Profile">
                                    <div class="form-control text-muted rounded-pill" data-bs-toggle="modal" data-bs-target="#createPostModal">
                                        恝菅慣琯官琯 關菅慣 菅款關冠...
                                    </div>
                                </div>
                                <div class="d-flex justify-content-around mt-3">
                                    <button class="btn text-primary" data-bs-toggle="modal" data-bs-target="#createPostModal">
                                        <i class="bi bi-image me-2"></i> 過恝款慣官慣
                                    </button>
                                    <button class="btn text-primary" data-bs-toggle="modal" data-bs-target="#createPostModal">
                                        <i class="bi bi-camera-video me-2"></i> 官館琯恝
                                    </button>
                                    <button class="btn text-primary" data-bs-toggle="modal" data-bs-target="#createPostModal">
                                        <i class="bi bi-geo-alt me-2"></i> 課恝恝罐琯官慣
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Post 1 -->
                        <div class="card mb-4 post-card">
                            <div class="card-header bg-transparent border-0 p-3">
                                <div class="d-flex align-items-center">
                                    <img src="img/avatar-3.jpg" class="rounded-circle me-2" width="40" height="40" alt="User">
                                    <div>
                                        <h6 class="mb-0">慣官慣 .</h6>
                                        <small class="text-muted">菅館 35 貫琯郭 쨌 <i class="bi bi-globe"></i></small>
                                    </div>
                                    <div class="ms-auto">
                                        <span class="badge bg-primary-light text-primary rounded-pill px-3 py-2">
                                            <i class="bi bi-star-fill me-1"></i> +15 館恝菅
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="post-content">
                                <p class="px-3">恝貫慣關棺郭館恝館慣 恝 關慣款琯菅觀 管貫菅恝棺慣官貫琯關慣 管館 慣慣貫官慣 恝 刮琯館恝灌恝琯官恝! ⑩ #SunsetResort #AmazingViews</p>
                                <img src="img/experiences/beach-sunset.jpg" alt="Beach Sunset" class="img-fluid">
                            </div>
                            <div class="card-footer bg-transparent border-0 p-3">
                                <div class="d-flex justify-content-between mb-2">
                                    <div>
                                        <button class="btn btn-sm text-primary">
                                            <i class="bi bi-heart"></i> 24
                                        </button>
                                        <button class="btn btn-sm text-primary">
                                            <i class="bi bi-chat"></i> 5
                                        </button>
                                    </div>
                                    <button class="btn btn-sm text-primary">
                                        <i class="bi bi-share"></i>
                                    </button>
                                </div>
                                <!-- Comments -->
                                <div class="comments-section p-2 rounded" style="background-color: #f8f9fa;">
                                    <div class="comment d-flex mb-2">
                                        <img src="img/avatar-2.jpg" class="rounded-circle me-2" width="32" height="32" alt="User">
                                        <div class="comment-bubble p-2 rounded flex-grow-1">
                                            <h6 class="mb-0 fs-6">菅款恝 .</h6>
                                            <p class="mb-0 small">慣館串關恝恝! 誇琯 恝菅慣 慣慣貫官慣 琯官館慣菅;</p>
                                        </div>
                                    </div>
                                    <!-- Add Comment -->
                                    <div class="add-comment d-flex mt-2">
                                        <img src="img/avatar-1.jpg" class="rounded-circle me-2" width="32" height="32" alt="You">
                                        <div class="input-group">
                                            <input type="text" class="form-control form-control-sm rounded-pill" placeholder="郭琯 串館慣 貫菅恝...">
                                            <button class="btn btn-sm btn-primary rounded-circle ms-1">
                                                <i class="bi bi-send"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Post 2 -->
                        <div class="card mb-4 post-card">
                            <div class="card-header bg-transparent border-0 p-3">
                                <div class="d-flex align-items-center">
                                    <img src="img/avatar-4.jpg" class="rounded-circle me-2" width="40" height="40" alt="User">
                                    <div>
                                        <h6 class="mb-0">管關冠管 .</h6>
                                        <small class="text-muted">菅館 2 琯 쨌 <i class="bi bi-globe"></i></small>
                                    </div>
                                    <div class="ms-auto">
                                        <span class="badge bg-primary-light text-primary rounded-pill px-3 py-2">
                                            <i class="bi bi-star-fill me-1"></i> +20 館恝菅
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="post-content">
                                <p class="px-3">琯菅觀冠 琯刮琯琯館管管 恝 琯菅慣菅恝 恝 刮琯館恝灌恝琯官恝. 誇館菅 慣館琯菅貫慣觀慣 管 琯菅慣貫菅串 恝 琯! 쏙ⓥ #FoodLover #DeliciousMeal</p>
                                <img src="img/experiences/restaurant.jpg" alt="Gourmet Dish" class="img-fluid">
                            </div>
                            <div class="card-footer bg-transparent border-0 p-3">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <button class="btn btn-sm text-primary">
                                            <i class="bi bi-heart-fill text-danger"></i> 38
                                        </button>
                                        <button class="btn btn-sm text-primary">
                                            <i class="bi bi-chat"></i> 11
                                        </button>
                                    </div>
                                    <button class="btn btn-sm text-primary">
                                        <i class="bi bi-share"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Post 3 -->
                        <div class="card mb-4 post-card">
                            <div class="card-header bg-transparent border-0 p-3">
                                <div class="d-flex align-items-center">
                                    <img src="img/avatar-5.jpg" class="rounded-circle me-2" width="40" height="40" alt="User">
                                    <div>
                                        <h6 class="mb-0">貫琯館慣 .</h6>
                                        <small class="text-muted">鍋罐琯 쨌 <i class="bi bi-globe"></i></small>
                                    </div>
                                    <div class="ms-auto">
                                        <span class="badge bg-primary-light text-primary rounded-pill px-3 py-2">
                                            <i class="bi bi-star-fill me-1"></i> +25 館恝菅
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="post-content">
                                <p class="px-3">貫管 慣貫郭管 恝 spa 恝 刮琯館恝灌恝琯官恝! 課恝 關慣郭瓘 冠慣館 慣觀菅棺 慣 恝 琯菅慣瓘關恝館. 截 #SpaDay #Relaxation</p>
                                <div class="video-container position-relative">
                                    <img src="img/experiences/spa.jpg" alt="Spa Experience" class="img-fluid">
                                    <div class="position-absolute top-50 start-50 translate-middle">
                                        <button class="btn btn-light rounded-circle">
                                            <i class="bi bi-play-fill fs-4"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-transparent border-0 p-3">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <button class="btn btn-sm text-primary">
                                            <i class="bi bi-heart"></i> 45
                                        </button>
                                        <button class="btn btn-sm text-primary">
                                            <i class="bi bi-chat"></i> 8
                                        </button>
                                    </div>
                                    <button class="btn btn-sm text-primary">
                                        <i class="bi bi-share"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Moments Content End -->
            
            <!-- Bottom Navigation -->
            <div class="mobile-nav">
                <div class="mobile-nav-item active" data-tab="home">
                    <i class="bi bi-house"></i>
                    <small>Home</small>
                </div>
                <div class="mobile-nav-item" data-tab="concierge">
                    <i class="bi bi-chat"></i>
                    <small>Assistant</small>
                </div>
                <div class="mobile-nav-item" data-tab="services">
                    <i class="bi bi-basket"></i>
                    <small>Services</small>
                </div>
                <div class="mobile-nav-item" data-tab="moments">
                    <i class="bi bi-camera"></i>
                    <small>Moments</small>
                </div>
                <div class="mobile-nav-item" data-tab="experience">
                    <i class="bi bi-compass"></i>
                    <small>Explore</small>
                </div>
            </div>
        </div>
        
        <!-- Global Chat Input Bar -->
        <div class="global-chat-bar">
            <form id="global-chat-form">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Ask me anything..." id="global-chat-input">
                    <button class="btn btn-primary" type="submit">
                        <i class="bi bi-send"></i>
                    </button>
                    <button class="btn btn-outline-secondary" type="button" id="global-voice-input-btn">
                        <i class="bi bi-mic"></i>
                    </button>
                </div>
            </form>
            <div class="suggestion-chips-container">
                <div class="suggestion-chips mt-1 d-flex flex-nowrap">
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Restaurant recommendations</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Spa appointments</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Local activities</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Room service</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Weather forecast</button>
                    <button class="btn btn-sm btn-outline-primary suggestion-btn me-2">Checkout information</button>
                </div>
                <div class="suggestion-fade-right"></div>
            </div>
        </div>
    </div>

    <!-- Digital Room Key Modal -->
    <div class="modal fade" id="roomKeyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Digital Room Key</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-3">
                        <i class="bi bi-key-fill display-1 text-primary"></i>
                    </div>
                    <div class="qr-code-container mb-3">
                        <img src="img/qr-code-placeholder.svg" alt="QR Code" class="img-fluid" style="max-width: 200px;">
                    </div>
                    <p class="mb-3">Present this code at the door to unlock your room.</p>
                    <div class="form-check form-switch d-flex justify-content-center mb-3">
                        <input class="form-check-input me-2" type="checkbox" id="saveOffline" checked>
                        <label class="form-check-label" for="saveOffline">Available Offline</label>
                    </div>
                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> You can also use NFC by tapping your phone to the door lock
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- WiFi Modal -->
    <div class="modal fade" id="wifiModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">WiFi Access</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="bi bi-wifi display-1 text-primary"></i>
                    </div>
                    <div class="mb-3">
                        <h6>Network Name:</h6>
                        <div class="input-group">
                            <input type="text" class="form-control" value="Sunset_Resort_Guest" readonly>
                            <button class="btn btn-outline-secondary" type="button" id="copyWifiName">
                                <i class="bi bi-clipboard"></i>
                            </button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <h6>Password:</h6>
                        <div class="input-group">
                            <input type="text" class="form-control" value="SunnyStay2023" readonly>
                            <button class="btn btn-outline-secondary" type="button" id="copyWifiPassword">
                                <i class="bi bi-clipboard"></i>
                            </button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <button class="btn btn-primary w-100" id="connectWifiBtn">
                            <i class="bi bi-wifi"></i> Connect Automatically
                        </button>
                    </div>
                    <div class="small text-muted">
                        <i class="bi bi-info-circle"></i> For premium high-speed access, please contact the reception or use your loyalty points.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bill Modal -->
    <div class="modal fade" id="billModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Your Current Bill</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group mb-3">
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Room Charge</h6>
                                <small class="text-muted">Deluxe Ocean View, 5 nights</small>
                            </div>
                            <span>1250.00</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Restaurant</h6>
                                <small class="text-muted">Ocean View Restaurant, June 15</small>
                            </div>
                            <span>78.50</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Room Service</h6>
                                <small class="text-muted">Breakfast, June 16</small>
                            </div>
                            <span>32.00</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0">Spa Service</h6>
                                <small class="text-muted">Massage, June 16</small>
                            </div>
                            <span>120.00</span>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between mb-2">
                                <h6>Subtotal:</h6>
                                <h6>1480.50</h6>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <h6>Tax (10%):</h6>
                                <h6>148.05</h6>
                            </div>
                            <div class="d-flex justify-content-between">
                                <h5>Total:</h5>
                                <h5>1628.55</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Download PDF</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Help & Support</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group mb-3">
                        <a href="#" class="list-group-item list-group-item-action urgent-help">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-telephone-fill text-danger me-2"></i> Urgent Help</h6>
                                <small>24/7</small>
                            </div>
                            <p class="mb-1">Call reception for immediate assistance</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-dismiss="modal" id="chat-with-concierge">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-chat-text-fill text-primary me-2"></i> Chat with Concierge</h6>
                                <small>24/7</small>
                            </div>
                            <p class="mb-1">Ask questions or request assistance</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-info-circle-fill text-info me-2"></i> Hotel Information</h6>
                            </div>
                            <p class="mb-1">View hotel facilities and services information</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-question-circle-fill text-success me-2"></i> FAQ</h6>
                            </div>
                            <p class="mb-1">Find answers to common questions</p>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1"><i class="bi bi-map-fill text-warning me-2"></i> Hotel Map</h6>
                            </div>
                            <p class="mb-1">Navigate hotel facilities and amenities</p>
                        </a>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast (Removed - now handled dynamically) -->
    <!-- <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="notificationToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
            <div class="toast-header">
                <i class="bi bi-bell-fill me-2 text-primary"></i>
                <strong class="me-auto">Notification</strong>
                <small class="text-muted">just now</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Your room is now ready for check-in.
            </div>
        </div>
    </div> -->

    <!-- Schedule Control Modal -->
    <div class="modal fade" id="scheduleModal" tabindex="-1" aria-labelledby="scheduleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="scheduleModalLabel">Schedule <span id="controlName">Control</span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="scheduleTime" class="form-label">Time</label>
                        <input type="time" class="form-control" id="scheduleTime">
                    </div>
                    <div class="mb-3" id="temperatureSettingGroup">
                        <label for="scheduleTempValue" class="form-label">Temperature</label>
                        <input type="number" class="form-control" id="scheduleTempValue" min="16" max="28" value="22">
                    </div>
                    <div class="mb-3" id="switchSettingGroup">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="scheduleSwitch" checked>
                            <label class="form-check-label" for="scheduleSwitch">Turn On</label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="repeatDaily">
                            <label class="form-check-label" for="repeatDaily">
                                Repeat Daily
                            </label>
                        </div>
                    </div>
                    <div id="scheduleConfirmation" class="alert alert-success d-none">
                        Schedule set successfully!
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveScheduleBtn">Save Schedule</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hotel Map Modal -->
    <div class="modal fade" id="hotelMapModal" tabindex="-1" aria-labelledby="hotelMapModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="hotelMapModalLabel">Hotel Map</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <div class="d-flex flex-column h-100">
                        <!-- Map Floors Selector -->
                        <div class="bg-light p-2 border-bottom">
                            <div class="btn-group w-100" role="group" aria-label="Floor selection">
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-1" autocomplete="off" checked>
                                <label class="btn btn-outline-primary" for="floor-1">1F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-2" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-2">2F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-3" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-3">3F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-4" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-4">4F</label>
                                
                                <input type="radio" class="btn-check" name="floor-selector" id="floor-0" autocomplete="off">
                                <label class="btn btn-outline-primary" for="floor-0">G</label>
                            </div>
                        </div>
                        <!-- Interactive Map Container -->
                        <div class="position-relative flex-grow-1 overflow-hidden" id="map-container">
                            <!-- The SVG/Canvas map will be loaded here dynamically -->
                            <div class="d-flex justify-content-center align-items-center h-100 w-100 position-absolute" id="map-loading">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                            
                            <div class="p-3 h-100 overflow-auto" id="floor-maps">
                                <!-- First Floor (will be shown initially) -->
                                <div class="floor-map" id="floor-map-1">
                                    <img src="img/hotel-map-1.png" class="img-fluid map-image" alt="First Floor Map">
                                    <!-- Interactive Points of Interest -->
                                    <div class="map-marker" style="top: 40%; left: 30%;" data-poi="restaurant">
                                        <i class="bi bi-pin-fill text-danger"></i>
                                    </div>
                                    <div class="map-marker" style="top: 60%; left: 50%;" data-poi="lobby">
                                        <i class="bi bi-pin-fill text-primary"></i>
                                    </div>
                                    <div class="map-marker" style="top: 30%; left: 70%;" data-poi="pool">
                                        <i class="bi bi-pin-fill text-info"></i>
                                    </div>
                                </div>
                                
                                <!-- Second Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-2">
                                    <img src="img/hotel-map-2.png" class="img-fluid map-image" alt="Second Floor Map">
                                    <!-- Interactive Points of Interest -->
                                    <div class="map-marker" style="top: 35%; left: 45%;" data-poi="gym">
                                        <i class="bi bi-pin-fill text-success"></i>
                                    </div>
                                    <div class="map-marker" style="top: 55%; left: 25%;" data-poi="spa">
                                        <i class="bi bi-pin-fill text-warning"></i>
                                    </div>
                                </div>
                                
                                <!-- Third Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-3">
                                    <img src="img/hotel-map-3.png" class="img-fluid map-image" alt="Third Floor Map">
                                    <div class="current-location" style="top: 40%; left: 60%;">
                                        <i class="bi bi-geo-alt-fill text-danger fs-3 pulse-animation"></i>
                                        <span class="badge bg-danger position-absolute" style="top: -8px; right: -8px;">
                                            You Are Here
                                        </span>
                                    </div>
                                </div>
                                
                                <!-- Fourth Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-4">
                                    <img src="img/hotel-map-4.png" class="img-fluid map-image" alt="Fourth Floor Map">
                                </div>
                                
                                <!-- Ground Floor (initially hidden) -->
                                <div class="floor-map d-none" id="floor-map-0">
                                    <img src="img/hotel-map-g.png" class="img-fluid map-image" alt="Ground Floor Map">
                                    <div class="map-marker" style="top: 45%; left: 40%;" data-poi="parking">
                                        <i class="bi bi-pin-fill text-secondary"></i>
                                    </div>
                                    <div class="map-marker" style="top: 30%; left: 75%;" data-poi="shops">
                                        <i class="bi bi-pin-fill text-primary"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Navigation Input -->
                        <div class="bg-light p-2 border-top">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Find a location..." id="map-search">
                                <button class="btn btn-primary" type="button" id="map-search-btn">
                                    <i class="bi bi-search"></i>
                                </button>
                            </div>
                            <div class="d-none mt-2" id="directions-panel">
                                <div class="alert alert-primary mb-2">
                                    <small>Directions from your room to <span id="destination-name">selected destination</span></small>
                                    <ul class="mb-0 small" id="directions-steps">
                                        <li>Take the elevator to the 1st floor</li>
                                        <li>Turn right when exiting the elevator</li>
                                        <li>Walk straight ahead for 50 meters</li>
                                        <li>Your destination will be on your left</li>
                                    </ul>
                                </div>
                                <button class="btn btn-sm btn-primary w-100" id="start-navigation-btn">
                                    <i class="bi bi-arrow-right-circle me-1"></i> Start Navigation
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Virtual Tour Modal -->
    <div class="modal fade" id="virtualTourModal" tabindex="-1" aria-labelledby="virtualTourModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="virtualTourModalLabel">Virtual Tour</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <div class="d-flex flex-column h-100">
                        <!-- Tour Location Selector -->
                        <div class="bg-light p-2 border-bottom">
                            <select class="form-select" id="tour-location-selector">
                                <option value="lobby">Hotel Lobby</option>
                                <option value="pool">Swimming Pool</option>
                                <option value="restaurant">Restaurant</option>
                                <option value="spa">Spa & Wellness</option>
                                <option value="garden">Garden</option>
                                <option value="suite">Suite Preview</option>
                            </select>
                        </div>
                        
                        <!-- Tour Viewer -->
                        <div class="position-relative flex-grow-1 overflow-hidden" id="tour-container">
                            <div class="d-flex justify-content-center align-items-center h-100 w-100" id="tour-placeholder">
                                <div id="tour-view" class="w-100 h-100">
                                    <img src="img/virtual-tour-lobby.jpg" class="img-fluid tour-image w-100 h-100 object-fit-cover" alt="Virtual Tour" id="tour-image">
                                    
                                    <!-- Interactive hotspots -->
                                    <div class="tour-hotspot" style="top: 50%; left: 20%;" data-target="reception">
                                        <i class="bi bi-info-circle-fill"></i>
                                        <div class="hotspot-tooltip">Reception Desk</div>
                                    </div>
                                    
                                    <div class="tour-hotspot" style="top: 40%; left: 70%;" data-target="elevator">
                                        <i class="bi bi-info-circle-fill"></i>
                                        <div class="hotspot-tooltip">Elevators</div>
                                    </div>
                                    
                                    <div class="tour-navigation">
                                        <button class="btn btn-light rounded-circle tour-nav-btn" data-direction="left">
                                            <i class="bi bi-arrow-left"></i>
                                        </button>
                                        <button class="btn btn-light rounded-circle tour-nav-btn" data-direction="right">
                                            <i class="bi bi-arrow-right"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Service Tracker Modal -->
    <div class="modal fade" id="serviceTrackerModal" tabindex="-1" aria-labelledby="serviceTrackerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="serviceTrackerModalLabel">Order Tracking</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6 class="mb-3">Active Orders</h6>
                    <div id="active-orders-container">
                        <!-- Room Service Order -->
                        <div class="card mb-3 service-status-card active-service-card" data-service-id="rs-123456">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="card-title mb-0">Room Service Order</h6>
                                    <span class="badge bg-primary">In Progress</span>
                                </div>
                                <p class="card-text small mb-2">Order #RS-123456 - Placed at 19:42</p>
                                
                                <!-- Progress Tracker -->
                                <div class="progress-tracker mb-3">
                                    <div class="progress" style="height: 4px;">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between mt-1">
                                        <div class="progress-step completed" data-step="ordered">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Ordered</div>
                                        </div>
                                        <div class="progress-step completed" data-step="preparing">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Preparing</div>
                                        </div>
                                        <div class="progress-step active" data-step="on-way">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-arrow-repeat"></i>
                                            </div>
                                            <div class="progress-step-label">On the way</div>
                                        </div>
                                        <div class="progress-step" data-step="delivered">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-circle"></i>
                                            </div>
                                            <div class="progress-step-label">Delivered</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Live Order Tracking Map -->
                                <div class="card mb-3 bg-light">
                                    <div class="card-body p-2">
                                        <div class="d-flex align-items-center">
                                            <div class="delivery-avatar me-2">
                                                <i class="bi bi-person-circle fs-4"></i>
                                            </div>
                                            <div>
                                                <div class="fw-bold">Alex is bringing your order</div>
                                                <div class="estimated-time small">
                                                    <div class="d-flex align-items-center">
                                                        <div class="delivery-progress-bar me-2 flex-grow-1">
                                                            <div class="progress" style="height: 6px;">
                                                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" style="width: 65%"></div>
                                                            </div>
                                                        </div>
                                                        <span class="text-success fw-bold"><i class="bi bi-clock me-1"></i>8 min</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <button class="btn btn-sm btn-outline-primary view-details-btn" data-service-id="rs-123456">
                                        <i class="bi bi-list-ul me-1"></i> View Details
                                    </button>
                                    <button class="btn btn-sm btn-outline-primary contact-service-btn" data-service="room-service">
                                        <i class="bi bi-chat-dots me-1"></i> Contact
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Housekeeping Request -->
                        <div class="card mb-3 service-status-card active-service-card" data-service-id="hk-789012">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="card-title mb-0">Extra Towels</h6>
                                    <span class="badge bg-success">Completed</span>
                                </div>
                                <p class="card-text small mb-2">Request #HK-789012 - Placed at 18:15</p>
                                
                                <!-- Progress Tracker -->
                                <div class="progress-tracker mb-3">
                                    <div class="progress" style="height: 4px;">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between mt-1">
                                        <div class="progress-step completed">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Requested</div>
                                        </div>
                                        <div class="progress-step completed">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Assigned</div>
                                        </div>
                                        <div class="progress-step completed">
                                            <div class="progress-step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <div class="progress-step-label">Delivered</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Service Rating -->
                                <div class="card mb-3 bg-light">
                                    <div class="card-body p-2">
                                        <div class="text-center">
                                            <div class="mb-2">How was this service?</div>
                                            <div class="service-rating">
                                                <i class="bi bi-star fs-4 rating-star" data-rating="1"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="2"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="3"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="4"></i>
                                                <i class="bi bi-star fs-4 rating-star" data-rating="5"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="text-muted small">
                                        <i class="bi bi-check-circle me-1"></i> Completed at 18:27
                                    </div>
                                    <div>
                                        <button class="btn btn-sm btn-outline-secondary dismiss-service-btn" data-service-id="hk-789012">
                                            Dismiss
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- No Active Orders Message (hidden initially) -->
                        <div class="text-center py-4 d-none" id="no-active-orders">
                            <div class="text-muted mb-2">
                                <i class="bi bi-inbox fs-1"></i>
                            </div>
                            <h6>No Active Orders</h6>
                            <p class="text-muted small">Your service requests will appear here</p>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <h6 class="mb-3">Order History</h6>
                    <div class="list-group">
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">Room Service - Dinner</h6>
                                <small class="text-muted">Yesterday</small>
                            </div>
                            <p class="mb-1 small">Club Sandwich, Caesar Salad, Sparkling Water</p>
                            <div class="d-flex align-items-center justify-content-between">
                                <div>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-half text-warning"></i>
                                    <span class="small ms-1">4.5</span>
                                </div>
                                <button class="btn btn-sm btn-outline-primary order-again-btn" data-order-id="rs-111222">
                                    Order Again
                                </button>
                            </div>
                        </div>
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">Room Cleaning</h6>
                                <small class="text-muted">2 days ago</small>
                            </div>
                            <p class="mb-1 small">Full Room Cleaning Service</p>
                            <div>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star text-warning"></i>
                                <span class="small ms-1">4.0</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#roomServiceModal">
                        <i class="bi bi-plus-circle me-1"></i> New Order
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Real-time Notification Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 9999;">
        <!-- Toasts will be dynamically added here -->
    </div>

    <!-- Active Requests Modal -->
    <div class="modal fade" id="activeRequestsModal" tabindex="-1" aria-hidden="true">
        <!-- Modal content here -->
    </div>

    <!-- Profile Modal -->
    <div class="modal fade" id="profileModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <div class="display-1 mb-3">
                            <i class="bi bi-person-circle"></i>
                        </div>
                        <h4>John Doe</h4>
                        <p class="text-muted">Gold Member</p>
                    </div>
                    
                    <div class="card mb-4">
                        <div class="card-header">
                            <h5 class="mb-0">Stay Information</h5>
                        </div>
                        <div class="card-body">
                            <div class="row mb-3">
                                <div class="col-5 text-muted">Check-in:</div>
                                <div class="col-7">June 15, 2023 (3:00 PM)</div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-5 text-muted">Check-out:</div>
                                <div class="col-7">June 20, 2023 (12:00 PM)</div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-5 text-muted">Room:</div>
                                <div class="col-7">302 - Deluxe Ocean View</div>
                            </div>
                            <div class="row">
                                <div class="col-5 text-muted">Guests:</div>
                                <div class="col-7">2 Adults</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mb-4">
                        <div class="card-header">
                            <h5 class="mb-0">Preferences</h5>
                        </div>
                        <div class="card-body">
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="dailyCleaningSwitch" checked>
                                <label class="form-check-label" for="dailyCleaningSwitch">Daily Room Cleaning</label>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="turndownServiceSwitch">
                                <label class="form-check-label" for="turndownServiceSwitch">Evening Turndown Service</label>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="notificationsSwitch" checked>
                                <label class="form-check-label" for="notificationsSwitch">Push Notifications</label>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="ecoModeSwitch" checked>
                                <label class="form-check-label" for="ecoModeSwitch">Eco-Friendly Mode</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <a href="index.html" class="btn btn-outline-danger">Sign Out</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Post Modal -->
    <div class="modal fade" id="createPostModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">管關菅恝款官慣 館郭管管</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <div class="d-flex align-items-center mb-3">
                            <img src="img/avatar-1.jpg" class="rounded-circle me-2" width="40" height="40" alt="Profile">
                            <div>
                                <h6 class="mb-0">菅觀串管 灌關慣官恝 204</h6>
                                <small class="text-muted">管關菅慣 慣館郭管管</small>
                            </div>
                        </div>
                        <textarea class="form-control mb-3" rows="3" placeholder="課菅 觀串琯琯;"></textarea>
                        <div class="upload-preview p-2 rounded mb-3" style="background-color: #f8f9fa; display: none;">
                            <div class="position-relative">
                                <img src="" alt="Upload Preview" class="img-fluid rounded d-none" id="uploadPreview">
                                <video src="" class="img-fluid rounded d-none" id="videoPreview" controls></video>
                                <button class="btn btn-sm btn-light position-absolute top-0 end-0 m-2 rounded-circle" id="removeMediaBtn">
                                    <i class="bi bi-x"></i>
                                </button>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <button class="btn btn-light rounded-circle me-2" id="uploadPhotoBtn">
                                    <i class="bi bi-image"></i>
                                </button>
                                <button class="btn btn-light rounded-circle me-2" id="uploadVideoBtn">
                                    <i class="bi bi-camera-video"></i>
                                </button>
                                <button class="btn btn-light rounded-circle me-2">
                                    <i class="bi bi-geo-alt"></i>
                                </button>
                                <button class="btn btn-light rounded-circle me-2">
                                    <i class="bi bi-emoji-smile"></i>
                                </button>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="earnPointsSwitch" checked>
                                <label class="form-check-label" for="earnPointsSwitch">串灌菅琯 館恝</label>
                            </div>
                        </div>
                        <input type="file" id="photoInput" class="d-none" accept="image/*">
                        <input type="file" id="videoInput" class="d-none" accept="video/*">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">觀管</button>
                    <button type="button" class="btn btn-primary" id="publishPostBtn">管關恝官琯管</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Story Viewer Modal -->
    <div class="modal fade" id="storyViewerModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content bg-dark">
                <div class="modal-body p-0">
                    <div class="story-viewer-container position-relative h-100">
                        <!-- Story Progress Bar -->
                        <div class="story-progress-container d-flex position-absolute top-0 start-0 end-0 p-2">
                            <div class="progress story-progress flex-grow-1 mx-1" style="height: 3px;">
                                <div class="progress-bar bg-white" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                        
                        <!-- Story Header -->
                        <div class="story-header position-absolute top-0 start-0 end-0 p-3 pt-4 d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center">
                                <img src="img/avatar-3.jpg" class="rounded-circle me-2 border border-2 border-white" width="40" height="40" alt="User">
                                <div class="text-white">
                                    <h6 class="mb-0">慣官慣 .</h6>
                                    <small class="text-white-50">菅館 35 貫琯郭</small>
                                </div>
                            </div>
                            <button class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        
                        <!-- Story Content -->
                        <div class="story-content h-100 d-flex align-items-center justify-content-center">
                            <img src="img/experiences/beach-sunset.jpg" class="img-fluid" alt="Story Image">
                        </div>
                        
                        <!-- Story Navigation -->
                        <div class="story-nav position-absolute top-0 bottom-0 start-0 end-0 d-flex">
                            <div class="story-nav-prev flex-grow-1" style="cursor: pointer;"></div>
                            <div class="story-nav-next flex-grow-1" style="cursor: pointer;"></div>
                        </div>
                        
                        <!-- Story Footer -->
                        <div class="story-footer position-absolute bottom-0 start-0 end-0 p-3 d-flex align-items-center">
                            <div class="input-group">
                                <input type="text" class="form-control bg-dark border-secondary text-white" placeholder="郭館管管...">
                                <button class="btn btn-outline-light rounded-end" type="button">
                                    <i class="bi bi-send"></i>
                                </button>
                            </div>
                            <button class="btn btn-outline-light rounded-circle ms-2">
                                <i class="bi bi-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Initialize the app after DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Fix for strikethrough on disabled preferences
            const preferenceLabels = document.querySelectorAll('.form-check-label');
            preferenceLabels.forEach(label => {
                label.style.textDecoration = 'none';
            });
            
            // Make sure new labels are also fixed if added dynamically
            const observer = new MutationObserver(mutations => {
                mutations.forEach(mutation => {
                    if (mutation.addedNodes && mutation.addedNodes.length > 0) {
                        const newLabels = document.querySelectorAll('.form-check-label');
                        newLabels.forEach(label => {
                            label.style.textDecoration = 'none';
                        });
                    }
                });
            });
            
            observer.observe(document.body, { childList: true, subtree: true });
        });
    </script>
    <script>
        // Tab navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Fix for strikethrough on disabled preferences
            const preferenceLabels = document.querySelectorAll('.form-check-label');
            preferenceLabels.forEach(label => {
                label.style.textDecoration = 'none';
            });
            
            const navItems = document.querySelectorAll('.mobile-nav-item');
            const tabContents = document.querySelectorAll('.tab-content');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding content
                    const tabName = this.getAttribute('data-tab');
                    tabContents.forEach(content => content.classList.add('d-none'));
                    document.getElementById(`${tabName}-content`).classList.remove('d-none');
                    
                    // Scroll to top of the page (only for bottom navigation tabs)
                    window.scrollTo(0, 0);
                });
            });

            // Remove scroll to top behavior for internal tabs
            const internalTabs = document.querySelectorAll('.nav-tabs .nav-link');
            internalTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // No scroll to top for internal tabs
                });
            });

            // Handle the chat with concierge button in the help modal
            const chatWithConcierge = document.getElementById('chat-with-concierge');
            if (chatWithConcierge) {
                chatWithConcierge.addEventListener('click', function() {
                    // Switch to concierge tab
                    const conciergeTab = document.querySelector('.mobile-nav-item[data-tab="concierge"]');
                    conciergeTab.click();
                    
                    // Focus on the chat input
                    setTimeout(() => {
                        const chatInput = document.getElementById('global-chat-input');
                        if (chatInput) {
                            chatInput.focus();
                            chatInput.value = "I need help with ";
                        }
                    }, 300);
                });
            }

            // Initialize horizontal scrolling for suggestion chips
            const suggestionsContainer = document.querySelector('.suggestion-chips');
            if (suggestionsContainer) {
                // Allow mouse wheel to scroll horizontally
                suggestionsContainer.addEventListener('wheel', function(e) {
                    if (e.deltaY !== 0) {
                        e.preventDefault();
                        this.scrollLeft += e.deltaY;
                    }
                });
            }
        });
    </script>
    <script>
        // Initialize the app after DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Tab navigation functionality
            const mobileTabs = {
                'home': document.querySelector('.home-content'),
                'concierge': document.querySelector('.concierge-content'),
                'services': document.querySelector('.services-content'),
                'experience': document.querySelector('.experience-content'),
                'moments': document.querySelector('.moments-content')
            };
            
            const navItems = document.querySelectorAll('.mobile-nav-item');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show the correct tab content
                    const tabName = this.getAttribute('data-tab');
                    Object.values(mobileTabs).forEach(tab => tab.style.display = 'none');
                    mobileTabs[tabName].style.display = 'block';
                    
                    // Scroll to top of the page (only for bottom navigation tabs)
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            });
            
            // Handle internal tab navigation for Services
            const internalTabs = document.querySelectorAll('.nav-tabs .nav-link');
            internalTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const id = tab.getAttribute('id');
                    console.log(`Tab ${id} clicked`);
                });
            });
            
            // Concierge chat suggestions
            const conciergeTab = document.querySelector('.mobile-nav-item[data-tab="concierge"]');
            const suggestionsBtn = document.querySelectorAll('.suggestion-btn');
            
            suggestionsBtn.forEach(btn => {
                btn.addEventListener('click', function() {
                    const chatInput = document.getElementById('global-chat-input');
                    chatInput.value = this.textContent;
                    conciergeTab.click(); // Switch to concierge tab
                    chatInput.focus();
                });
            });
            
            // Initialize Moments functionality
            initMoments();
        });
        
        function initMoments() {
            // Story viewer
            const storyCircles = document.querySelectorAll('.story-circle');
            const storyViewerModal = new bootstrap.Modal(document.getElementById('storyViewerModal'));
            
            storyCircles.forEach(story => {
                story.addEventListener('click', () => {
                    storyViewerModal.show();
                    
                    // Start progress animation
                    const progressBar = document.querySelector('.story-progress .progress-bar');
                    progressBar.style.width = '0%';
                    progressBar.style.transition = 'width 5s linear';
                    
                    setTimeout(() => {
                        progressBar.style.width = '100%';
                    }, 100);
                    
                    // Auto close after story duration
                    setTimeout(() => {
                        storyViewerModal.hide();
                    }, 5100);
                });
            });
            
            // Story navigation
            const storyNavPrev = document.querySelector('.story-nav-prev');
            const storyNavNext = document.querySelector('.story-nav-next');
            
            storyNavPrev.addEventListener('click', () => {
                // Navigate to previous story (would implement actual logic in a real app)
                storyViewerModal.hide();
            });
            
            storyNavNext.addEventListener('click', () => {
                // Navigate to next story (would implement actual logic in a real app)
                storyViewerModal.hide();
            });
            
            // Photo upload preview
            const photoInput = document.getElementById('photoInput');
            const uploadPhotoBtn = document.getElementById('uploadPhotoBtn');
            const uploadPreview = document.getElementById('uploadPreview');
            const uploadPreviewContainer = document.querySelector('.upload-preview');
            const videoPreview = document.getElementById('videoPreview');
            
            uploadPhotoBtn.addEventListener('click', () => {
                photoInput.click();
            });
            
            photoInput.addEventListener('change', (e) => {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = (e) => {
                        uploadPreview.src = e.target.result;
                        uploadPreview.classList.remove('d-none');
                        videoPreview.classList.add('d-none');
                        uploadPreviewContainer.style.display = 'block';
                    };
                    
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            // Video upload preview
            const videoInput = document.getElementById('videoInput');
            const uploadVideoBtn = document.getElementById('uploadVideoBtn');
            
            uploadVideoBtn.addEventListener('click', () => {
                videoInput.click();
            });
            
            videoInput.addEventListener('change', (e) => {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = (e) => {
                        videoPreview.src = e.target.result;
                        videoPreview.classList.remove('d-none');
                        uploadPreview.classList.add('d-none');
                        uploadPreviewContainer.style.display = 'block';
                    };
                    
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            // Remove media preview
            const removeMediaBtn = document.getElementById('removeMediaBtn');
            
            removeMediaBtn.addEventListener('click', () => {
                uploadPreview.src = '';
                videoPreview.src = '';
                uploadPreview.classList.add('d-none');
                videoPreview.classList.add('d-none');
                uploadPreviewContainer.style.display = 'none';
                photoInput.value = '';
                videoInput.value = '';
            });
            
            // Publish post
            const publishPostBtn = document.getElementById('publishPostBtn');
            const createPostModal = new bootstrap.Modal(document.getElementById('createPostModal'));
            
            publishPostBtn.addEventListener('click', () => {
                // In a real app, would send post data to server here
                createPostModal.hide();
                
                // Show success notification
                const pointsEarned = Math.floor(Math.random() * 20) + 10; // Random points between 10-30
                showNotification('菅冠 管關恝官琯管', ` 慣館郭管冠 慣 灌管關恝菅琯管觀琯 觀慣菅 觀琯灌官慣琯 ${pointsEarned} 館恝!`);
                
                // Reset form
                removeMediaBtn.click();
                document.querySelector('textarea').value = '';
            });
            
            // Like functionality for posts
            const heartBtns = document.querySelectorAll('.post-card .bi-heart');
            
            heartBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const isLiked = this.classList.contains('bi-heart-fill');
                    const countEl = this.parentNode.querySelector('span') || this.nextSibling;
                    let count = parseInt(this.nextSibling?.textContent || countEl?.textContent || this.parentNode.textContent.trim().replace(/[^\d]/g, ''));
                    
                    if (isLiked) {
                        this.classList.remove('bi-heart-fill', 'text-danger');
                        this.classList.add('bi-heart');
                        count--;
                    } else {
                        this.classList.remove('bi-heart');
                        this.classList.add('bi-heart-fill', 'text-danger');
                        count++;
                    }
                    
                    // Update count text
                    this.parentNode.innerHTML = `<i class="${this.className}"></i> ${count}`;
                });
            });
            
            // Add story button
            const addStoryBtn = document.querySelector('.story-add-circle');
            
            addStoryBtn.addEventListener('click', () => {
                // In a real app, would show story creation UI
                showNotification('管關菅恝款官慣 恝官慣', '冠 管 貫琯菅恝款官慣 罐慣 琯官館慣菅 灌菅慣罐串菅關管 館恝關慣!');
            });
        }
        
        // Simple notification function
        function showNotification(title, message) {
            const notificationHTML = `
                <div class="toast-container position-fixed top-0 end-0 p-3">
                    <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="toast-header">
                            <strong class="me-auto">${title}</strong>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                        <div class="toast-body">
                            ${message}
                        </div>
                    </div>
                </div>
            `;
            
            // Add to DOM
            const container = document.createElement('div');
            container.innerHTML = notificationHTML;
            document.body.appendChild(container);
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                container.remove();
            }, 3000);
        }
    </script>
</body>
</html>