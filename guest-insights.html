<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>360° Guest View | e-Philoxenia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        :root {
            --primary: #1a73e8;
            --primary-light: #4a88e0;
            --primary-dark: #0d5bdd;
            --secondary: #f8f9fa;
            --light-gray: #f2f4f8;
            --medium-gray: #e9ecef;
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --accent-blue: #ebf4ff;
            --nav-hover: #eef5ff;
            --border-color: #e2e8f0;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.04);
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--secondary);
            color: var(--text-primary);
        }
        
        /* Sidebar styling */
        .sidebar {
            background-color: white;
            border-right: 1px solid var(--border-color);
            width: 260px;
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0,0,0,0.03);
        }
        
        .sidebar-logo {
            height: 40px;
        }
        
        .brand-logo {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.3rem;
        }



        .sidebar-logo {
            height: 50px;
            width: 200px;
        }

        .sidebar-logo img {
            height: 50px;
            width: 200px;
        }


        .nav-link {
            color: var(--text-secondary);
            font-weight: 500;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 4px 12px;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
        }
        
        .nav-link i {
            font-size: 1.1rem;
            margin-right: 12px;
            color: var(--text-secondary);
            transition: all 0.2s ease;
        }
        
        .nav-link:hover {
            background-color: var(--nav-hover);
            color: var(--primary);
        }
        
        .nav-link:hover i {
            color: var(--primary);
        }
        
        .nav-link.active {
            background-color: var(--accent-blue);
            color: var(--primary);
            font-weight: 600;
        }
        
        .nav-link.active i {
            color: var(--primary);
        }
        
        /* Main content styling */
        .main-content {
            margin-left: 260px;
            padding: 24px 32px;
        }
        
        /* Card styling */
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            margin-bottom: 24px;
            background-color: white;
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.05);
        }
        
        .card-title {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        /* Button styling */
        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            border-radius: 8px;
            font-weight: 500;
            padding: 8px 16px;
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
            transform: translateY(-1px);
        }
        
        .btn-outline-primary {
            color: var(--primary);
            border-color: var(--primary);
            border-radius: 8px;
            font-weight: 500;
            padding: 8px 16px;
            transition: all 0.2s ease;
        }
        
        .btn-outline-primary:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-1px);
        }
        
        /* Section navigation */
        .section-nav {
            background-color: white;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 24px;
            box-shadow: var(--card-shadow);
        }
        
        .section-nav .btn {
            margin: 4px 8px;
            border-radius: 30px;
            font-weight: 500;
            padding: 8px 18px;
            background-color: var(--secondary);
            border: none;
            color: var(--text-secondary);
            transition: all 0.2s ease;
        }
        
        .section-nav .btn:hover {
            background-color: var(--accent-blue);
            color: var(--primary);
        }
        
        .section-nav .btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        /* Ensure sustainability icon is visible */
        .nav-link[href="sustainability.html"] i.bi-tree-fill {
            display: inline-block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        /* Ensure marketing suite icon is visible */
        .nav-link[href="marketing-suite.html"] i.bi-megaphone {
            display: inline-block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        /* Ensure guest app settings icon is visible */
        .nav-link[href="guest-app-settings.html"] i.bi-phone {
            display: inline-block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        /* Card highlight animation */
        .card.highlight {
            animation: highlightCard 2s ease-out;
        }
        
        @keyframes highlightCard {
            0% {
                box-shadow: 0 0 0 0 rgba(26, 115, 232, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(26, 115, 232, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(26, 115, 232, 0);
            }
        }
        
        /* Add IDs to sections */
        .section-id {
            scroll-margin-top: 100px;
            padding-top: 20px;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            margin-bottom: 1rem;
        }
        
        /* Mobile responsive styles */
        /* Responsive adjustments */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
                padding: 0;
            }
            
            .sidebar .nav-link span,
            .sidebar .brand-logo {
                display: none;
            }
            
            .sidebar .nav-link {
                justify-content: center;
                padding: 12px;
                margin: 4px 8px;
            }
            
            .sidebar .nav-link i {
                margin-right: 0;
                font-size: 1.2rem;
            }
            
            .main-content {
                margin-left: 70px;
                padding: 16px;
            }
        }
        
        /* Additional mobile optimizations */
        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
                padding: 12px;
            }
            
            .sidebar {
                width: 0;
                transform: translateX(-260px);
                z-index: 1050;
                padding-top: 60px; /* Make room for the toggle button */
                background-color: white;
                box-shadow: 0 0 15px rgba(0,0,0,0.1);
            }
            
            .sidebar.show {
                width: 260px;
                transform: translateX(0);
            }
            
            /* Show text in sidebar on mobile when expanded */
            .sidebar .nav-link span,
            .sidebar .brand-logo {
                display: inline-block;
            }
            
            /* Fix sidebar item alignment */
            .sidebar .nav-link {
                justify-content: flex-start;
                text-align: left;
                padding: 12px 20px;
                margin: 3px 10px;
            }
            
            .sidebar .nav-link i {
                margin-right: 12px;
            }
            
            /* Logo styling in sidebar */
            .sidebar .p-3.border-bottom {
                padding-top: 10px !important;
                padding-bottom: 10px !important;
                position: fixed;
                top: 0;
                width: 100%;
                background: white;
                z-index: 1;
            }
            
            /* Default position of toggle button */
            .sidebar-toggle {
                display: block;
                left: 10px;
                transition: left 0.3s ease;
            }
            
            /* Position for open sidebar */
            .sidebar-toggle.moved {
                left: 220px;
                transition: left 0.3s ease;
            }
            
            /* Responsive header for mobile */
            .d-flex.justify-content-between.align-items-center.mb-4 {
                flex-direction: column;
                align-items: flex-start !important;
            }
            
            .d-flex.justify-content-between.align-items-center.mb-4 > div:last-child {
                margin-top: 10px;
                align-self: flex-start;
            }
            
            /* Make guest cards stack on mobile */
            .card .row .col-md-4 {
                margin-bottom: 15px;
            }
            
            /* Table responsiveness */
            .table-responsive {
                margin-bottom: 0;
            }
            
            .reviews-container .review-item {
                padding: 10px;
            }
            
            /* Sentiment analysis responsiveness */
            .sentiment-gauge {
                margin-top: 10px;
            }
            
            .chart-container {
                height: 250px;
            }
            
            /* Center header title and description on mobile */
            .dashboard-header .col-12:first-child {
                text-align: center;
            }
            
            /* Center export button on mobile */
            .dashboard-header .col-12.text-end {
                text-align: center !important;
            }
        }
        
        /* Small phone adjustments */
        @media (max-width: 576px) {
            .main-content {
                padding: 10px;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .card-title {
                font-size: 1rem;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .section-nav {
                overflow-x: auto;
                white-space: nowrap;
                padding: 8px;
            }
            
            .section-nav .btn {
                padding: 6px 12px;
                font-size: 0.8rem;
                margin: 2px 4px;
            }
            
            /* Make chart containers smaller on small phones */
            .chart-container, 
            canvas#sentiment-chart, 
            canvas#age-distribution-chart, 
            canvas#guest-preferences-chart {
                height: 200px !important;
                max-height: 200px !important;
            }
            
            /* Increase card readability on small screens */
            .review-item .d-flex {
                flex-direction: column;
                align-items: flex-start !important;
            }
            
            .review-item .rating {
                margin-top: 5px;
            }
            
            /* Improve badge display on small screens */
            .review-item .mt-2.d-flex {
                flex-wrap: wrap;
            }
            
            .review-item .badge {
                margin-bottom: 5px;
            }
            
            /* Improve table display on small screens */
            .table th, .table td {
                padding: 0.5rem;
                font-size: 0.875rem;
            }
        }
        
        /* Toggle sidebar button */
        .sidebar-toggle {
            display: none;
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 1060;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            text-align: center;
            line-height: 40px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 768px) {
            .sidebar-toggle {
                display: block;
            }
            
            .sidebar {
                padding-top: 60px; /* Make room for the toggle button */
            }
            
            /* Position the toggle button inside the sidebar when it's open */
            .sidebar.show + .sidebar-toggle {
                color: white;
                left: 220px;
                transition: left 0.3s ease;
            }
            
            /* Move sidebar toggle back when sidebar is closed */
            .sidebar:not(.show) + .sidebar-toggle {
                left: 10px;
                transition: left 0.3s ease;
            }
        }
        
        /* Overlay for mobile sidebar */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1040;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Sidebar Toggle Button for Mobile -->
    <button class="sidebar-toggle" id="sidebarToggle">
        <i class="bi bi-list" id="toggleIcon"></i>
    </button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="p-3 border-bottom">
            <div class="d-flex align-items-center">
                <div class='sidebar-logo'> <img src="img/fullLogoLight.jpg" alt="tripkey Logo"></div>
            </div>
        </div>
        <div class="pt-3">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="hotel-dashboard.html">
                        <i class="bi bi-speedometer2"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="guest-insights.html">
                        <i class="bi bi-people"></i>
                        <span>360° Guest View</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="marketing-suite.html">
                        <i class="bi bi-megaphone"></i>
                        <span>Marketing Suite</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="guest-app-settings.html">
                        <i class="bi bi-phone"></i>
                        <span>Guest App Settings</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="sustainability.html">
                        <i class="bi bi-tree-fill"></i>
                        <span>Sustainability</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="gamified-rewards.html">
                        <i class="bi bi-trophy"></i>
                        <span>Gamified Feedback Rewards</span>
                    </a>
                </li>
                <li class="nav-item mt-5">
                    <a class="nav-link" href="settings.html">
                        <i class="bi bi-sliders"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="index.html">
                        <i class="bi bi-box-arrow-left"></i>
                        <span>Logout</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="dashboard-header mb-4">
            <div class="row">
                <div class="col-12 mb-3">
                    <h2 class="mb-0 fw-bold">360° Guest View</h2>
                    <p class="text-muted">Understand your guests with data insights</p>
                </div>
                <div class="col-12 text-end">
                    <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#exportModal">
                        <i class="bi bi-download me-1"></i> Export Data
                    </button>
                </div>
            </div>
        </div>

        <!-- Section Navigation -->
        <div class="section-nav">
            <div class="d-flex flex-nowrap overflow-auto py-1">
                <button class="btn active" data-section="guest-intelligence">Guest Intelligence</button>
                <button class="btn" data-section="analytics">Analytics</button>
                <button class="btn" data-section="alerts">Alerts</button>
            </div>
        </div>

        <!-- Key Guest Metrics -->
        <div class="row mb-4 section-id" id="guest-intelligence">
            <div class="col-md-6 col-lg-3 mb-3">
                <div class="card dashboard-card">
                    <div class="card-body">
                        <div class="stat-label">Total Guests</div>
                        <div class="stat-value">1,248</div>
                        <div class="d-flex align-items-center">
                            <span class="text-success me-1"><i class="bi bi-arrow-up"></i> 12%</span>
                            <small class="text-muted">vs last period</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 mb-3">
                <div class="card dashboard-card">
                    <div class="card-body">
                        <div class="stat-label">Avg. Stay Duration</div>
                        <div class="stat-value">3.8 <small>nights</small></div>
                        <div class="d-flex align-items-center">
                            <span class="text-success me-1"><i class="bi bi-arrow-up"></i> 0.5</span>
                            <small class="text-muted">vs last period</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 mb-3">
                <div class="card dashboard-card">
                    <div class="card-body">
                        <div class="stat-label">Repeat Guests</div>
                        <div class="stat-value">22<small>%</small></div>
                        <div class="d-flex align-items-center">
                            <span class="text-success me-1"><i class="bi bi-arrow-up"></i> 3%</span>
                            <small class="text-muted">vs last period</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 mb-3">
                <div class="card dashboard-card">
                    <div class="card-body">
                        <div class="stat-label">Avg. Guest Spending</div>
                        <div class="stat-value">€185</div>
                        <div class="d-flex align-items-center">
                            <span class="text-success me-1"><i class="bi bi-arrow-up"></i> €15</span>
                            <small class="text-muted">vs last period</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 mb-3">
                <div class="card dashboard-card">
                    <div class="card-body">
                        <div class="stat-label">Guest Satisfaction</div>
                        <div class="stat-value" id="guest-satisfaction">4.7</div>
                        <div class="d-flex align-items-center">
                            <span class="text-success me-1"><i class="bi bi-arrow-up"></i> 0.2</span>
                            <small class="text-muted">vs last period</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Individual Guest Profiles -->
        <div class="card dashboard-card mb-4">
            <div class="card-body">
                <h5 class="card-title">Individual Guest Profiles</h5>
                <p class="text-muted">Get a dynamic, evolving view of each guest needs, preferences, behavior, and emotional insights all automatically summarized for your team.</p>
                
                <div class="row mb-4">
                    <div class="col-md-4 mb-3">
                        <div class="card h-100 border">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="avatar-container me-3">
                                        <img src="img/avatar-1.jpg" alt="Guest Photo" class="rounded-circle" width="60" height="60">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Maria Johnson</h6>
                                        <p class="text-muted mb-0 small">Guest since: March 2022</p>
                                        <div class="badge bg-primary mt-1">Repeat Guest</div>
                                    </div>
                                </div>
                                <div class="preferences mb-3">
                                    <h6 class="text-primary small fw-bold">Preferences</h6>
                                    <ul class="list-unstyled small">
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> High floor rooms</li>
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Vegetarian meals</li>
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Early check-in when possible</li>
                                    </ul>
                                </div>
                                <div class="behavior mb-3">
                                    <h6 class="text-primary small fw-bold">Behavior Insights</h6>
                                    <ul class="list-unstyled small">
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Books 3+ months in advance</li>
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Typically stays 4-5 nights</li>
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Prefers spa services</li>
                                    </ul>
                                </div>
                                <div class="emotional-insights">
                                    <h6 class="text-primary small fw-bold">Emotional Insights</h6>
                                    <div class="small">Values personalized service and remembering her preferences from past stays.</div>
                                </div>
                                <div class="mt-3">
                                    <button class="btn btn-sm btn-outline-primary w-100">View Full Profile</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <div class="card h-100 border">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="avatar-container me-3">
                                        <img src="img/avatar-2.jpg" alt="Guest Photo" class="rounded-circle" width="60" height="60">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">David Wilson</h6>
                                        <p class="text-muted mb-0 small">Guest since: June 2023</p>
                                        <div class="badge bg-info mt-1">Business Traveler</div>
                                    </div>
                                </div>
                                <div class="preferences mb-3">
                                    <h6 class="text-primary small fw-bold">Preferences</h6>
                                    <ul class="list-unstyled small">
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Quiet rooms away from elevator</li>
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Extra towels</li>
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Late check-out when available</li>
                                    </ul>
                                </div>
                                <div class="behavior mb-3">
                                    <h6 class="text-primary small fw-bold">Behavior Insights</h6>
                                    <ul class="list-unstyled small">
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Books 1-2 weeks in advance</li>
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Typically stays 2-3 nights</li>
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Uses in-room work amenities</li>
                                    </ul>
                                </div>
                                <div class="emotional-insights">
                                    <h6 class="text-primary small fw-bold">Emotional Insights</h6>
                                    <div class="small">Appreciates efficiency and minimal disruptions during his stay.</div>
                                </div>
                                <div class="mt-3">
                                    <button class="btn btn-sm btn-outline-primary w-100">View Full Profile</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <div class="card h-100 border">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="avatar-container me-3">
                                        <img src="img/avatar-3.jpg" alt="Guest Photo" class="rounded-circle" width="60" height="60">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Emma Rodriguez</h6>
                                        <p class="text-muted mb-0 small">Guest since: August 2023</p>
                                        <div class="badge bg-success mt-1">Family Traveler</div>
                                    </div>
                                </div>
                                <div class="preferences mb-3">
                                    <h6 class="text-primary small fw-bold">Preferences</h6>
                                    <ul class="list-unstyled small">
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Connecting rooms</li>
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Kid-friendly amenities</li>
                                        <li><i class="bi bi-check-circle-fill text-success me-1"></i> Pool access important</li>
                                    </ul>
                                </div>
                                <div class="behavior mb-3">
                                    <h6 class="text-primary small fw-bold">Behavior Insights</h6>
                                    <ul class="list-unstyled small">
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Books 1-2 months in advance</li>
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> Typically stays 7+ nights</li>
                                        <li><i class="bi bi-graph-up text-primary me-1"></i> High restaurant utilization</li>
                                    </ul>
                                </div>
                                <div class="emotional-insights">
                                    <h6 class="text-primary small fw-bold">Emotional Insights</h6>
                                    <div class="small">Values family-friendly atmosphere and activities for children.</div>
                                </div>
                                <div class="mt-3">
                                    <button class="btn btn-sm btn-outline-primary w-100">View Full Profile</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button class="btn btn-primary">
                        <i class="bi bi-people me-2"></i>View All Guest Profiles
                    </button>
                </div>
            </div>
        </div>

        <!-- Guest Feedback Analysis -->
        <div class="card dashboard-card mb-4">
            <div class="card-body">
                <h5 class="card-title">Sentiment Analysis & Reviews</h5>
                <p class="text-muted">AI-powered analysis of guest feedback</p>
                
                <div class="row mb-4">
                    <div class="col-md-12 col-lg-8 mb-3 mb-lg-0">
                        <h6 class="mb-3">Sentiment Trends (Last 6 Months)</h6>
                        <canvas id="sentiment-chart" style="height: 250px; max-height: 250px;"></canvas>
                    </div>
                    <div class="col-md-12 col-lg-4">
                        <h6 class="mb-3">Overall Sentiment</h6>
                        <div class="sentiment-gauge text-center mb-3">
                            <div class="progress" style="height: 12px;">
                                <div class="progress-bar bg-danger" style="width: 10%"></div>
                                <div class="progress-bar bg-warning" style="width: 15%"></div>
                                <div class="progress-bar bg-success" style="width: 75%"></div>
                            </div>
                            <div class="d-flex justify-content-between mt-1">
                                <small class="text-danger">Negative (10%)</small>
                                <small class="text-warning">Neutral (15%)</small>
                                <small class="text-success">Positive (75%)</small>
                            </div>
                        </div>
                        
                        <h6 class="mt-4 mb-3">Key Sentiment Topics</h6>
                        <div class="d-flex flex-wrap">
                            <span class="badge bg-success me-2 mb-2 p-2">Staff Service (93% +)</span>
                            <span class="badge bg-success me-2 mb-2 p-2">Room Cleanliness (89% +)</span>
                            <span class="badge bg-success me-2 mb-2 p-2">Breakfast Quality (86% +)</span>
                            <span class="badge bg-warning me-2 mb-2 p-2">WiFi Speed (65% +)</span>
                            <span class="badge bg-warning me-2 mb-2 p-2">Room Size (62% +)</span>
                            <span class="badge bg-danger me-2 mb-2 p-2">Bathroom Size (42% +)</span>
                            <span class="badge bg-danger me-2 mb-2 p-2">Noise Level (40% +)</span>
                        </div>
                    </div>
                </div>
                
                <h6 class="mb-3">Recent Reviews</h6>
                <div class="reviews-container">
                    <div class="review-item p-3 border-bottom">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div>
                                <h6 class="mb-0">Jennifer S.</h6>
                                <div class="small text-muted">Stayed June 12-15, 2023</div>
                            </div>
                            <div class="rating text-warning">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                            </div>
                        </div>
                        <p class="mb-0">The staff was incredibly helpful and attentive throughout our stay. The room was spotless and the view from our balcony was breathtaking. Breakfast had many options and everything was fresh. Would definitely recommend!</p>
                        <div class="mt-2 d-flex">
                            <span class="badge bg-success me-2">Staff Service</span>
                            <span class="badge bg-success me-2">Room Cleanliness</span>
                            <span class="badge bg-success me-2">Breakfast Quality</span>
                        </div>
                    </div>
                    
                    <div class="review-item p-3 border-bottom">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div>
                                <h6 class="mb-0">Richard M.</h6>
                                <div class="small text-muted">Stayed June 5-8, 2023</div>
                            </div>
                            <div class="rating text-warning">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star"></i>
                            </div>
                        </div>
                        <p class="mb-0">Great location and excellent service. The room was comfortable, although a bit small. The WiFi was a bit slow during peak hours. Overall, a pleasant stay and I would return.</p>
                        <div class="mt-2 d-flex">
                            <span class="badge bg-success me-2">Staff Service</span>
                            <span class="badge bg-warning me-2">Room Size</span>
                            <span class="badge bg-warning me-2">WiFi Speed</span>
                        </div>
                    </div>
                    
                    <div class="review-item p-3">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div>
                                <h6 class="mb-0">Maria G.</h6>
                                <div class="small text-muted">Stayed May 28-June 2, 2023</div>
                            </div>
                            <div class="rating text-warning">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star"></i>
                                <i class="bi bi-star"></i>
                            </div>
                        </div>
                        <p class="mb-0">The hotel staff was friendly and helpful. However, we could hear noise from the street and neighboring rooms. The bathroom was quite small and not very practical. Breakfast was great though!</p>
                        <div class="mt-2 d-flex">
                            <span class="badge bg-success me-2">Staff Service</span>
                            <span class="badge bg-success me-2">Breakfast Quality</span>
                            <span class="badge bg-danger me-2">Noise Level</span>
                            <span class="badge bg-danger me-2">Bathroom Size</span>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-3">
                    <button class="btn btn-outline-primary">View All Reviews</button>
                </div>
            </div>
        </div>
        
        <!-- Analytics Card -->
        <div class="card dashboard-card mb-4 section-id" id="analytics">
            <div class="card-body">
                <h5 class="card-title">Guest Analytics, Demographics & Personalization</h5>
                <p class="text-muted">Comprehensive guest data analysis, demographic trends, and personalization insights</p>
                
                <div class="row mb-4">
                    <div class="col-lg-6 col-md-12">
                        <h6 class="mb-3">Country of Origin</h6>
                        <div class="table-responsive">
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th>Country</th>
                                        <th>Guests</th>
                                        <th>%</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <img src="https://flagcdn.com/16x12/de.png" alt="Germany" class="me-1">
                                            Germany
                                        </td>
                                        <td>324</td>
                                        <td>26%</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <img src="https://flagcdn.com/16x12/gb.png" alt="UK" class="me-1">
                                            United Kingdom
                                        </td>
                                        <td>287</td>
                                        <td>23%</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <img src="https://flagcdn.com/16x12/fr.png" alt="France" class="me-1">
                                            France
                                        </td>
                                        <td>187</td>
                                        <td>15%</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <img src="https://flagcdn.com/16x12/us.png" alt="USA" class="me-1">
                                            USA
                                        </td>
                                        <td>162</td>
                                        <td>13%</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <img src="https://flagcdn.com/16x12/it.png" alt="Italy" class="me-1">
                                            Italy
                                        </td>
                                        <td>137</td>
                                        <td>11%</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <img src="https://flagcdn.com/16x12/ca.png" alt="Canada" class="me-1">
                                            Other
                                        </td>
                                        <td>151</td>
                                        <td>12%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-12">
                        <h6 class="mb-3">Age Distribution</h6>
                        <canvas id="age-distribution-chart" style="height: 250px; max-height: 250px;"></canvas>
                    </div>
                </div>
                
                <div class="row mb-4">
                    <div class="col-lg-8 col-md-12 mb-3 mb-lg-0">
                        <h6 class="mb-3">Guest Preferences</h6>
                        <div class="chart-container">
                            <canvas id="guest-preferences-chart"></canvas>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-12">
                        <h6 class="mb-3">Personalization Score</h6>
                        <div class="text-center mb-4">
                            <div class="display-4 text-primary">92%</div>
                            <p class="text-muted">Personalization Effectiveness</p>
                        </div>
                        <div class="list-group">
                            <div class="list-group-item">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">Room Preferences</h6>
                                    <span class="badge bg-success">High</span>
                                </div>
                                <p class="mb-0 small">Successfully matched 95% of guest preferences</p>
                            </div>
                            <div class="list-group-item">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">Amenity Selection</h6>
                                    <span class="badge bg-success">High</span>
                                </div>
                                <p class="mb-0 small">Accurate amenity recommendations for 90% of guests</p>
                            </div>
                            <div class="list-group-item">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">Communication Style</h6>
                                    <span class="badge bg-warning">Medium</span>
                                </div>
                                <p class="mb-0 small">Communication preferences matched for 75% of guests</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alerts Card -->
        <div class="card dashboard-card mb-4 section-id" id="alerts">
            <div class="card-body">
                <h5 class="card-title">Guest Alerts</h5>
                <p class="text-muted">Real-time alerts and notifications</p>
                
                <div class="list-group">
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h6 class="mb-0">VIP Guest Arrival</h6>
                            <span class="badge bg-success">High Priority</span>
                        </div>
                        <p class="mb-0">John Smith (Diamond Member) arriving today at 15:00</p>
                        <small class="text-muted">Last stay: 3 months ago</small>
                    </div>
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h6 class="mb-0">Special Request</h6>
                            <span class="badge bg-warning">Medium Priority</span>
                        </div>
                        <p class="mb-0">Room 304 requesting early check-in</p>
                        <small class="text-muted">Requested 2 hours ago</small>
                    </div>
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h6 class="mb-0">Guest Feedback</h6>
                            <span class="badge bg-info">Low Priority</span>
                        </div>
                        <p class="mb-0">New review from Room 205</p>
                        <small class="text-muted">Posted 30 minutes ago</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .recommendation-priority {
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.65rem;
            width: 85px;
            text-align: center;
            text-transform: uppercase;
            white-space: nowrap;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/guest-insights.js"></script>
    
    <!-- Initialize mobile sidebar toggle -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize mobile sidebar toggle
            initializeSidebarToggle();
            
            // Initialize section navigation if it exists
            if (document.querySelector('.section-nav')) {
                initializeSectionNavigation();
                
                // Set the first button as active by default
                const firstButton = document.querySelector('.section-nav .btn');
                if (firstButton && !document.querySelector('.section-nav .btn.active')) {
                    firstButton.classList.add('active');
                }
            }
        });
        
        // Initialize sidebar toggle for mobile
        function initializeSidebarToggle() {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            const toggleIcon = document.getElementById('toggleIcon');
            
            if (sidebarToggle && sidebar) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('show');
                    
                    // Toggle the moved class for the button position
                    sidebarToggle.classList.toggle('moved');
                    
                    // Change icon based on sidebar state
                    if (sidebar.classList.contains('show')) {
                        toggleIcon.classList.remove('bi-list');
                        toggleIcon.classList.add('bi-x-lg');
                    } else {
                        toggleIcon.classList.remove('bi-x-lg');
                        toggleIcon.classList.add('bi-list');
                    }
                    
                    // Add overlay when sidebar is shown on mobile
                    let overlay = document.querySelector('.sidebar-overlay');
                    
                    if (sidebar.classList.contains('show')) {
                        if (!overlay) {
                            overlay = document.createElement('div');
                            overlay.className = 'sidebar-overlay';
                            document.body.appendChild(overlay);
                            
                            // Close sidebar when overlay is clicked
                            overlay.addEventListener('click', function() {
                                sidebar.classList.remove('show');
                                sidebarToggle.classList.remove('moved');
                                toggleIcon.classList.remove('bi-x-lg');
                                toggleIcon.classList.add('bi-list');
                                overlay.remove();
                            });
                        }
                    } else if (overlay) {
                        overlay.remove();
                    }
                });
                
                // Close sidebar on window resize if it's in mobile view
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768) {
                        sidebar.classList.remove('show');
                        sidebarToggle.classList.remove('moved');
                        toggleIcon.classList.remove('bi-x-lg');
                        toggleIcon.classList.add('bi-list');
                        const overlay = document.querySelector('.sidebar-overlay');
                        if (overlay) {
                            overlay.remove();
                        }
                    }
                });
            }
        }
        
        function initializeSectionNavigation() {
            const navButtons = document.querySelectorAll('.section-nav .btn');
            const sections = document.querySelectorAll('.section-id');
            
            // Handle button clicks
            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetSection = button.getAttribute('data-section');
                    const section = document.getElementById(targetSection);
                    
                    if (section) {
                        // Remove active class from all buttons
                        navButtons.forEach(btn => btn.classList.remove('active'));
                        // Add active class to clicked button
                        button.classList.add('active');
                        
                        // Scroll to section
                        section.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        
                        // Highlight the section
                        section.classList.add('highlight');
                        setTimeout(() => {
                            section.classList.remove('highlight');
                        }, 2000);
                    }
                });
            });
            
            // Update active button based on scroll position
            window.addEventListener('scroll', () => {
                const scrollPosition = window.scrollY + 100;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionBottom = sectionTop + section.offsetHeight;
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                        const sectionId = section.id;
                        navButtons.forEach(btn => {
                            if (btn.getAttribute('data-section') === sectionId) {
                                btn.classList.add('active');
                            } else {
                                btn.classList.remove('active');
                            }
                        });
                    }
                });
            });
        }
    </script>
</body>
</html> 